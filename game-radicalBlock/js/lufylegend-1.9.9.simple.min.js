var OS_PC="pc",OS_IPHONE="iPhone",OS_IPOD="iPod",OS_IPAD="iPad",OS_ANDROID="Android",OS_WINDOWS_PHONE="Windows Phone",OS_BLACK_BERRY="BlackBerry",NONE="none",UNDEFINED="undefined",LANDSCAPE="landscape",PORTRAIT="portrait",mouseX,mouseY;function LEvent(a){this.eventType=a;this._ll_preventDefault=!1}LEvent.prototype.preventDefault=function(){this._ll_preventDefault=!0};LEvent.INIT="init";LEvent.COMPLETE="complete";LEvent.ENTER_FRAME="enter_frame";LEvent.WINDOW_RESIZE="resize";
LEvent.SOUND_COMPLETE="sound_complete";LEvent.END_CONTACT="endContact";LEvent.PRE_SOLVE="preSolve";LEvent.POST_SOLVE="postSolve";LEvent.BEGIN_CONTACT="beginContact";LEvent.addEventListener=function(a,d,c,b){null==b&&(b=!1);a.addEventListener?a.addEventListener(d,c,b):a.attachEvent&&(a["e"+d+c]=c,a[d+c]=function(){a["e"+d+c]()},a.attachEvent("on"+d,a[d+c]))};
LEvent.removeEventListener=function(a,d,c,b){null==b&&(b=!1);a.removeEventListener?a.removeEventListener(d,c,b):a.detachEvent&&(a["e"+d+c]=c,a[d+c]=function(){a["e"+d+c]()},a.detachEvent("on"+d,a[d+c]))};var LMouseEvent=function(){throw"LMouseEvent cannot be instantiated";};LMouseEvent.MOUSE_DOWN="mousedown";LMouseEvent.MOUSE_UP="mouseup";LMouseEvent.TOUCH_START="touchstart";LMouseEvent.TOUCH_MOVE="touchmove";LMouseEvent.TOUCH_END="touchend";LMouseEvent.MOUSE_MOVE="mousemove";
LMouseEvent.MOUSE_OVER="mouseover";LMouseEvent.MOUSE_OUT="mouseout";LMouseEvent.DOUBLE_CLICK="dblclick";var LMultitouchInputMode=function(){throw"LMultitouchInputMode cannot be instantiated";};LMultitouchInputMode.NONE="none";LMultitouchInputMode.GESTURE="gesture";LMultitouchInputMode.TOUCH_POINT="touchPoint";var LMultitouch=function(){throw"LMultitouch cannot be instantiated";};LMultitouch.inputMode="none";LMultitouch.touchs=[];var LTextEvent=function(){throw"LTextEvent cannot be instantiated";};
LTextEvent.TEXT_INPUT="textInput";LTextEvent.WIND_COMPLETE="windComplete";var LFocusEvent=function(){throw"LFocusEvent cannot be instantiated";};LFocusEvent.FOCUS_IN="focusIn";LFocusEvent.FOCUS_OUT="focusOut";
var LMouseEventContainer=function(){function a(){this.container={};this.dispatchAllEvent=!1;this.mouseDownContainer=[];this.mouseUpContainer=[];this.mouseMoveContainer=[];this.mouseOverContainer=[];this.mouseOutContainer=[];this.mouseDblContainer=[];this.textFieldInputContainer=[];this.buttonContainer=[]}a.prototype={pushInputBox:function(a){var c=this.textFieldInputContainer,b,f;b=0;for(f=c.length;b<f;b++)if(a.objectIndex==c[b].objectIndex)return;this.textFieldInputContainer.push(a)},removeInputBox:function(a){var c=
this.textFieldInputContainer,b,f;b=0;for(f=c.length;b<f;b++)if(a.objectIndex==c[b].objectIndex){this.textFieldInputContainer.splice(b,1);break}},pushButton:function(a){var c=this.buttonContainer,b,f;b=0;for(f=c.length;b<f;b++)if(a.objectIndex==c[b].objectIndex)return;this.buttonContainer.push(a)},removeButton:function(a){var c=this.buttonContainer,b,f;b=0;for(f=c.length;b<f;b++)if(a.objectIndex==c[b].objectIndex){this.buttonContainer.splice(b,1);break}},dispatchEventButton:function(a){var c=this.buttonContainer,
b;b=0;for(c=c.length;b<c;b++)"function"==typeof this.buttonContainer[b].ll_button_mode&&this.buttonContainer[b].ll_button_mode(a)},addEvent:function(a,c,b){c.push({container:a,listener:b})},removeEvent:function(a,c,b){var f,e;f=0;for(e=c.length;f<e;f++)if(c[f].container.objectIndex===a.objectIndex&&(!b||c[f].listener==b)){c.splice(f,1);break}},addMouseDownEvent:function(a,c){this.addEvent(a,this.mouseDownContainer,c)},addMouseUpEvent:function(a,c){this.addEvent(a,this.mouseUpContainer,c)},addMouseMoveEvent:function(a,
c){this.addEvent(a,this.mouseMoveContainer,c)},addMouseOverEvent:function(a,c){this.addEvent(a,this.mouseOverContainer,c)},addMouseOutEvent:function(a,c){this.addEvent(a,this.mouseOutContainer,c)},addMouseDblEvent:function(a,c){this.addEvent(a,this.mouseDblContainer,c)},addMouseEvent:function(a,c,b){c==LMouseEvent.MOUSE_DOWN?this.addMouseDownEvent(a,b):c==LMouseEvent.MOUSE_UP?this.addMouseUpEvent(a,b):c==LMouseEvent.MOUSE_OVER?this.addMouseOverEvent(a,b):c==LMouseEvent.MOUSE_OUT?this.addMouseOutEvent(a,
b):c==LMouseEvent.MOUSE_MOVE?this.addMouseMoveEvent(a,b):this.addMouseDblEvent(a,b)},hasEvent:function(a,c){for(var b=0,f=c.length;b<f;b++)if(c[b].container.objectIndex===a.objectIndex)return!0;return!1},removeMouseDownEvent:function(a,c){this.removeEvent(a,this.mouseDownContainer,c)},removeMouseUpEvent:function(a,c){this.removeEvent(a,this.mouseUpContainer,c)},removeMouseMoveEvent:function(a,c){this.removeEvent(a,this.mouseMoveContainer,c)},removeMouseOverEvent:function(a,c){this.removeEvent(a,this.mouseOverContainer,
c)},removeMouseOutEvent:function(a,c){this.removeEvent(a,this.mouseOutContainer,c)},removeMouseDblEvent:function(a,c){this.removeEvent(a,this.mouseDblContainer,c)},removeMouseEvent:function(a,c,b){c==LMouseEvent.MOUSE_DOWN?this.removeMouseDownEvent(a,b):c==LMouseEvent.MOUSE_UP?this.removeMouseUpEvent(a,b):c==LMouseEvent.MOUSE_OVER?this.removeMouseOverEvent(a,b):c==LMouseEvent.MOUSE_OUT?this.removeMouseOutEvent(a,b):c==LMouseEvent.MOUSE_MOVE?this.removeMouseMoveEvent(a,b):this.removeMouseDblEvent(a,
b)},dispatchMouseEvent:function(a,c){c==LMouseEvent.MOUSE_DOWN?(this.dispatchEvent(a,this.mouseDownContainer,LMouseEvent.MOUSE_DOWN),this.dispatchEvent(a,this.textFieldInputContainer)):c==LMouseEvent.MOUSE_UP?this.dispatchEvent(a,this.mouseUpContainer,LMouseEvent.MOUSE_UP):c==LMouseEvent.DOUBLE_CLICK?this.dispatchEvent(a,this.mouseDblContainer,LMouseEvent.DOUBLE_CLICK):(this.dispatchEventButton(a),this.dispatchEvent(a,this.mouseOutContainer,LMouseEvent.MOUSE_OUT),this.dispatchEvent(a,this.mouseOverContainer,
LMouseEvent.MOUSE_OVER),this.dispatchEvent(a,this.mouseMoveContainer,LMouseEvent.MOUSE_MOVE))},getRootParams:function(a){a=a.parent;for(var c={x:0,y:0,scaleX:1,scaleY:1};a&&"root"!=a;)c.x*=a.scaleX,c.y*=a.scaleY,c.x+=a.x,c.y+=a.y,c.scaleX*=a.scaleX,c.scaleY*=a.scaleY,a=a.parent;return c},_mouseEnabled:function(a){if(!a||!a.parent||!a.visible||typeof a.mouseEnabled!=UNDEFINED&&!a.mouseEnabled)return!1;for(a=a.parent;a&&"root"!=a;){if(!a.mouseEnabled||!a.mouseChildren||!a.visible)return!1;a=a.parent;
if(!a)return!1}return!0},_dispatchEvent:function(a,c,b,f,e,m){for(var k=b.length;e<=m&&e<k;e++)o=b[e],o.sp.objectIndex==f&&(a.currentTarget=a.clickTarget=o.sp,a.target||(a.target=o.sp),a.event_type=c,a.selfX=(a.offsetX-o.co.x-o.sp.x)/(o.co.scaleX*o.sp.scaleX),a.selfY=(a.offsetY-o.co.y-o.sp.y)/(o.co.scaleY*o.sp.scaleY),o.listener(a,o.sp))},dispatchEvent:function(a,c,b){var f,e,m=[],k,g;k=0;for(g=c.length;k<g;k++)f=c[k].container||c[k],this._mouseEnabled(f)&&(e=this.getRootParams(f),!b&&f.mouseEvent?
f.mouseEvent(a,LMouseEvent.MOUSE_DOWN,e):f.ismouseon(a,e)?b==LMouseEvent.MOUSE_OUT||b==LMouseEvent.MOUSE_OVER&&f.ll_mousein||(b!=LMouseEvent.MOUSE_UP&&(f.ll_mousein=!0),m.push({sp:f,co:e,listener:c[k].listener})):b!=LMouseEvent.MOUSE_OUT&&b!=LMouseEvent.MOUSE_OVER||!f.ll_mousein||(f.ll_mousein=!1,m.push({sp:f,co:e,listener:c[k].listener})));if(0!=m.length)for(1<m.length&&(m=m.sort(this._sort.bind(this))),g=m.length,k=0;k<g;k++)if(c=m[k],this._dispatchEvent(a,b,m,c.sp.objectIndex,k,this.dispatchAllEvent?
g-1:k),k<m.length-1&&c.sp.objectIndex==m[k+1].sp.objectIndex)m.splice(k,1),k--;else{for(var h;;){h||(h=c.sp.parent,a.target=c.sp);if(!h||"root"==h)break;this._dispatchEvent(a,b,m,h.objectIndex,k+1,g);a.target=h;h=h.parent;if(!h||"root"==h)break}if(!this.dispatchAllEvent)break}},set:function(a,c){this.container[a]=c},_sort:function(a,c){var b,f,e=this._getSort(a.sp),m=this._getSort(c.sp),k,g,h;k=0;g=e.length;for(h=m.length;k<g&&k<h;k++)if(b=e[k],f=m[k],b.objectIndex!=f.objectIndex)return f.parent.getChildIndex(f)-
b.parent.getChildIndex(b);return m.length-e.length},_getSort:function(a){var c=a.parent;for(a=[a];c&&"root"!=c;)a.unshift(c),c=c.parent;return a}};return new a}(),LKeyboardEvent=function(){throw"LKeyboardEvent cannot be instantiated";};LKeyboardEvent.KEY_DOWN="keydown";LKeyboardEvent.KEY_UP="keyup";LKeyboardEvent.KEY_PRESS="keypress";var LAccelerometerEvent=function(){throw"LAccelerometerEvent cannot be instantiated";};LAccelerometerEvent.DEVICEMOTION="devicemotion";
function LStageAlign(){throw"LStageAlign cannot be instantiated";}LStageAlign.TOP="T";LStageAlign.BOTTOM="B";LStageAlign.LEFT="L";LStageAlign.RIGHT="Re";LStageAlign.TOP_LEFT="TL";LStageAlign.TOP_RIGHT="TR";LStageAlign.TOP_MIDDLE="TM";LStageAlign.BOTTOM_LEFT="BL";LStageAlign.BOTTOM_RIGHT="BR";LStageAlign.BOTTOM_MIDDLE="BM";LStageAlign.MIDDLE="M";function LStageScaleMode(){throw"LStageScaleMode cannot be instantiated";}LStageScaleMode.EXACT_FIT="exactFit";LStageScaleMode.SHOW_ALL="showAll";
LStageScaleMode.NO_BORDER="noBorder";LStageScaleMode.NO_SCALE="noScale";
var LGlobal=function(){function a(){throw"LGlobal cannot be instantiated";}a.FULL_SCREEN="full_screen";a.traceDebug=!1;a.displayState=NONE;a.aspectRatio=NONE;a.canvasObj=null;a.canvas=null;a.webAudio=!0;a.objectIndex=1;a.stage=null;a.width=0;a.height=0;a.box2d=null;a.speed=50;a.IS_MOUSE_DOWN=!1;a.stopPropagation=!1;a.preventDefault=!0;a.childList=[];a.dragList=[];a.excludingContainer=[];a.fpsStatus=null;a.stageScale="noScale";a.align="M";a.mobile=!1;a.canTouch=!1;a.os=OS_PC;a.ios=!1;a.android=!1;
a.android_new=!1;a.backgroundColor=null;a.destroy=!0;a.forceRefresh=!1;a.devicePixelRatio=window.devicePixelRatio||1;a.startTimer=0;a.keepClear=!0;a.top=0;a.left=0;a.window=window;(function(d){a.isFirefox=0<=d.toLowerCase().indexOf("firefox");if(0<d.indexOf(OS_IPHONE))a.os=OS_IPHONE,a.canTouch=!0,a.ios=!0;else if(0<d.indexOf(OS_IPOD))a.os=OS_IPOD,a.canTouch=!0,a.ios=!0;else if(0<d.indexOf(OS_IPAD))a.os=OS_IPAD,a.ios=!0,a.canTouch=!0;else if(0<d.indexOf(OS_ANDROID)){a.os=OS_ANDROID;a.canTouch=!0;a.android=
!0;var c=d.indexOf(OS_ANDROID);3<parseInt(d.substr(c+8,1))&&(a.android_new=!0)}else 0<d.indexOf(OS_WINDOWS_PHONE)?(a.os=OS_WINDOWS_PHONE,a.canTouch=!0):0<d.indexOf(OS_BLACK_BERRY)&&(a.os=OS_BLACK_BERRY,a.canTouch=!0);a.mobile=a.canTouch})(navigator.userAgent);a.setDebug=function(d){a.traceDebug=d};a.setCanvas=function(d,c,b){a.ll_createCanvas(d,c,b);a.ll_createStage();a.displayState==LStage.FULL_SCREEN?a.resize():"number"==typeof a.displayState&&a.resize(a.width*a.displayState,a.height*a.displayState);
a.canTouch?(a.ll_clicks=0,a.ll_prev_clickTime=0,LEvent.addEventListener(a.canvasObj,LMouseEvent.TOUCH_START,a.ll_touchStart),LEvent.addEventListener(document,LMouseEvent.TOUCH_END,a.ll_touchEnd),LEvent.addEventListener(a.canvasObj,LMouseEvent.TOUCH_MOVE,a.ll_touchMove)):(LEvent.addEventListener(a.canvasObj,LMouseEvent.DOUBLE_CLICK,a.ll_mouseDbclick),LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_DOWN,a.ll_mouseDown),LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_MOVE,a.ll_mouseMove),
LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_UP,a.ll_mouseUp),LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_OUT,a.ll_mouseOut))};a.ll_createCanvas=function(d,c,b){a.id=d;a.object=document.getElementById(d);a.object.innerHTML='<div style="position:absolute;margin:0;padding:0;overflow:visible;-webkit-transform:translateZ(0);z-index:0;"><canvas id="'+a.id+'_canvas" style="margin:0;padding:0;width:'+c+"px;height:"+b+'px;"><div id="noCanvas"><p>Hey there,it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5:(</p></div></canvas></div><div id="'+
a.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+a.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+a.id+'_InputTextBox"  style="background:transparent;border:0px;"/><input type="password" id="'+a.id+'_passwordBox"  style="background:transparent;border:0px;"/></div>';a.canvasObj=document.getElementById(a.id+"_canvas");a._canvas=document.createElement("canvas");a._context=
a._canvas.getContext("2d");a._context&&(a.canvasObj.innerHTML="");a.inputBox=document.getElementById(a.id+"_InputText");a.inputTextareaBoxObj=document.getElementById(a.id+"_InputTextareaBox");a.inputTextBoxObj=document.getElementById(a.id+"_InputTextBox");a.passwordBoxObj=document.getElementById(a.id+"_passwordBox");a.inputTextField=null;c&&(a.canvasObj.width=c);b&&(a.canvasObj.height=b);a.width=a.canvasObj.width;a.height=a.canvasObj.height;a.canvasStyleWidth=a.width;a.canvasStyleHeight=a.height;
a.canvas=a.canvasObj.getContext("2d");a.offsetX=mouseX=0;a.offsetY=mouseY=0};a.ll_createStage=function(){a.stage=new LSprite;a.stage.parent="root";a.childList.push(a.stage);a.stage.baseAddEvent=a.stage.addEventListener;a.stage.baseRemoveEvent=a.stage.removeEventListener;a.stage.addEventListener=function(d,c){d==LEvent.WINDOW_RESIZE?(a.stage.onresizeListener=c,a.stage.onresize=function(b){a.stage.onresizeEvent=b},LEvent.addEventListener(a.window,d,a.stage.onresize)):d==LKeyboardEvent.KEY_DOWN||d==
LKeyboardEvent.KEY_UP||d==LKeyboardEvent.KEY_PRESS?LEvent.addEventListener(a.window,d,c):a.stage.baseAddEvent(d,c)};a.stage.removeEventListener=function(d,c){d==LEvent.WINDOW_RESIZE?(LEvent.removeEventListener(a.window,LEvent.WINDOW_RESIZE,a.stage.onresize),delete a.stage.onresize,delete a.stage.onresizeListener):d==LKeyboardEvent.KEY_DOWN||d==LKeyboardEvent.KEY_UP||d==LKeyboardEvent.KEY_PRESS?LEvent.removeEventListener(a.window,d,c):a.stage.baseRemoveEvent(d,c)}};a.ll_touchStart=function(d){a.inputBox.style.display!=
NONE&&a.inputTextField._ll_getValue();var c,b,f,e;c=parseInt(0+a.object.style.left)+parseInt(a.canvasObj.style.marginLeft);b=parseInt(0+a.object.style.top)+parseInt(a.canvasObj.style.marginTop);if(LMultitouch.inputMode==LMultitouchInputMode.NONE)f=a.ll_touchStartEvent(d,0,c,b);else if(LMultitouch.inputMode==LMultitouchInputMode.TOUCH_POINT){e=0;for(var m=d.touches.length;e<m;e++)LMultitouch.touchs["touch"+d.touches[e].identifier]||(f=a.ll_touchStartEvent(d,e,c,b))}c=(new Date).getTime();a.ll_clicks=
c<=a.ll_prev_clickTime+500?a.ll_clicks+1:1;a.ll_prev_clickTime=c;2===a.ll_clicks&&(a.mouseEvent(f,LMouseEvent.DOUBLE_CLICK),a.ll_clicks=0);a.IS_MOUSE_DOWN=!0;a.mouseJoint_start&&a.mouseJoint_start(f);a.touchHandler(d)};a.ll_touchStartEvent=function(d,c,b,f){d={offsetX:d.touches[c].pageX-b,offsetY:d.touches[c].pageY-f,touchPointID:d.touches[c].identifier};d.offsetX=a.ll_scaleX(d.offsetX);d.offsetY=a.ll_scaleY(d.offsetY);mouseX=a.offsetX=d.offsetX;mouseY=a.offsetY=d.offsetY;LMultitouch.touchs["touch"+
d.touchPointID]=d;a.mouseEvent(d,LMouseEvent.MOUSE_DOWN);return a.buttonStatusEvent=d};a.ll_touchEnd=function(d){var c,b,f,e,m,k;if(LMultitouch.inputMode==LMultitouchInputMode.TOUCH_POINT)for(f in LMultitouch.touchs){c=LMultitouch.touchs[f];k=!1;e=0;for(m=d.touches.length;e<m;e++)if(d.touches[e].identifier==c.touchPointID){k=!0;break}k||(b=c,delete LMultitouch.touchs[f],a.mouseEvent(b,LMouseEvent.MOUSE_UP))}b||(b={offsetX:a.offsetX,offsetY:a.offsetY});a.mouseEvent(b,LMouseEvent.MOUSE_UP);a.touchHandler(d);
a.IS_MOUSE_DOWN=!1;a.buttonStatusEvent=null;a.mouseJoint_end&&a.mouseJoint_end()};a.ll_touchMove=function(d){var c,b,f,e,m=d.touches.length;c=parseInt(0+a.object.style.left)+parseInt(a.canvasObj.style.marginLeft);b=parseInt(0+a.object.style.top)+parseInt(a.canvasObj.style.marginTop);LMultitouch.inputMode==LMultitouchInputMode.NONE&&(m=1);i=0;for(e=d.touches.length;i<e&&i<m;i++)f={offsetX:d.touches[i].pageX-c,offsetY:d.touches[i].pageY-b,touchPointID:d.touches[i].identifier},f.offsetX=a.ll_scaleX(f.offsetX),
f.offsetY=a.ll_scaleY(f.offsetY),mouseX=a.offsetX=f.offsetX,mouseY=a.offsetY=f.offsetY,LMultitouch.touchs["touch"+f.touchPointID]&&LMultitouch.touchs["touch"+f.touchPointID].offsetX==f.offsetX&&LMultitouch.touchs["touch"+f.touchPointID].offsetY==f.offsetY||(a.buttonStatusEvent=f,LMultitouch.touchs["touch"+f.touchPointID]=f,a.mouseEvent(f,LMouseEvent.MOUSE_MOVE));a.touchHandler(d);a.mouseJoint_move&&a.mouseJoint_move(f)};a.ll_mouseDbclick=function(d){null==d.offsetX&&null!=d.layerX&&(d.offsetX=d.layerX,
d.offsetY=d.layerY);var c={button:d.button};c.offsetX=a.ll_scaleX(d.offsetX);c.offsetY=a.ll_scaleY(d.offsetY);a.mouseEvent(c,LMouseEvent.DOUBLE_CLICK)};a.ll_mouseDown=function(d){null==d.offsetX&&null!=d.layerX&&(d.offsetX=d.layerX,d.offsetY=d.layerY);a.inputBox.style.display!=NONE&&a.inputTextField._ll_getValue();var c={button:d.button};c.offsetX=a.ll_scaleX(d.offsetX);c.offsetY=a.ll_scaleY(d.offsetY);a.mouseEvent(c,LMouseEvent.MOUSE_DOWN);a.IS_MOUSE_DOWN=!0;a.mouseJoint_start&&a.mouseJoint_start(c)};
a.ll_mouseMove=function(d){null==d.offsetX&&null!=d.layerX&&(d.offsetX=d.layerX,d.offsetY=d.layerY);var c={};c.offsetX=a.ll_scaleX(d.offsetX);c.offsetY=a.ll_scaleY(d.offsetY);a.buttonStatusEvent=c;mouseX=a.offsetX=c.offsetX;mouseY=a.offsetY=c.offsetY;a.cursor="default";a.mouseEvent(c,LMouseEvent.MOUSE_MOVE);document.body.style.cursor=a.cursor;a.mouseJoint_move&&a.mouseJoint_move(c)};a.ll_mouseUp=function(d){null==d.offsetX&&null!=d.layerX&&(d.offsetX=d.layerX,d.offsetY=d.layerY);var c={button:d.button};
c.offsetX=a.ll_scaleX(d.offsetX);c.offsetY=a.ll_scaleY(d.offsetY);a.mouseEvent(c,LMouseEvent.MOUSE_UP);a.IS_MOUSE_DOWN=!1;a.mouseJoint_end&&a.mouseJoint_end()};a.ll_mouseOut=function(d){null==d.offsetX&&null!=d.layerX&&(d.offsetX=d.layerX,d.offsetY=d.layerY);var c={};c.offsetX=a.ll_scaleX(d.offsetX);c.offsetY=a.ll_scaleY(d.offsetY);a.mouseEvent(c,LMouseEvent.MOUSE_OUT);a.IS_MOUSE_DOWN=!1};a.touchHandler=function(d){a.stopPropagation&&d.stopPropagation();a.preventDefault&&d.preventDefault();d.stopImmediatePropagation&&
d.stopImmediatePropagation();return d};a.mouseEvent=function(d,c){c==LMouseEvent.MOUSE_MOVE&&a.dragHandler(d);if(LMouseEventContainer.container[c])LMouseEventContainer.dispatchMouseEvent(d,c);else for(var b=a.childList.length-1;0<=b&&(!a.childList[b].mouseEvent||!a.childList[b].mouseEvent(d,c));b--);};a.dragHandler=function(d){var c,b,f=a.dragList;for(c=f.length-1;0<=c;c--)if(b=f[c],!a.canTouch||b.ll_touchPointID==d.touchPointID){c=b.getAbsoluteScale();b.x=b.ll_dragStartX+(d.offsetX-b.ll_dragMX)*
b.scaleX/c.scaleX;b.y=b.ll_dragStartY+(d.offsetY-b.ll_dragMY)*b.scaleY/c.scaleY;b.dragRange&&(b.x<b.dragRange.left?b.x=b.dragRange.left:b.x>b.dragRange.right&&(b.x=b.dragRange.right),b.y<b.dragRange.top?b.y=b.dragRange.top:b.y>b.dragRange.bottom&&(b.y=b.dragRange.bottom));break}};a._ll_mobile=function(){var d=.3*a.width,c,b=.05*a.width,f=.05*d,e=.15*d,m=.3*d,k=1.5*d*.2,g,h,n;g=new LSprite;addChild(g);d=.3*a.width;c=1.5*d;g.graphics.drawRoundRect(1,"#000000",[b,b,d,c,b],!0,"#cccccc");g.graphics.drawRoundRect(1,
"#000000",[b+f,b+f,d-2*f,c-2*f,b],!0,"#000000");g.graphics.drawRect(1,"#ffffff",[b+e,b+k,d-2*e,c-2*k],!0,"#ffffff");g.graphics.drawArc(1,"#ffffff",[b+.5*d,b+c-3.5*f,1.5*f,0,2*Math.PI]);g.graphics.drawRoundRect(1,"#ffffff",[b+m,b+e,d-2*m,f,.5*f]);h=new LSprite;h.x=.5*-(d-2*e);h.y=.5*-f;h.graphics.drawRect(1,"#ff0000",[0,0,d-2*e,f],!0,"#ff0000");n=new LSprite;n.y=.5*-(d-2*e);n.x=.5*-f;n.graphics.drawRect(1,"#ff0000",[0,0,f,d-2*e],!0,"#ff0000");f=new LSprite;f.x=b+m+.5*(d-2*m);f.y=b+k+.5*(c-2*k);f.rotate=
45;f.addChild(h);f.addChild(n);g.addChild(f);d=new LSprite;d.graphics.drawVertices(2,"#000000",[[0,0],[e,e],[0,2*e]],!0,"#cccccc");d.x=1.5*b+c;d.y=1.5*b+.5*c;addChild(d);g.arrow=d;window.onorientationchange=function(){setTimeout(function(){location.href=location.href},100)};return g};a.verticalError=function(){var d=.3*a.width,c=.05*a.width,b=a._ll_mobile(),f=b.clone();f.getChildAt(0).visible=!1;f.x=.5*a.width+c;addChild(f);b.rotate=90;b.x=.5*a.width+c;b.y=.5*d};a.horizontalError=function(){var d=
.3*a.width,c=.05*a.width,b=a._ll_mobile(),f=b.clone();f.getChildAt(0).visible=!1;f.rotate=90;f.x=a.width-c;f.y=.5*d;addChild(f);b.arrow.x=1.5*c+d};a.onShow=function(){null!=a.canvas&&(a.fpsStatus&&a.fpsStatus.reset(),a.stage.onresizeEvent&&(a.stage.onresizeListener(a.stage.onresizeEvent),delete a.stage.onresizeEvent),a.forceRefresh&&(a.canvasObj.width=a.canvasObj.width,a.forceRefresh=!1),a.canvas.beginPath(),null!=a.box2d?(a.box2d.ll_show(),!a.traceDebug&&a.keepClear&&a.canvas.clearRect(0,0,a.width+
1,a.height+1)):(a.keepClear&&a.canvas.clearRect(0,0,a.width+1,a.height+1),null!==a.backgroundColor&&(a.canvas.fillStyle=a.backgroundColor,a.canvas.fillRect(0,0,a.width,a.height))),a.show(a.childList))};a.show=function(a){for(var c=0,b=a.length,f;c<b;c++)(f=a[c])&&f.ll_show&&(f.ll_show(),f._ll_removeFromSelf&&(c--,b--))};a.divideCoordinate=function(a,c,b,f){var e;a/=f;var m=c/b,k=[],g;for(c=0;c<b;c++){g=[];for(e=0;e<f;e++)g.push({x:a*e,y:m*c,width:a,height:m});k.push(g)}return k};a._create_loading_color=
function(){var d=a.canvas.createRadialGradient(a.width/2,a.height,0,a.width/2,0,a.height);d.addColorStop(0,"red");d.addColorStop(.3,"orange");d.addColorStop(.4,"yellow");d.addColorStop(.5,"green");d.addColorStop(.8,"blue");d.addColorStop(1,"violet");return d};a.hitPolygon=function(a,c,b){var f=0,e=a[0],m=c<=e[0],k=b<=e[1],g,h,n,r,p;g=1;for(h=a.length;g<h+1;g++)n=a[g%h],r=c<=n[0],p=b<=n[1],k!=p&&(m==r?m&&(f+=k?-1:1):c<=e[0]+(n[0]-e[0])*(b-e[1])/(n[1]-e[1])&&(f+=k?-1:1)),e=n,m=r,k=p;return 0!=f};a.hitTestPolygon=
function(a,c){var b,f,e,m,k,g=[[a,[],[]],[c,[],[]]];for(f=0;f<g.length;f++){m=g[f][0];k=g[f][1];b=0;for(e=m.length;b<e;b++)g[f][2].push(new LVec2(m[b][0],m[b][1])),b<e-1&&k.push((new LVec2(m[b+1][0]-m[b][0],m[b+1][1]-m[b][1])).normL());k.push((new LVec2(m[0][0]-m[e-1][0],m[0][1]-m[e-1][1])).normL())}for(f=0;f<g.length;f++)for(k=g[f][1],b=0,e=k.length;b<e;b++){m=LVec2.getMinMax(g[0][2],k[b]);var h=LVec2.getMinMax(g[1][2],k[b]);if(m.max_o<h.min_o||m.min_o>h.max_o)return!1}return!0};a.hitTestPolygonArc=
function(d,c){if(a.hitPolygon(d,c[0],c[1]))return!0;var b,f,e,m,k,g;b=0;for(e=d.length;b<e;b++)if(f=b<e-1?b+1:0,m=d[b],k=d[f],f=new LVec2(c[0]-m[0],c[1]-m[1]),m=new LVec2(k[0]-m[0],k[1]-m[1]),g=m.normalize(),k=LVec2.dot(f,g),0>=k){if(f.x*f.x+f.y*f.y<c[3])return!0}else if(k*k<m.x*m.x+m.y*m.y&&(f=LVec2.cross(f,g),f*f<c[3]))return!0;return!1};a.hitTestArc=function(a,c,b,f){var e=.5*a.getWidth(),m=.5*c.getWidth(),k=a._startX?a._startX():a.startX(),g=c._startX?c._startX():c.startX();a=a._startY?a._startY():
a.startY();c=c._startY?c._startY():c.startY();typeof b!=UNDEFINED&&(k+=e-b,a+=e-b,e=b);typeof f!=UNDEFINED&&(g+=m-f,c+=m-f,m=f);b=k+e-g-m;f=a+e-c-m;return b*b+f*f<(e+m)*(e+m)};a.hitTestRect=function(a,c,b,f){var e=a.getWidth(),m=c.getWidth(),k=a.getHeight(),g=c.getHeight(),h=a._startX?a._startX():a.startX(),n=c._startX?c._startX():c.startX();a=a._startY?a._startY():a.startY();c=c._startY?c._startY():c.startY();typeof b!=UNDEFINED&&(h+=.5*(e-b[0]),a+=.5*(k-b[1]),e=b[0],k=b[1]);typeof f!=UNDEFINED&&
(n+=.5*(m-f[0]),c+=.5*(g-f[1]),m=f[0],g=f[1]);return(h>n?h:n)<=(h+e>n+m?n+m:h+e)&&(a>c?a:c)<=(a+k>c+g?c+g:a+k)};a.hitTest=a.hitTestRect;a.setFrameRate=function(d){a.frameRate&&clearInterval(a.frameRate);a.speed=d;a.frameRate=setInterval(function(){a.onShow()},d)};a.ll_scaleX=function(d){return(d-a.left)*a.width/a.canvasStyleWidth};a.ll_scaleY=function(d){return(d-a.top)*a.height/a.canvasStyleHeight};a.ll_setStageSize=function(d,c){d=Math.ceil(d);c=Math.ceil(c);a.canvasObj.style.width=d+"px";a.canvasObj.style.height=
c+"px";a.canvasStyleWidth=d;a.canvasStyleHeight=c};a.resize=function(d,c){var b,f,e=0,m=0,k=window.innerWidth,g=window.innerHeight;d&&(b=d);c&&(f=c);"noScale"==a.stageScale&&(b=d||a.width,f=c||a.height);switch(a.stageScale){case "exactFit":b=d||k;f=c||g;break;case "noBorder":b=d||k;f=c||a.height*k/a.width;switch(a.align){case LStageAlign.BOTTOM:case LStageAlign.BOTTOM_LEFT:case LStageAlign.BOTTOM_RIGHT:case LStageAlign.BOTTOM_MIDDLE:e=g-f}break;case "showAll":k/g>a.width/a.height?(f=c||g,b=d||a.width*
g/a.height):(b=d||k,f=c||a.height*k/a.width);default:switch(a.align){case LStageAlign.BOTTOM:case LStageAlign.BOTTOM_LEFT:e=g-f;break;case LStageAlign.RIGHT:case LStageAlign.TOP_RIGHT:m=k-b;break;case LStageAlign.TOP_MIDDLE:m=.5*(k-b);break;case LStageAlign.BOTTOM_RIGHT:e=g-f;m=k-b;break;case LStageAlign.BOTTOM_MIDDLE:e=g-f;m=.5*(k-b);break;case LStageAlign.MIDDLE:e=.5*(g-f),m=.5*(k-b)}}a.canvasObj.style.marginTop=e+"px";a.canvasObj.style.marginLeft=m+"px";a.isFirefox&&(a.left=parseInt(a.canvasObj.style.marginLeft),
a.top=parseInt(a.canvasObj.style.marginTop));a.ll_setStageSize(b,f)};a.sleep=function(a){for(var c=new Date;(new Date).getTime()-c.getTime()<a;);};a.screen=function(d){a.displayState=d;a.stage&&("number"==typeof a.displayState?a.resize(a.width*a.displayState,a.height*a.displayState):a.resize())};return a}(),LSystem=LGlobal,LStage=LGlobal;
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,d){var c=this.length>>>0,b=Number(d)||0,b=0>b?Math.ceil(b):Math.floor(b);for(0>b&&(b+=c);b<c;b++)if(b in this&&this[b]===a)return b;return-1});Array.isArray||(Array.isArray=function(a){return"[object Array]"==Object.prototype.toString.apply(a)});
Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind-what is trying to be bound is not callable");var d=Array.prototype.slice.call(arguments,1),c=this,b=function(){},f=function(){return c.apply(this instanceof b&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))};b.prototype=this.prototype;f.prototype=new b;return f});
Array.prototype.find||(Array.prototype.find=function(a,d){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var c=Object(this),b=c.length>>>0,f,e=0;e<b;e++)if(f=c[e],a.call(d,f,e,c))return f});
Array.prototype.findIndex||(Array.prototype.findIndex=function(a,d){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var c=Object(this),b=c.length>>>0,f,e=0;e<b;e++)if(f=c[e],a.call(d,f,e,c))return e;return-1});
Array.prototype.forEach||(Array.prototype.forEach=function(a,d){var c,b;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),e=f.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");1<arguments.length&&(c=d);for(b=0;b<e;){var m;b in f&&(m=f[b],a.call(c,m,b,f));b++}});
Array.prototype.every||(Array.prototype.every=function(a,d){var c,b;if(null==this)throw new TypeError("this is null or not defined");var f=Object(this),e=f.length>>>0;if("function"!==typeof a)throw new TypeError;1<arguments.length&&(c=d);for(b=0;b<e;){var m;if(b in f&&(m=f[b],!a.call(c,m,b,f)))return!1;b++}return!0});
Array.prototype.some||(Array.prototype.some=function(a){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!==typeof a)throw new TypeError;for(var d=Object(this),c=d.length>>>0,b=2<=arguments.length?arguments[1]:void 0,f=0;f<c;f++)if(f in d&&a.call(b,d[f],f,d))return!0;return!1});
function trace(){if(LGlobal.traceDebug){var a=document.getElementById("traceObject"),d;0<trace.arguments.length&&null==a&&(a=document.createElement("TEXTAREA"),a.id="traceObject",a.style.position="absolute",a.style.top=LGlobal.height+20+"px",a.style.width=LGlobal.width+"px",a.style.height="200px",document.body.appendChild(a));for(d=0;d<trace.arguments.length;d++)a.value=a.value+trace.arguments[d]+"\r\n",a.scrollTop=a.scrollHeight}}window.console||(window.console={log:trace,warn:trace});
function addChild(a){LGlobal.stage.addChild(a)}function removeChild(a){LGlobal.stage.removeChild(a)}
function init(a,d,c,b,f,e){LGlobal.speed=a;var m=function(){LGlobal.canTouch&&LGlobal.aspectRatio==LANDSCAPE&&window.innerWidth<window.innerHeight?LGlobal.horizontalError():LGlobal.canTouch&&LGlobal.aspectRatio==PORTRAIT&&window.innerWidth>window.innerHeight?LGlobal.verticalError():setTimeout(f,100);LGlobal.startTimer=(new Date).getTime()};null!=e&&e==LEvent.INIT?(LGlobal.frameRate=setInterval(function(){LGlobal.onShow()},a),LGlobal.setCanvas(d,c,b),m()):LEvent.addEventListener(window,"load",function(){LGlobal.frameRate=
setInterval(function(){LGlobal.onShow()},a);LGlobal.setCanvas(d,c,b);m()})}var LInit=init;
function base(a,d,c){var b=null,f=a.constructor.prototype,e={};"Object"==a.constructor.name&&console.warn("When you use the extends. You must make a method like 'XX.prototype.xxx=function(){}'. but not 'XX.prototype={xxx:function(){}}'.");typeof a.__ll__parent__==UNDEFINED&&(a.__ll__parent__=[],a.__ll__parent__=[]);a.__ll__parent__.push(d.prototype);for(b in f)e[b]=1;for(b in d.prototype)e[b]||(f[b]=d.prototype[b]);f.toString==Object.prototype.toString&&(f.toString=LObject.prototype.toString);d.apply(a,
c)}var LExtends=base;function getTimer(){return(new Date).getTime()-LGlobal.startTimer}function getExtension(a){a=a.match(/([^#?]+\.)([^.#?]+)/);return 3<=a.length?a[2].toLowerCase():null}
var LObject=function(){function a(){this.type="LObject";this.objectindex=this.objectIndex=++LGlobal.objectIndex}a.prototype={callParent:function(a,c){if(a&&c){var b=!1,f,e="__ll__parent_call"+a;"undefined"==typeof this[e]?(b=!0,this[e]=0):this[e]++;if(this[e]>=this.__ll__parent__.length)return!1;f=this.__ll__parent__[this[e]][a]?this.__ll__parent__[this[e]][a].apply(this,c):this.callParent(a,c);b&&delete this[e];return f}},copyProperty:function(a){for(var c in a)"number"==typeof a[c]||"string"==typeof a[c]||
"boolean"==typeof a[c]?"objectindex"!=c&&"objectIndex"!=c&&(this[c]=a[c]):Array.isArray(a[c])&&(this[c]=a[c].slice());a.mask&&(this.mask=a.mask.clone())},toString:function(){return"[object "+this.constructor.name+"]"}};return a}(),LColorTransform=function(){return function(a,d,c,b,f,e,m,k){LExtends(this,LObject,[]);this.redMultiplier=a;this.greenMultiplier=d;this.blueMultiplier=c;this.alphaMultiplier=b;this.redOffset=f;this.greenOffset=e;this.blueOffset=m;this.alphaOffset=k}}(),LTransform=function(){return function(){LExtends(this,
LObject,[]);this.matrix=null}}(),LMatrix=function(){function a(b,a,e,c,d,g,h,n,r){LExtends(this,LObject,[]);this.a=1;this.c=this.u=this.b=0;this.d=1;this.ty=this.tx=this.v=0;this.w=1;typeof b!=UNDEFINED&&(this.a=b);typeof a!=UNDEFINED&&(this.b=a);typeof e!=UNDEFINED&&(this.c=e);typeof c!=UNDEFINED&&(this.d=c);typeof d!=UNDEFINED&&(this.tx=d);typeof g!=UNDEFINED&&(this.ty=g);typeof h!=UNDEFINED&&(this.u=h);typeof n!=UNDEFINED&&(this.v=n);typeof r!=UNDEFINED&&(this.w=r)}var d={setTo:function(b,a,e,
c,d,g,h,n,r){typeof b!=UNDEFINED&&(this.a=b);typeof a!=UNDEFINED&&(this.b=a);typeof e!=UNDEFINED&&(this.c=e);typeof c!=UNDEFINED&&(this.d=c);typeof d!=UNDEFINED&&(this.tx=d);typeof g!=UNDEFINED&&(this.ty=g);typeof h!=UNDEFINED&&(this.u=h);typeof n!=UNDEFINED&&(this.v=n);typeof r!=UNDEFINED&&(this.w=r);return this},isIdentity:function(){return 1==this.a&&0==this.b&&0==this.c&&1==this.d&&0==this.tx&&0==this.ty&&0==u&&0==v&&1==w},transform:function(b){b.transform(this.a,this.b,this.c,this.d,this.tx,
this.ty);return this},identity:function(){this.setTo(1,0,0,1,0,0,0,0,1)},rotate:function(b){var f=b*Math.PI/180;b=Math.cos(f);f=Math.sin(f);b=new a(b,f,-f,b,0,0,0,0,1);this.add(b);return this},scale:function(b,f){var e=new a(b,0,0,f,0,0,0,0,1);this.add(e);return this},translate:function(b,f){var e=new a(1,0,0,1,b,f,0,0,1);this.add(e);return this},skew:function(b,f){var e=new a(1,f,b,1,0,0,0,0,1);this.add(e);return this},add:function(b){this.setTo(this.a*b.a+this.b*b.c+this.u*b.tx,this.a*b.b+this.b*
b.d+this.u*b.ty,this.c*b.a+this.d*b.c+this.v*b.tx,this.c*b.b+this.d*b.d+this.v*b.ty,this.tx*b.a+this.ty*b.c+this.w*b.tx,this.tx*b.b+this.ty*b.d+this.w*b.ty,this.a*b.u+this.b*b.v+this.u*b.w,this.c*b.u+this.d*b.v+this.v*b.w,this.tx*b.u+this.ty*b.v+this.w*b.w)},toArray:function(b){return Array.isArray(b)&&3==b.length?[b[0]*this.a+b[1]*this.c+b[2]*this.tx,b[0]*this.b+b[1]*this.d+b[2]*this.ty,b[0]*this.u+b[1]*this.v+b[2]*this.w]:[this.a*b.a+this.b*b.c+this.u*b.tx,this.a*b.b+this.b*b.d+this.u*b.ty,this.c*
b.a+this.d*b.c+this.v*b.tx,this.c*b.b+this.d*b.d+this.v*b.ty,this.tx*b.a+this.ty*b.c+this.w*b.tx,this.tx*b.b+this.ty*b.d+this.w*b.ty,this.a*b.u+this.b*b.v+this.u*b.w,this.c*b.u+this.d*b.v+this.v*b.w,this.tx*b.u+this.ty*b.v+this.w*b.w]},clone:function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty,this.u,this.v,this.w)}},c;for(c in d)a.prototype[c]=d[c];return a}(),LVec2=function(){function a(a,c){this.x=a||0;this.y=c||0}a.dot=function(a,c){return a.x*c.x+a.y*c.y};a.cross=function(a,c){return a.x*
c.y-a.y*c.x};a.distance=function(a,c){var b=a.x-c.x,f=a.y-c.y;return Math.sqrt(b*b+f*f)};a.getMinMax=function(d,c){for(var b=a.dot(d[0],c),f=a.dot(d[0],c),e=0,m=0,k=1;k<d.length;k++){var g=a.dot(d[k],c);b>g&&(b=g,e=k);f<g&&(f=g,m=k)}return{min_o:b,min_i:e,max_o:f,max_i:m}};a.prototype={length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){var d=this.length();return new a(this.x/d,this.y/d)},normR:function(){return new a(-this.y,this.x)},normL:function(){return new a(this.y,
-this.x)}};return a}(),LEventDispatcher=function(){function a(){LExtends(this,LObject,[]);this._eventList=[]}var d={addEventListener:function(b,a){this._eventList.push({listener:a,type:b})},removeEventListener:function(b,a){var e,c;c=this._eventList.length;for(e=0;e<c;e++)if(this._eventList[e]&&b==this._eventList[e].type&&this._eventList[e].listener==a){this._eventList.splice(e,1);break}},removeAllEventListener:function(){this._eventList=[]},dispatchEvent:function(b){var a,e=this._eventList.length,
c="string"==typeof b?b:b.eventType;for(a=0;a<e;a++)if(this._eventList[a]&&c==this._eventList[a].type){if("string"==typeof b)this.currentTarget=this.target=this,this.eventType=this.event_type=c,this._eventList[a].listener(this),delete this.currentTarget,delete this.target,delete this.eventType;else if(b.target||(b.target=this),b.currentTarget||(b.currentTarget=b.target),b._ll_preventDefault=!1,this._eventList[a].listener(b),b._ll_preventDefault)break;return!0}return!1},hasEventListener:function(b,
a){var e,c=this._eventList.length;for(e=0;e<c;e++)if(this._eventList[e]&&b==this._eventList[e].type&&(typeof a==UNDEFINED||a==this._eventList[e].listener))return!0;return!1}},c;for(c in d)a.prototype[c]=d[c];return a}(),LDisplayObject=function(){function a(){LExtends(this,LEventDispatcher,[]);this.name="instance"+this.objectIndex;this.height=this.width=this.y=this.x=0;this.alpha=this.scaleY=this.scaleX=1;this.visible=!0;this.rotate=0;this.filters=this.blendMode=this.mask=null;this.transform=new LTransform}
var d={_createCanvas:function(){this._canvas||(this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"))},ll_show:function(){var b=LGlobal.canvas;this._canShow()&&(this._ll_trans=!1,LGlobal.box2d||"function"!=typeof this._ll_loopframe||this._ll_loopframe(),b.save(),this._showReady(b),this.blendMode&&(b.globalCompositeOperation=this.blendMode),this.filters&&this._ll_setShadow(),this._rotateReady(),null!=this.mask&&this.mask.ll_show&&(this.mask.ll_show(),b.clip()),this._transformRotate(),
this._transformScale(),this._coordinate(b),this.transform.matrix&&this.transform.matrix.transform(b),1>this.alpha&&(this._ll_trans=!0,b.globalAlpha=this.alpha),LGlobal.fpsStatus&&(LGlobal.fpsStatus.display++,this._ll_trans&&LGlobal.fpsStatus.transform++),this._ll_show(b),b.restore(),null!=LGlobal.box2d&&"function"==typeof this._ll_loopframe&&this._ll_loopframe())},_canShow:function(){return this.visible},_coordinate:function(b){if(0!=this.x||0!=this.y)this._ll_trans=!0,b.transform(1,0,0,1,this.x,
this.y)},_rotateReady:function(){},_showReady:function(b){},_ll_show:function(b){},_ll_setShadow:function(){var b=this.filters,a,e;if(b)for(a=0,e=b.length;a<e;a++)b[a].ll_show()},_transformRotate:function(){var b;0!=this.rotate&&(this._ll_trans=!0,b=LGlobal.canvas,rotateFlag=Math.PI/180,rotateObj=new LMatrix,typeof this.rotatex==UNDEFINED&&(this.rotatey=this.rotatex=0),this.box2dBody&&(rotateFlag=1),rotateObj.a=Math.cos(this.rotate*rotateFlag),rotateObj.b=Math.sin(this.rotate*rotateFlag),rotateObj.c=
-rotateObj.b,rotateObj.d=rotateObj.a,rotateObj.tx=this.x+this.rotatex,rotateObj.ty=this.y+this.rotatey,rotateObj.transform(b).setTo(1,0,0,1,-rotateObj.tx,-rotateObj.ty).transform(b))},_transformScale:function(){var b=LGlobal.canvas,a;if(1!=this.scaleX||1!=this.scaleY)this._ll_trans=!0,a=new LMatrix,1!=this.scaleX&&(a.tx=this.x),1!=this.scaleY&&(a.ty=this.y),a.a=this.scaleX,a.d=this.scaleY,a.transform(b).setTo(1,0,0,1,-a.tx,-a.ty).transform(b)},getAbsoluteScale:function(){var b,a,e;b=this.scaleX;a=
this.scaleY;for(e=this.parent;e&&"root"!=e;)b*=e.scaleX,a*=e.scaleY,e=e.parent;return{scaleX:b,scaleY:a}},getRootCoordinate:function(){var b,a,e;b=this.x;a=this.y;for(e=this.parent;e&&"root"!=e;)b*=e.scaleX,a*=e.scaleY,b+=e.x,a+=e.y,e=e.parent;return new LPoint(b,a)},getBounds:function(b){if(typeof b==UNDEFINED)return new LRectangle(0,0,0,0);var a=0,e=0,c=0,d=0,g;this.objectIndex!=b.objectIndex&&(e=this.getRootCoordinate(),g=b.getRootCoordinate(),a=e.x-g.x,e=e.y-g.y);b.getWidth&&(c=b.getWidth());
b.getHeight&&(d=b.getHeight());return new LRectangle(a,e,c,d)},getDataCanvas:function(){var b,a,e,c,d,g;this._createCanvas();a=LGlobal.canvasObj;c=LGlobal.canvas;b=this._canvas;e=this._context;this.width=this.getWidth();this.height=this.getHeight();b.width=this.width;b.height=this.height;e.clearRect(0,0,this.width,this.height);LGlobal.canvasObj=this._canvas;LGlobal.canvas=this._context;d=this.x;g=this.y;this.x=this.y=0;this.ll_show();this.x=d;this.y=g;this._canvas=b;this._context=e;LGlobal.canvasObj=
a;LGlobal.canvas=c;return this._canvas},getDataURL:function(){var b=this.getDataCanvas();return b.toDataURL.apply(b,arguments)},ismouseonShapes:function(b,a,e){var c,d,g,h;typeof b==UNDEFINED&&(b=this.shapes);c=this.getRootMatrix();for(g=b.length-1;0<=g;g--)if(d=b[g],h=d.arg,h=this._changeShape(d.type,h,c),d.type==LShape.VERTICES){if(LGlobal.hitPolygon(h,a,e))return!0}else if(d.type==LShape.RECT){if(LGlobal.hitPolygon(h,a,e))return!0}else if(d.type==LShape.ARC&&(h[0]-a)*(h[0]-a)+(h[1]-e)*(h[1]-e)<
h[3])return!0;return!1},_changeShape:function(b,a,e){var c,d;if(b==LShape.VERTICES)for(c=[],b=0,d=a.length;b<d;b++)c[b]=e.toArray([a[b][0],a[b][1],1]);else if(b==LShape.RECT)for(c=[[a[0],a[1]],[a[0]+a[2],a[1]],[a[0]+a[2],a[1]+a[3]],[a[0],a[1]+a[3]]],b=0,d=c.length;b<d;b++)c[b]=e.toArray([c[b][0],c[b][1],1]);else b==LShape.ARC&&(c=e.toArray([a[0],a[1],1]),a=e.toArray([a[0]+a[2],a[1],1]),a=(c[0]-a[0])*(c[0]-a[0])+(c[1]-a[1])*(c[1]-a[1]),c=[c[0],c[1],Math.sqrt(a),a]);return c},getRootMatrix:function(){for(var b=
this,a=new LMatrix;b&&"root"!=b;)1==b.scaleX&&1==b.scaleY||a.scale(b.scaleX,b.scaleY),0!=b.rotate&&a.rotate(b.rotate),0==b.x&&0==b.y||a.translate(b.x,b.y),b=b.parent;return a},remove:function(){var b=this.parent;b&&"root"!=b&&(b.removeChild(this),this._ll_removeFromSelf=!0)}},c;for(c in d)a.prototype[c]=d[c];return a}(),LInteractiveObject=function(){function a(){LExtends(this,LDisplayObject,[]);this.type="LInteractiveObject";this.mouseEnabled=!0;this.mouseList=[]}var d={addEventListener:function(b,
a){0<=b.indexOf("mouse")||0<=b.indexOf("touch")||b==LMouseEvent.DOUBLE_CLICK?LMouseEventContainer.container[b]||(b==LMouseEvent.MOUSE_OVER||b==LMouseEvent.MOUSE_OUT)&&LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]?LMouseEventContainer.addMouseEvent(this,b,a):this.mouseList.push({listener:a,type:b}):this._eventList.push({listener:a,type:b})},removeEventListener:function(b,a){var e,c;if(0<=b.indexOf("mouse")||0<=b.indexOf("touch")||b==LMouseEvent.DOUBLE_CLICK)if(LMouseEventContainer.container[b]||
(b==LMouseEvent.MOUSE_OVER||b==LMouseEvent.MOUSE_OUT)&&LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE])LMouseEventContainer.removeMouseEvent(this,b,a);else for(c=this.mouseList.length,e=0;e<c;e++){if(this.mouseList[e]&&b==this.mouseList[e].type&&this.mouseList[e].listener==a){this.mouseList.splice(e,1);break}}else return this.callParent("removeEventListener",arguments)},removeAllEventListener:function(){this.mouseList.length=0;this._eventList.length=0;LMouseEventContainer.container[LMouseEvent.MOUSE_DOWN]&&
LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_DOWN);LMouseEventContainer.container[LMouseEvent.MOUSE_UP]&&LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_UP);LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&(LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_MOVE),LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_OVER),LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_OUT))},hasEventListener:function(b){var a,e;if(0<=b.indexOf("mouse")||
0<=b.indexOf("touch")||b==LMouseEvent.DOUBLE_CLICK)for(e=this.mouseList.length,a=0;a<e;a++){if(this.mouseList[a]&&b==this.mouseList[a].type)return!0}else return this.callParent("hasEventListener",arguments);return!1}},c;for(c in d)a.prototype[c]=d[c];return a}(),LDisplayObjectContainer=function(){function a(){LExtends(this,LInteractiveObject,[]);this.childList=[];this.numChildren=0;this.mouseChildren=!0}var d={addChild:function(b){var a;b.parent&&(a=LGlobal.destroy,LGlobal.destroy=!1,b.parent.removeChild(b),
LGlobal.destroy=a);b.parent=this;this.childList.push(b);this.numChildren=this.childList.length;this._ll_removeFromSelf=!1;return b},addChildAt:function(b,a){var e;if(!(0>a||a>this.childList.length))return"function"==typeof b.remove&&(e=LGlobal.destroy,LGlobal.destroy=!1,b.remove(),LGlobal.destroy=e),b.parent=this,this.childList.splice(a,0,b),this.numChildren=this.childList.length,this._ll_removeFromSelf=!1,b},removeChild:function(b){var a=this.childList,e,c;e=0;for(c=a.length;e<c;e++)if(b.objectIndex==
a[e].objectIndex){LGlobal.destroy&&b.die&&b.die();this.childList.splice(e,1);break}this.numChildren=this.childList.length;delete b.parent},getChildAt:function(b){var a=this.childList;return 0==a.length||a.length<=b?null:a[b]},getChildByName:function(b){var a=this.childList;i=0;for(l=a.length;i<l;i++)if(a[i]&&a[i].name==b)return a[i];return null},removeChildAt:function(b){var a=this.childList;if(!(a.length<=b))return LGlobal.destroy&&a[b].die&&a[b].die(),b=this.childList.splice(b,1),this.numChildren=
this.childList.length,b},getChildIndex:function(b){if(!b)return-1;var a=this.childList,e,c=a.length;for(e=0;e<c;e++)if(a[e].objectIndex==b.objectIndex)return e;return-1},setChildIndex:function(b,a){var e=this.childList,c,d=e.length;if("root"==b.parent||b.parent.objectIndex!=this.objectIndex||0>a||a>=d)return-1;for(c=0;c<d&&e[c].objectIndex!=b.objectIndex;c++);this.childList.splice(c,1);this.childList.splice(a,0,b);return a},resize:function(){this.width=this.getWidth();this.height=this.getHeight()},
removeAllChild:function(){var b=this.childList,a,e;a=0;for(e=b.length;a<e;a++)LGlobal.destroy&&b[a].die&&b[a].die();this.numChildren=this.height=this.width=this.childList.length=0}},c;for(c in d)a.prototype[c]=d[c];return a}(),LLoader=function(){function a(){LExtends(this,LEventDispatcher,[]);this.type="LLoader"}a.TYPE_BITMAPDATE="bitmapData";a.prototype.load=function(d,c){var b=this;c||(c=a.TYPE_BITMAPDATE);b.loadtype=c;c==a.TYPE_BITMAPDATE&&(b.content=new Image,b.content.onload=function(){b.content.onload=
null;var a=new LEvent(LEvent.COMPLETE);a.currentTarget=b;a.target=b.content;b.dispatchEvent(a);delete b.content},b.content.src=d)};return a}(),LURLLoader=function(){function a(){LExtends(this,LEventDispatcher,[]);this.type="LURLLoader";this.loadtype="";this.content=null;this.event={}}a.TYPE_TEXT="text";a.TYPE_JS="js";a.prototype.load=function(d,c){var b=this,f,e;c||(e=getExtension(d),"txt"==e?c=a.TYPE_TEXT:"js"==e&&(c=a.TYPE_JS));b.loadtype=c;c==a.TYPE_TEXT?LAjax.get(d,{},function(a){f=new LEvent(LEvent.COMPLETE);
b.data=a;f.currentTarget=b;f.target=a;b.dispatchEvent(f);delete b.content;delete b.data}):c==a.TYPE_JS&&(e=document.createElement("script"),e.onload=function(){f=new LEvent(LEvent.COMPLETE);f.currentTarget=b;f.target=b;b.dispatchEvent(f);delete b.content},e.src=d,e.type="text/javascript",document.querySelector("head").appendChild(e))};return a}(),LWebAudio=function(){function a(){LExtends(this,LEventDispatcher,[]);this.loopIndex=this.loopEnd=this.loopStart=this.length=this.currentSave=this.currentStart=
this.currentTime=0;this.loopLength=1;this.playing=!1;this.volume=1;LSound.Container.add(this)}a.container=[];a.containerCount=0;a.audioTag=new Audio;a._context=null;var d={getWebAudio:function(){var b;if(0<a.containerCount)b=a.container.shift();else if(typeof AudioContext!==UNDEFINED)try{b=new AudioContext}catch(f){a.containerCount=a.container.length,b=a.container.shift()}else if(typeof webkitAudioContext!==UNDEFINED)try{b=new webkitAudioContext}catch(e){a.containerCount=a.container.length,b=a.container.shift()}else throw"AudioContext not supported.:(";
b.createGainNode||(b.createGainNode=b.createGain);a.container.push(b);return b},onload:function(b){"[object AudioBuffer]"!==Object.prototype.toString.apply(b)?this.load(b):(this.data||(this.data=this.getWebAudio()),this.buffer=b,this.length=this.buffer.duration,b=new LEvent(LEvent.COMPLETE),b.currentTarget=this,b.target=this.buffer,this.dispatchEvent(b))},_onended:function(){this.dispatchEvent(LEvent.SOUND_COMPLETE);this.close();++this.loopIndex<this.loopLength&&this.play(this.currentStart,void 0,
this.currentTimeTo)},load:function(b){var f=this;if("string"!==typeof b)if("[object AudioBuffer]"==Object.prototype.toString.apply(b))f.onload(b);else"[object ArrayBuffer]"==Object.prototype.toString.apply(b)&&(f.data||(f.data=f.getWebAudio()),f.data.decodeAudioData(b,f.onload.bind(f),function(b){throw"AudioContext decodeAudioData error:"+b.toString();}));else{var e,c,d,g={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav",
"x-wav","wave"],aac:["mp4","aac"]};b=b.split(",");for(d=0;d<b.length;d++)if(e=b[d].split("."),c=e[e.length-1],c=g[c]?g[c]:[c],c=c.some(function(b,e,c){return a.audioTag.canPlayType(f._type+"/"+b)})){LAjax.responseType=LAjax.ARRAY_BUFFER;LAjax.get(b[d],{},f.onload.bind(f));break}else console.warn("Not support "+e[e.length-1]+":"+b[d]),e=new LEvent(LEvent.COMPLETE),e.currentTarget=e.target=f,f.dispatchEvent(e)}},getCurrentTime:function(){return this.playing?this.data.currentTime-this.currentSave+this.currentTime:
this.currentSave},setVolume:function(b){this.volume=b;this.playing&&(this.volumeNode.gain.value=b)},getVolume:function(){return this.volume},play:function(b,a,e){0!=this.length&&(typeof a!==UNDEFINED&&(this.loopIndex=0,this.loopLength=a),typeof b!==UNDEFINED&&(this.currentStart=this.currentTime=b),this.currentTimeTo=typeof e!==UNDEFINED?e>this.length?this.length:e:this.length,this.data.loop=!1,this.playing=!0,this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.timeout=setTimeout(this._onended.bind(this),
1E3*(this.currentTimeTo-this.currentTime)),this.bufferSource=this.data.createBufferSource(),this.bufferSource.buffer=this.buffer,this.volumeNode=this.data.createGainNode(),this.volumeNode.gain.value=this.volume,this.volumeNode.connect(this.data.destination),this.bufferSource.connect(this.volumeNode),this.currentSave=this.data.currentTime,this.bufferSource.start?this.bufferSource.start(0,this.currentTime,this.length-this.currentTime):this.bufferSource.noteGrainOn(0,this.currentTime,this.length-this.currentTime))},
playSegment:function(b,a,e){this.playTo(b,b+a,e)},playTo:function(b,a,e){this.play(b,e,a)},stop:function(){this.playing&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.bufferSource.stop?this.bufferSource.stop(0):this.bufferSource.noteOff(0),this.currentTime=this.currentSave=this.getCurrentTime(),this.playing=!1)},close:function(){this.playing&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.bufferSource.stop?this.bufferSource.stop(0):this.bufferSource.noteOff(0),
this.playing=!1,this.currentSave=this.currentTime=0)},ll_check:function(){this.playing&&this.currentTimeTo<this.data.currentTime-this.currentSave+.001*LSound.Container.time&&this._onended()},die:function(){LSound.Container.remove(this)}},c;for(c in d)a.prototype[c]=d[c];return a}(),LMedia=function(){function a(){LExtends(this,LDisplayObject,[]);this.loopIndex=this.length=0;this.loopLength=1;this.playing=!1;this.onsoundcomplete=this.oncomplete=null;this.currentStart=0;LSound.Container.add(this)}var d=
{onload:function(){var b=this;if(b.data.readyState){b.length=b.data.duration-(LGlobal.android?.1:0);var a=new LEvent(LEvent.COMPLETE);a.currentTarget=b;a.target=b.data;b.dispatchEvent(a)}else b.data.addEventListener("canplaythrough",function(){b.onload()},!1)},_onended:function(){var b;this.dispatchEvent(LEvent.SOUND_COMPLETE);++this.loopIndex<this.loopLength?(b=this.loopIndex,this.close(),this.play(this.currentStart,this.loopLength,this.currentTimeTo),this.loopIndex=b):this.close()},load:function(b){var a=
this;if("[object HTMLAudioElement]"==Object.prototype.toString.apply(b))a.data=b,a.onload();else{var e,c,d,g={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]};b=b.split(",");for(d=0;d<b.length;d++){e=b[d].split(".");c=e[e.length-1];c=g[c]?g[c]:[c];if(c=c.some(function(b,e,c){return a.data.canPlayType(a._type+"/"+b)})){a.data.src=b[d];a.onload();a.data.load();return}console.warn("Not support "+
e[e.length-1]+":"+b[d]);e=new LEvent(LEvent.COMPLETE);e.currentTarget=e.target=a;a.dispatchEvent(e)}if(a.oncomplete)a.oncomplete({})}},getCurrentTime:function(){return this.data.currentTime},setVolume:function(b){this.data.volume=b},getVolume:function(){return this.data.volume},play:function(b,a,e){var c=this;0!=c.length&&(LGlobal.android&&LSound.Container.stopOther(this),typeof b!=UNDEFINED&&(c.data.currentTime=b,c.currentStart=b),typeof a!=UNDEFINED&&(c.loopLength=a),c.currentTimeTo=typeof e!==
UNDEFINED?e>c.length?c.length:e:c.length,c.timeout&&(clearTimeout(c.timeout),delete c.timeout),c.timeout=setTimeout(function(){c._onended()},1E3*(c.currentTimeTo-c.data.currentTime)),c.data.loop=!1,c.loopIndex=0,c.playing=!0,c.data.play())},playSegment:function(b,a,e){this.playTo(b,b+a,e)},playTo:function(b,a,e){this.play(b,e,a)},stop:function(){this.playing&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.playing=!1,this.data.pause())},close:function(){this.playing&&(this.timeout&&
(clearTimeout(this.timeout),delete this.timeout),this.playing=!1,this.data.pause(),this.currentSave=this.data.currentTime=0)},ll_check:function(){this.playing&&(this.data.duration!=this._ll_duration&&(this._ll_duration=this.data.duration,this.length=this.data.duration-(LGlobal.android?.1:0)),this.currentTimeTo<this.data.currentTime+.005*LSound.Container.time&&this._onended())},die:function(){LSound.Container.remove(this)}},c;for(c in d)a.prototype[c]=d[c];return a}(),LSound=function(){function a(b){this.type=
"LSound";this._type="audio";a.webAudioEnabled&&LGlobal.webAudio?LExtends(this,LWebAudio,[]):(LExtends(this,LMedia,[]),this.data=new Audio,this.data.loop=!1,this.data.autoplay=!1);b&&this.load(b)}a.TYPE_SOUND="sound";a.webAudioEnabled=!1;var d=location.protocol;if("http:"==d||"https:"==d){if(typeof AudioContext!==UNDEFINED)try{LWebAudio._context=new AudioContext}catch(c){}else if(typeof webkitAudioContext!==UNDEFINED)try{LWebAudio._context=new webkitAudioContext}catch(b){}LWebAudio._context&&(LWebAudio.container.push(LWebAudio._context),
a.webAudioEnabled=!0)}a.Container={ll_save:0,time:0,list:[],ll_show:function(){var b=a.Container,e=(new Date).getTime();b.time=e-(b.ll_save?b.ll_save:e);b.ll_save=e;b=b.list;for(e=b.length-1;0<=e;e--)b[e]&&b[e].ll_check()},add:function(b){0<=a.Container.list.indexOf(b)||a.Container.list.push(b)},remove:function(b){for(var e=a.Container.list,c=e.length-1;0<=c;c--)if(e[c].objectIndex==b.objectIndex){e.splice(c,1);break}},stopOther:function(b){for(var e=a.Container.list,c=e.length-1;0<=c;c--)e[c].objectIndex!=
b.objectIndex&&e[c].stop()}};LGlobal.childList.push(a.Container);return a}(),LVideo=function(){function a(b){LExtends(this,LMedia,[]);this.type="LVideo";this._type="video";this.rotatey=this.rotatex=0;this.data=document.createElement("video");this.data.style.display="none";document.body.appendChild(this.data);this.data.id="video_"+this.objectIndex;this.data.loop=!1;this.data.autoplay=!1;b&&this.load(b)}var d={_ll_show:function(b){b.drawImage(this.data,this.x,this.y)},die:function(){document.body.removeChild(this.data);
delete this.data},getWidth:function(){return this.data.width},getHeight:function(){return this.data.height}},c;for(c in d)a.prototype[c]=d[c];return a}(),LPoint=function(){function a(a,c){this.x=a;this.y=c}a.distance=function(d,c){return a.distance2(d.x,d.y,c.x,c.y)};a.distance2=function(a,c,b,f){a-=b;c-=f;return Math.sqrt(a*a+c*c)};a.interpolate=function(d,c,b){return new a(d.x+(c.x-d.x)*(1-b),d.y+(c.y-d.y)*(1-b))};a.polar=function(d,c){return new a(d*Math.cos(c),d*Math.sin(c))};a.prototype={toString:function(){return"[object LPoint("+
this.x+","+this.y+")]"},length:function(){return a.distance2(this.x,this.y,0,0)},add:function(d){return a(this.x+d.x,this.y+d.y)},clone:function(){return new a(this.x,this.y)},setTo:function(a,c){this.x=a;this.y=c},copyFrom:function(a){this.setTo(a.x,a.y)},equals:function(a){return this.x==a.x&&this.y==a.y},normalize:function(a){a/=this.length();this.x*=a;this.y*=a},offset:function(a,c){this.x+=a;this.y+=c},subtract:function(d){return new a(this.x-d.x,this.y-d.y)}};return a}(),LRectangle=function(){function a(a,
c,b,f){this.x=a;this.y=c;this.width=b;this.height=f;this.setRectangle()}a.prototype={setRectangle:function(){this.bottom=this.y+this.height;this.right=this.x+this.width;this.left=this.x;this.top=this.y},clone:function(){return new a(this.x,this.y,this.width,this.height)},contains:function(a,c){return a>=this.x&&a<=this.right&&c>=this.y&&c<=this.bottom},containsRect:function(a){return a.x>=this.x&&a.right<=this.right&&a.y>=this.y&&a.bottom<=this.bottom},equals:function(a){return a.x==this.x&&a.width==
this.width&&a.y==this.y&&a.height==this.height},inflate:function(a,c){this.width+=a;this.height+=c;this.setRectangle()},intersection:function(d){var c=this.x>d.x?this.x:d.x,b=this.y>d.y?this.y:d.y,f=this.right>d.right?d.right:this.right;d=this.bottom>d.bottom?d.bottom:this.bottom;return c<=f&&b<=d?new a(c,b,f,d):new a(0,0,0,0)},intersects:function(a){var c=this.y>a.y?this.y:a.y,b=this.bottom>a.bottom?a.bottom:this.bottom;return(this.x>a.x?this.x:a.x)<=(this.right>a.right?a.right:this.right)&&c<=b},
isEmpty:function(){return 0==this.x&&0==this.y&&0==this.width&&0==this.height},offset:function(a,c){this.x+=a;this.y+=c;this.setRectangle()},setEmpty:function(){this.height=this.width=this.y=this.x=0;this.setRectangle()},setTo:function(a,c,b,f){this.x=a;this.y=c;this.width=b;this.height=f;this.setRectangle()},toString:function(){return"[object LRectangle("+this.x+","+this.y+","+this.width+","+this.height+")]"},union:function(d){return new a(this.x>d.x?d.x:this.x,this.y>d.y?d.y:this.y,this.right>d.right?
this.right:d.right,this.bottom>d.bottom?this.bottom:d.bottom)}};return a}(),LGraphics=function(){function a(){LExtends(this,LObject,[]);this.type="LGraphics";this.color="#000000";this.alpha=1;this.bitmap=null;this.setList=[];this.showList=[]}var d={ll_show:function(){var b,a=this.setList.length;if(0!=a)for(b=0;b<a;b++)this.setList[b](),LGlobal.fpsStatus&&LGlobal.fpsStatus.graphics++},clone:function(){var b=new a,f,e,c;b.color=this.color;b.alpha=this.alpha;b.bitmap=this.bitmap;f=0;for(e=this.setList.length;f<
e;f++)c=this.setList[f],b.setList.push(c);f=0;for(e=this.showList.length;f<e;f++)c=this.showList[f],b.showList.push(c);return b},lineCap:function(b){this.setList.push(function(){LGlobal.canvas.lineCap=b})},lineJoin:function(b){this.setList.push(function(){LGlobal.canvas.lineJoin=b})},lineWidth:function(b){this.setList.push(function(){LGlobal.canvas.lineWidth=b})},strokeStyle:function(b){this.setList.push(function(){LGlobal.canvas.strokeStyle=b})},stroke:function(){this.setList.push(function(){LGlobal.canvas.stroke()})},
beginPath:function(){this.setList.push(function(){LGlobal.canvas.beginPath()})},closePath:function(){this.setList.push(function(){LGlobal.canvas.closePath()})},moveTo:function(b,a){this.setList.push(function(){LGlobal.canvas.moveTo(b,a)});this.showList.push({type:LShape.POINT,arg:[b,a]})},lineTo:function(b,a){this.setList.push(function(){LGlobal.canvas.lineTo(b,a)});this.showList.push({type:LShape.POINT,arg:[b,a]})},rect:function(b,a,e,c){this.setList.push(function(){LGlobal.canvas.rect(b,a,e,c)});
this.showList.push({type:LShape.RECT,arg:[b,a,e,c]})},fillStyle:function(b){this.setList.push(function(){LGlobal.canvas.fillStyle=b})},fill:function(){this.setList.push(function(){LGlobal.canvas.fill()})},arc:function(b,a,e,c,d,g){this.setList.push(function(){LGlobal.canvas.arc(b,a,e,c,d,g)});this.showList.push({type:LShape.ARC,arg:c})},lineStyle:function(b,a){var e;null==a&&(a=this.color);this.color=a;this.setList.push(function(){e=LGlobal.canvas;e.lineWidth=b;e.strokeStyle=a})},clear:function(){this.bitmap=
null;this.setList.length=0;this.showList.length=0},beginBitmapFill:function(b){var a=this;a.setList.push(function(){a.bitmap=b})},drawEllipse:function(b,a,e,c,d){var g=this;g.setList.push(function(){var h,n,r,p,q,t,x,y,z;h=LGlobal.canvas;h.beginPath();n=e[0];r=e[1];p=e[2];q=e[3];t=p/2*.5522848;x=q/2*.5522848;y=n+p;z=r+q;p=n+p/2;q=r+q/2;h.moveTo(n,q);h.bezierCurveTo(n,q-x,p-t,r,p,r);h.bezierCurveTo(p+t,r,y,q-x,y,q);h.bezierCurveTo(y,q+x,p+t,z,p,z);h.bezierCurveTo(p-t,z,n,q+x,n,q);g.bitmap?(h.save(),
h.clip(),h.drawImage(g.bitmap.image,g.bitmap.x,g.bitmap.y,g.bitmap.width,g.bitmap.height,0,0,g.bitmap.width,g.bitmap.height),h.restore(),g.bitmap=null):(c&&(h.fillStyle=d,h.fill()),0<b&&(h.lineWidth=b,h.strokeStyle=a,h.stroke()))});g.showList.push({type:LShape.RECT,arg:e})},drawArc:function(b,a,e,c,d){var g=this;g.setList.push(function(){var h=LGlobal.canvas;h.beginPath();6<e.length&&e[6]&&h.moveTo(e[0],e[1]);h.arc(e[0],e[1],e[2],e[3],e[4],e[5]);6<e.length&&e[6]&&h.lineTo(e[0],e[1]);g.bitmap?(h.save(),
h.clip(),h.drawImage(g.bitmap.image,g.bitmap.x,g.bitmap.y,g.bitmap.width,g.bitmap.height,0,0,g.bitmap.width,g.bitmap.height),h.restore(),g.bitmap=null):(c&&(h.fillStyle=d,h.fill()),0<b&&(h.lineWidth=b,h.strokeStyle=a,h.stroke()))});g.showList.push({type:LShape.ARC,arg:e})},drawRect:function(b,a,e,c,d){var g=this;g.setList.push(function(){var h=LGlobal.canvas;h.beginPath();h.rect(e[0],e[1],e[2],e[3]);h.closePath();g.bitmap?(h.save(),h.clip(),h.drawImage(g.bitmap.image,g.bitmap.x,g.bitmap.y,g.bitmap.width,
g.bitmap.height,0,0,g.bitmap.width,g.bitmap.height),h.restore(),g.bitmap=null):(c&&(h.fillStyle=d,h.fill()),0<b&&(h.lineWidth=b,h.strokeStyle=a,h.stroke()))});g.showList.push({type:LShape.RECT,arg:e})},drawRoundRect:function(b,a,e,c,d){var g=this;g.setList.push(function(){var h=LGlobal.canvas;h.beginPath();h.moveTo(e[0]+e[4],e[1]);h.lineTo(e[0]+e[2]-e[4],e[1]);h.arcTo(e[0]+e[2],e[1],e[0]+e[2],e[1]+e[4],e[4]);h.lineTo(e[0]+e[2],e[1]+e[3]-e[4]);h.arcTo(e[0]+e[2],e[1]+e[3],e[0]+e[2]-e[4],e[1]+e[3],e[4]);
h.lineTo(e[0]+e[4],e[1]+e[3]);h.arcTo(e[0],e[1]+e[3],e[0],e[1]+e[3]-e[4],e[4]);h.lineTo(e[0],e[1]+e[4]);h.arcTo(e[0],e[1],e[0]+e[4],e[1],e[4]);h.closePath();g.bitmap?(h.save(),h.clip(),h.drawImage(g.bitmap.image,0,0,g.bitmap.width,g.bitmap.height,0,0,g.bitmap.width,g.bitmap.height),h.restore(),g.bitmap=null):(c&&(h.fillStyle=d,h.fill()),0<b&&(h.lineWidth=b,h.strokeStyle=a,h.stroke()))});g.showList.push({type:LShape.RECT,arg:e})},drawVertices:function(b,a,e,c,d){var g=this;3>e.length||(g.setList.push(function(){var h=
LGlobal.canvas;h.beginPath();h.moveTo(e[0][0],e[0][1]);var n,r=e.length,p;for(n=1;n<r;n++)p=e[n],h.lineTo(p[0],p[1]);h.lineTo(e[0][0],e[0][1]);h.closePath();g.bitmap?(h.save(),h.clip(),h.drawImage(g.bitmap.image,g.bitmap.x,g.bitmap.y,g.bitmap.width,g.bitmap.height,0,0,g.bitmap.width,g.bitmap.height),h.restore(),g.bitmap=null):(c&&(h.fillStyle=d,h.fill()),0<b&&(h.lineWidth=b,h.strokeStyle=a,h.closePath(),h.stroke()))}),g.showList.push({type:LShape.VERTICES,arg:e}))},drawTriangles:function(b,a,e,c,
d){var g=this,h,n,r=a.length,p;g.setList.push(function(){p=LGlobal.canvas;var q;for(n=h=0;h<r;h+=3){p.save();p.beginPath();p.moveTo(b[2*a[h]],b[2*a[h]+1]);p.lineTo(b[2*a[h+1]],b[2*a[h+1]+1]);p.lineTo(b[2*a[h+2]],b[2*a[h+2]+1]);p.lineTo(b[2*a[h]],b[2*a[h]+1]);p.closePath();c&&(p.lineWidth=c,p.strokeStyle=d,p.stroke());p.clip();if(0==h%6){var t=(e[2*a[h+1+n]]-e[2*a[h+n]])*g.bitmap.width,x=(e[2*a[h+2]+1]-e[2*a[h]+1])*g.bitmap.height;if(0==n&&0>t){for(q=h+9;q<r;q+=3)if(e[2*a[h+2]+1]==e[2*a[q+2]+1]){n=
q-h;break}0==n&&(n=r-h);t=(e[2*a[h+1+n]]-e[2*a[h+n]])*g.bitmap.width}h+n>=r?(t=(e[2*a[h+n-r]]-e[2*a[h+1]])*g.bitmap.width,q=1==e[2*a[h]]?0:g.bitmap.width*e[2*a[h]]+t,q>g.bitmap.width&&(q-=g.bitmap.width)):q=g.bitmap.width*e[2*a[h+n]];sh=g.bitmap.height*e[2*a[h]+1];0>x&&(x=(e[2*a[h+2-(0<h?6:-6)]+1]-e[2*a[h-(0<h?6:-6)]+1])*g.bitmap.height,sh=0);var y=(b[2*a[h+1]]-b[2*a[h]])/t,z=(b[2*a[h+1]+1]-b[2*a[h]+1])/t,A=(b[2*a[h+2]]-b[2*a[h]])/x,B=(b[2*a[h+2]+1]-b[2*a[h]+1])/x;p.transform(y,z,A,B,b[2*a[h]],b[2*
a[h]+1]);p.drawImage(g.bitmap.image,g.bitmap.x+q,g.bitmap.y+sh,t,x,0,0,t,x)}else{t=(e[2*a[h+2+n]]-e[2*a[h+1+n]])*g.bitmap.width;x=(e[2*a[h+2]+1]-e[2*a[h]+1])*g.bitmap.height;if(0==n&&0>t){for(q=h+9;q<r;q+=3)if(e[2*a[h+2]+1]==e[2*a[q+2]+1]){n=q-h;break}0==n&&(n=r-h);t=(e[2*a[h+2+n]]-e[2*a[h+1+n]])*g.bitmap.width}h+1+n>=r?(t=(e[2*a[h+1+n-r]]-e[2*a[h+2]])*g.bitmap.width,q=1==e[2*a[h+1]]?0:g.bitmap.width*e[2*a[h+1]]+t,q>g.bitmap.width&&(q-=g.bitmap.width)):q=g.bitmap.width*e[2*a[h+1+n]];sh=g.bitmap.height*
e[2*a[h]+1];0>x&&(x=(e[2*a[h+2-(0<h?6:-6)]+1]-e[2*a[h-(0<h?6:-6)]+1])*g.bitmap.height,sh=0);y=(b[2*a[h+2]]-b[2*a[h+1]])/t;z=(b[2*a[h+2]+1]-b[2*a[h+1]+1])/t;A=(b[2*a[h+2]]-b[2*a[h]])/x;B=(b[2*a[h+2]+1]-b[2*a[h]+1])/x;p.transform(y,z,A,B,b[2*a[h+1]],b[2*a[h+1]+1]);p.drawImage(g.bitmap.image,g.bitmap.x+q,g.bitmap.y+sh,t,x,0,-x,t,x)}p.restore()}})},drawLine:function(b,a,e){this.setList.push(function(){var c=LGlobal.canvas;c.beginPath();c.moveTo(e[0],e[1]);c.lineTo(e[2],e[3]);c.lineWidth=b;c.strokeStyle=
a;c.closePath();c.stroke()});this.showList.push({type:LShape.LINE,arg:e})},add:function(b){this.setList.push(b)},ismouseon:function(b,a){return null!=b&&b!=UNDEFINED&&0!=this.showList.length&&this.parent?this.parent.ismouseonShapes(this.showList,b.offsetX,b.offsetY):!1},getWidth:function(){var b,a,c,d,k,g,h;b=0;for(g=this.showList.length;b<g;b++)if(this.showList[b].type==LShape.RECT){if(c>this.showList[b].arg[0]||typeof c==UNDEFINED)c=this.showList[b].arg[0];if(d<this.showList[b].arg[0]+this.showList[b].arg[2]||
typeof d==UNDEFINED)d=this.showList[b].arg[0]+this.showList[b].arg[2]}else if(this.showList[b].type==LShape.ARC){if(c>this.showList[b].arg[0]-this.showList[b].arg[2]||typeof c==UNDEFINED)c=this.showList[b].arg[0]-this.showList[b].arg[2];if(d<this.showList[b].arg[0]+this.showList[b].arg[2]||typeof d==UNDEFINED)d=this.showList[b].arg[0]+this.showList[b].arg[2]}else if(this.showList[b].type==LShape.VERTICES)for(a=0,h=this.showList[b].arg.length;a<h;a++){k=this.showList[b].arg[a];if(c>k[0]||typeof c==
UNDEFINED)c=k[0];if(d<k[0]||typeof d==UNDEFINED)d=k[0]}else if(this.showList[b].type==LShape.LINE){if(c>this.showList[b].arg[0]||typeof c==UNDEFINED)c=this.showList[b].arg[0];if(c>this.showList[b].arg[2]||typeof c==UNDEFINED)c=this.showList[b].arg[2];if(d<this.showList[b].arg[0]||typeof d==UNDEFINED)d=this.showList[b].arg[0];if(d<this.showList[b].arg[2]||typeof d==UNDEFINED)d=this.showList[b].arg[2]}else if(this.showList[b].type==LShape.POINT){if(c>this.showList[b].arg[0]||typeof c==UNDEFINED)c=this.showList[b].arg[0];
if(d<this.showList[b].arg[0]||typeof d==UNDEFINED)d=this.showList[b].arg[0]}typeof c==UNDEFINED&&(c=d=0);this.left=c;0<g&&d==c&&(d=c+1);return d-c},getHeight:function(){var b=null,a=null,c,d,k,g,h,b=0;for(c=this.showList.length;b<c;b++)if(this.showList[b].type==LShape.RECT){if(k>this.showList[b].arg[1]||typeof k==UNDEFINED)k=this.showList[b].arg[1];if(g<this.showList[b].arg[1]+this.showList[b].arg[3]||typeof g==UNDEFINED)g=this.showList[b].arg[1]+this.showList[b].arg[3]}else if(this.showList[b].type==
LShape.ARC){if(k>this.showList[b].arg[1]-this.showList[b].arg[2]||typeof k==UNDEFINED)k=this.showList[b].arg[1]-this.showList[b].arg[2];if(g<this.showList[b].arg[1]+this.showList[b].arg[2]||typeof g==UNDEFINED)g=this.showList[b].arg[1]+this.showList[b].arg[2]}else if(this.showList[b].type==LShape.VERTICES)for(a=0,d=this.showList[b].arg.length;a<d;a++){h=this.showList[b].arg[a];if(k>h[1]||typeof k==UNDEFINED)k=h[1];if(g<h[1]||typeof g==UNDEFINED)g=h[1]}else if(this.showList[b].type==LShape.LINE){if(k>
this.showList[b].arg[1]||typeof k==UNDEFINED)k=this.showList[b].arg[1];if(k>this.showList[b].arg[3]||typeof k==UNDEFINED)k=this.showList[b].arg[3];if(g<this.showList[b].arg[1]||typeof g==UNDEFINED)g=this.showList[b].arg[1];if(g<this.showList[b].arg[3]||typeof g==UNDEFINED)g=this.showList[b].arg[3]}else if(this.showList[b].type==LShape.POINT){if(k>this.showList[b].arg[1]||typeof k==UNDEFINED)k=this.showList[b].arg[1];if(g<this.showList[b].arg[1]||typeof g==UNDEFINED)g=this.showList[b].arg[1]}typeof k==
UNDEFINED&&(k=g=0);this.top=k;0<c&&g==k&&(g=k+1);return g-k},startX:function(){this.getWidth();return this.left},startY:function(){this.getHeight();return this.top}},c;for(c in d)a.prototype[c]=d[c];return a}(),LShape=function(){function a(){LExtends(this,LInteractiveObject,[]);this.type="LShape";this.graphics=new LGraphics;this.graphics.parent=this}a.POINT="point";a.LINE="line";a.ARC="arc";a.RECT="rect";a.VERTICES="vertices";var d={_ll_show:function(b){this.graphics.ll_show()},getWidth:function(b){var a,
c=this.graphics.startX(),d=c+this.graphics.getWidth();b&&this.mask&&(b=this.mask._startX?this.mask._startX():this.mask.startX(),a=this.mask.getWidth(),c<b&&(c=b),d>b+a&&(d=b+a));this.ll_left=this.x+c;this.ll_right=this.x+d;return(d-c)*this.scaleX},getHeight:function(b){var a,c=this.graphics.startY(),d=c+this.graphics.getHeight();b&&this.mask&&(b=this.mask._startY?this.mask._startY():this.mask.startY(),a=this.mask.getHeight(),c<b&&(c=b),d>b+a&&(d=b+a));this.ll_top=this.y+c;this.ll_bottom=this.y+d;
return(d-c)*this.scaleY},_startX:function(){this.getWidth();return this.ll_left},startX:function(){return this._startX()*this.scaleX},_startY:function(){this.getHeight();return this.ll_top},startY:function(){return this._startY()*this.scaleY},clone:function(){var b=new a;b.copyProperty(this);b.graphics=this.graphics.clone();return b.graphics.parent=b},ismouseon:function(b,a){var c=!1,d;if(!this.visible||null==b||this.mask&&(this.mask.parent||(this.mask.parent=this.parent),!this.mask.ismouseon(b,a)))return!1;
d={x:this.x*a.scaleX+a.x,y:this.y*a.scaleY+a.y,scaleX:a.scaleX*this.scaleX,scaleY:a.scaleY*this.scaleY};this.graphics&&(c=this.graphics.ismouseon(b,d));return c},die:function(){this.graphics.clear()}},c;for(c in d)a.prototype[c]=d[c];return a}(),LSprite=function(){function a(){LExtends(this,LDisplayObjectContainer,[]);this.type="LSprite";this.rotatex;this.rotatey;this.graphics=new LGraphics;this.graphics.parent=this;this.box2dBody=null;this.shapes=[];this.dragRange=null}var d={setRotate:function(b){this.box2dBody?
this.box2dBody.SetAngle(b):this.rotate=b},_rotateReady:function(){this.box2dBody&&(typeof this.rotatex==UNDEFINED&&this.getRotateXY(),this.x=this.box2dBody.GetPosition().x*LGlobal.box2d.drawScale-this.parent.x-this.rotatex,this.y=this.box2dBody.GetPosition().y*LGlobal.box2d.drawScale-this.parent.y-this.rotatey,this.rotate=this.box2dBody.GetAngle())},_ll_show:function(b){this.graphics.ll_show();LGlobal.show(this.childList);this._ll_debugShape()},startDrag:function(b){this.ll_dragStart||(this.ll_touchPointID=
b,this.ll_dragStartX=this.x,this.ll_dragStartY=this.y,this.ll_dragMX=mouseX,this.ll_dragMY=mouseY,this.ll_dragStart=!0,LGlobal.dragList.push(this))},stopDrag:function(){var b,a;b=0;for(a=LGlobal.dragList.length;b<a;b++)if(this.objectIndex==LGlobal.dragList[b].objectIndex){this.ll_dragStart=!1;LGlobal.dragList.splice(b,1);break}},getRotateXY:function(b,a){b&&a||(b=this.getWidth(),a=this.getHeight());this.rotatex=b/2;this.rotatey=a/2},getWidth:function(b){var a,c,d,k,g=this.graphics.startX(),h=g+this.graphics.getWidth();
a=0;for(c=this.childList.length;a<c;a++)d=this.childList[a],typeof d.visible!=UNDEFINED&&d.visible&&(k=d.x,"function"==typeof d._startX&&(k=d._startX()),d=k+d.getWidth(b),k<g&&(g=k),d>h&&(h=d));b&&this.mask&&(b=this.mask._startX?this.mask._startX():this.mask.startX(),a=this.mask.getWidth(),g<b&&(g=b),h>b+a&&(h=b+a));this.ll_left=this.x+g;this.ll_right=this.x+h;return(h-g)*this.scaleX},getHeight:function(b){var a,c,d,k,g=this.graphics.startY(),h=g+this.graphics.getHeight();a=0;for(c=this.childList.length;a<
c;a++)d=this.childList[a],typeof d.visible!=UNDEFINED&&d.visible&&(k=d.y,"function"==typeof d._startY&&(k=d._startY()),d=k+d.getHeight(b),k<g&&(g=k),d>h&&(h=d));b&&this.mask&&(b=this.mask._startY?this.mask._startY():this.mask.startY(),a=this.mask.getHeight(),g<b&&(g=b),h>b+a&&(h=b+a));this.ll_top=this.y+g;this.ll_bottom=this.y+h;return(h-g)*this.scaleY},_startX:function(){this.getWidth();return this.ll_left},startX:function(){return this._startX()*this.scaleX},_startY:function(){this.getHeight();
return this.ll_top},startY:function(){return this._startY()*this.scaleY},_ll_loopframe:function(){this.dispatchEvent(LEvent.ENTER_FRAME)},clone:function(){var b=new a,c,e,d;b.copyProperty(this);b.graphics=this.graphics.clone();b.graphics.parent=b;e=b.childList.length=0;for(d=this.childList.length;e<d;e++)c=this.childList[e],c.clone&&(c=c.clone(),c.parent=b,b.childList.push(c));return b},_mevent:function(b){var a;for(a=0;a<this.mouseList.length;a++)if(this.mouseList[a].type==b)return!0;return!1},ll_dispatchMouseEvent:function(b,
a,e,d,k){if(this.mouseEnabled)for(c=0;c<this.mouseList.length;c++){var g=this.mouseList[c];g.type==b&&(a.selfX=(d-(this.x*e.scaleX+e.x))/(e.scaleX*this.scaleX),a.selfY=(k-(this.y*e.scaleY+e.y))/(e.scaleY*this.scaleY),a.currentTarget=a.clickTarget=this,a.target||(a.target=this),g.listener(a,this))}},ll_mouseout:function(b,a,c,d,k){if(a==LMouseEvent.MOUSE_MOVE&&this.ll_mousein&&(this.ll_mousein=!1,this._mevent(LMouseEvent.MOUSE_OUT)&&this.ll_dispatchMouseEvent(LMouseEvent.MOUSE_OUT,b,c,d,k),this.mouseChildren))for(var g=
this.childList.length-1;0<=g;g--)this.childList[g].mouseEvent&&this.childList[g].ll_mouseout&&this.childList[g].ll_mouseout(b,a,c,d,k)},mouseEvent:function(b,a,c){if(!b)return!1;var d,k,g=b.offsetX,h=b.offsetY,n;if(!this.visible)return!1;null==c&&(c={x:0,y:0,scaleX:1,scaleY:1});if(this.ismouseon(b,c)){a!=LMouseEvent.MOUSE_MOVE||this.ll_mousein||(this.ll_mousein=!0,this._mevent(LMouseEvent.MOUSE_OVER)&&this.ll_dispatchMouseEvent(LMouseEvent.MOUSE_OVER,b,c,g,h));if(this.mouseChildren){n={x:this.x*c.scaleX+
c.x,y:this.y*c.scaleY+c.y,scaleX:c.scaleX*this.scaleX,scaleY:c.scaleY*this.scaleY};for(k=this.childList.length-1;0<=k&&(!this.childList[k].mouseEvent||!(d=this.childList[k].mouseEvent(b,a,n))||(b.target=this.childList[k],a==LMouseEvent.MOUSE_MOVE));k--);this._mevent(a)&&this.ll_dispatchMouseEvent(a,b,c,g,h)}return!0}this.ll_mouseout(b,a,c,g,h);return!1},hitTestPoint:function(b,a){var c=this.shapes;c&&0!=c.length||(this.getWidth(),this.getHeight(),c=[{type:LShape.RECT,arg:[this.ll_left-this.x,this.ll_top-
this.y,this.ll_right-this.ll_left,this.ll_bottom-this.ll_top]}]);return this.ismouseonShapes(c,b,a)},hitTestObject:function(b){var a=this.shapes,c=b.shapes,d,k,g,h,n,r,p,q;a&&0!=a.length||(this.getWidth(),this.getHeight(),a=[{type:LShape.RECT,arg:[this.ll_left-this.x,this.ll_top-this.y,this.ll_right-this.ll_left,this.ll_bottom-this.ll_top]}]);c&&0!=c.length||(b.getWidth(),b.getHeight(),c=[{type:LShape.RECT,arg:[b.ll_left-b.x,b.ll_top-b.y,b.ll_right-b.ll_left,b.ll_bottom-b.ll_top]}]);d=this.getRootMatrix();
k=b.getRootMatrix();for(g=a.length-1;0<=g;g--)for(h=a[g],q=this._changeShape(h.type,h.arg,d),n=c.length-1;0<=n;n--)if(r=c[n],p=b._changeShape(r.type,r.arg,k),h.type==LShape.VERTICES||h.type==LShape.RECT)if(r.type==LShape.VERTICES||r.type==LShape.RECT){if(LGlobal.hitTestPolygon(q,p))return!0}else{if(r.type==LShape.ARC&&LGlobal.hitTestPolygonArc(q,p))return!0}else if(r.type==LShape.VERTICES||r.type==LShape.RECT){if(LGlobal.hitTestPolygonArc(p,q))return!0}else if(r.type==LShape.ARC&&Math.sqrt((q[0]-
p[0])*(q[0]-p[0])+(q[1]-p[1])*(q[1]-p[1]))<q[2]+p[2])return!0;return!1},addShape:function(b,a){if(!(b==LShape.VERTICES&&3>a.length))return this.shapes.push({type:b,arg:a}),this.shapes},addShapes:function(b){this.shapes=0==this.shapes.length?b:this.shapes.concat(b)},clearShape:function(){this.shapes=[]},_ll_debugShape:function(){var b,a,c,d,k,g;if(LGlobal.traceDebug&&0!=this.shapes.length)for(b=0,a=this.shapes.length;b<a;b++){c=this.shapes[b];d=LGlobal.canvas;k=c.arg;d.beginPath();if(c.type==LShape.RECT)d.rect(k[0],
k[1],k[2],k[3]);else if(c.type==LShape.ARC)d.arc(k[0],k[1],k[2],0,2*Math.PI);else if(c.type==LShape.VERTICES){d.moveTo(k[0][0],k[0][1]);c=1;for(g=k.length;c<g;c++)d.lineTo(k[c][0],k[c][1]);d.lineTo(k[0][0],k[0][1])}d.closePath();d.strokeStyle="#00FF00";d.stroke()}},ismouseon:function(b,a){if(!this.visible||null==b||this.mask&&(this.mask.parent||(this.mask.parent=this.parent),!this.mask.ismouseon(b,a)))return!1;if(this.shapes&&0<this.shapes.length)return this.ismouseonShapes(this.shapes,b.offsetX,
b.offsetY);var c,d=!1,k=this.childList,g={x:this.x*a.scaleX+a.x,y:this.y*a.scaleY+a.y,scaleX:a.scaleX*this.scaleX,scaleY:a.scaleY*this.scaleY};for(c=k.length-1;0<=c;c--)if(k[c].ismouseon&&(d=k[c].ismouseon(b,g)),d){b.target=this.childList[c];break}d||(d=this.graphics.ismouseon(b,g));return d},die:function(){var b,a,c;this.graphics.clear();this.removeAllEventListener();this.stopDrag();this.box2dBody&&this.clearBody();b=0;a=this.childList;for(c=a.length;b<c;b++)a[b].die&&a[b].die()}},c;for(c in d)a.prototype[c]=
d[c];return a}(),LButton=function(){function a(b,c,d,m){LExtends(this,LSprite,[]);this.type="LButton";this.addChild(b);c?this.addChild(c):c=b;d?this.addChild(d):d=c;m?this.addChild(m):m=b;this.upState=this.bitmap_up=b;this.overState=this.bitmap_over=c;this.downState=d;this.disableState=m;this._ll_down_sx=this.downState.scaleX;this._ll_down_sy=this.downState.scaleY;this.overState.visible=!1;this.downState.visible=!1;this.buttonMode=this.upState.visible=!0;this.staticMode=!1;this._ll_cursorEnabled=
!0;this.setState(a.STATE_ENABLE);LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&LMouseEventContainer.pushButton(this);this.addEventListener(LMouseEvent.MOUSE_DOWN,this.ll_modeDown)}a.STATE_DISABLE="disable";a.STATE_ENABLE="enable";var d={setState:function(b){if(b==a.STATE_DISABLE)this.upState.visible=!1,this.overState.visible=!1,this.downState.visible=!1,this.disableState.visible=!0,this.mouseEnabled=!1;else if(b==a.STATE_ENABLE)this.overState.visible=!1,this.downState.visible=!1,this.disableState.visible=
!1,this.mouseEnabled=this.upState.visible=!0;else return;this.state=b},ll_mouseout:function(b,a,c,d,k){this.ll_mousein&&(b.clickTarget=this,this.ll_modeOut(b),this.ll_mousein=!1)},mouseEvent:function(b,a,c){if(!b)return!1;a==LMouseEvent.MOUSE_MOVE&&this.ll_button_mode&&this.ll_button_mode(b);return this.callParent("mouseEvent",arguments)},ll_button_mode:function(b){this.visible&&(b.clickTarget=this,this.hitTestPoint(b.offsetX,b.offsetY)?this.ll_modeOver(b):this.ll_modeOut(b))},ll_modeDown:function(b){b=
b.clickTarget;var c,d,m,k,g;b.buttonMode&&!b.tween&&(b.state==a.STATE_DISABLE?(b.upState.visible=!1,b.overState.visible=!1,b.downState.visible=!1,b.disableState.visible=!0):(b.upState.visible=!1,b.overState.visible=!1,b.downState.visible=!0,b._tweenOver=b.ll_modeOver,g=function(b){b=b.parent;delete b.tween;b._tweenOver({clickTarget:b});delete b._tweenOver},b.staticMode?b.tween=LTweenLiteTimeline.to(b.downState,.3,{}).to(b.downState,.1,{onComplete:g}):(c=b.downState.getWidth(),d=b.downState.getHeight(),
m=b.downState.x,k=b.downState.y,c=m+.5*(c-1.1*c),d=k+.5*(d-1.1*d),b.tween=LTweenLiteTimeline.to(b.downState,.3,{x:c,y:d,scaleX:1.1*b._ll_down_sx,scaleY:1.1*b._ll_down_sy,ease:Quart.easeOut}).to(b.downState,.1,{x:m,y:k,scaleX:b._ll_down_sx,scaleY:b._ll_down_sy,ease:Quart.easeOut,onComplete:g}))))},ll_modeOver:function(b){b=b.clickTarget;b.buttonMode&&(b.tween?b._tweenOver=b.ll_modeOver:b.state==a.STATE_DISABLE?(b.upState.visible=!1,b.overState.visible=!1,b.downState.visible=!1,b.disableState.visible=
!0):(b.upState.visible=!1,b.downState.visible=!1,b.overState.visible=!0,LGlobal.os==OS_PC&&b._ll_cursorEnabled&&b.parent&&(LGlobal.cursor="pointer")))},ll_modeOut:function(b){b=b.clickTarget;b.buttonMode&&(b.tween?b._tweenOver=b.ll_modeOut:b.state==a.STATE_DISABLE?(b.upState.visible=!1,b.overState.visible=!1,b.downState.visible=!1,b.disableState.visible=!0):(b.overState.visible=!1,b.downState.visible=!1,b.upState.visible=!0))},setCursorEnabled:function(b){this._ll_cursorEnabled=b},clone:function(){return new a(this.upState.clone(),
this.overState.clone(),this.downState.clone(),this.disableState.clone())},die:function(){LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&LMouseEventContainer.removeButton(this);this.callParent("die",arguments)}},c;for(c in d)a.prototype[c]=d[c];return a}();function LBlendMode(){throw"LBlendMode cannot be instantiated";}LBlendMode.SOURCE_OVER="source-over";LBlendMode.SOURCE_ATOP="source-atop";LBlendMode.SOURCE_IN="source-in";LBlendMode.SOURCE_OUT="source-out";LBlendMode.DESTINATION_OVER="destination-over";
LBlendMode.DESTINATION_ATOP="destination-atop";LBlendMode.DESTINATION_IN="destination-in";LBlendMode.DESTINATION_OUT="destination-out";LBlendMode.LIGHTER="lighter";LBlendMode.COPY="copy";LBlendMode.XOR="xor";LBlendMode.NONE=null;LBlendMode.NORMAL=null;var LTextFieldType=function(){throw"LTextFieldType cannot be instantiated";};LTextFieldType.INPUT="input";LTextFieldType.DYNAMIC=null;
LStyleSheet=function(){function a(){LExtends(this,LObject,[]);this.styleIndex=0;this.styleNames={}}a.prototype.clone=function(){var a=new this.constructor;a.copyProperty(this);return a};a.prototype.setStyle=function(a,c){this.styleIndex++;if(null===c)this.styleNames[a]&&delete this.styleNames[a];else{var b=c.replace(/(^\{)|(\}$)/g,"").split(";"),f,e;c={};for(f=0;f<b.length;f++)b[f]&&(e=b[f].split(":"),e[0]&&(c[e[0]]=e[1]));this.styleNames[a]=c}};a.prototype.getStyle=function(a){return this.styleNames[a]};
return a}();
LTextFormat=function(){function a(a,c,b,f,e,m){LExtends(this,LObject,[]);this.font=a?a:"Arial";this.size=c?c:15;this.color=b?b:"#000000";this.bold=f?f:!1;this.italic=e?e:!1;this.underline=m?m:!1}a.prototype.clone=function(){var a=new this.constructor;a.copyProperty(this);return a};a.prototype.getFontText=function(){return(this.italic?"italic ":"")+(this.bold?"bold ":"")+this.size+"px "+this.font};a.prototype.setCss=function(a){for(var c in a)switch(c){case "color":this.color=a[c];break;case "font-family":this.font=
a[c];break;case "font-size":this.size=a[c];break;case "font-style":this.italic="italic"==a[c];break;case "font-weight":this.bold="bold"==a[c];break;case "text-decoration":this.color="underline"==a[c]}};return a}();
var LTextField=function(){function a(){LExtends(this,LInteractiveObject,[]);this.type="LTextField";this.texttype=null;this.styleSheet=this.htmlText=this.text="";this.font="Arial";this.size=15;this.color="#000000";this.weight="normal";this.textAlign="left";this.textBaseline="top";this.heightMode=a.HEIGHT_MODE_BOTTOM;this.stroke=!1;this.lineWidth=1;this.lineColor="#000000";this.width=150;this.height=this.size;this.multiline=this.wordWrap=this.displayAsPassword=!1;this.numLines=1;this.speed=0;this._speedIndex=
100}a.HEIGHT_MODE_BOTTOM="bottom";a.HEIGHT_MODE_BASELINE="baseline";var d={_showReady:function(a){a.font=this.weight+" "+this.size+"px "+this.font;a.textAlign=this.textAlign;a.textBaseline=this.textBaseline},ll_getStyleSheet:function(a,c,d,m){a=a.clone();if("font"==c)for(var k=0;d&&!(4<k++);){c=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g;c=c.exec(d);if(!c||!c[0])break;switch(c[2]){case "face":a.font=c[6];break;case "color":a.color=c[6];break;case "size":a.size=c[6]}d=d.replace(c[0],"").replace(/(^\s*)|(\s*$)|(\n)/g,
"")}else if("b"==c)a.bold=!0;else if("u"==c)a.underline=!0;else if("i"==c)a.italic=!0;else if("p"==c&&this.wordWrap)m="\n"+m+"\n";else if(this.styleSheet){if("span"==c){if(c=/(([^\s]*?)(\s*)=(\s*)("|')(.*?)\5)*/g,(c=c.exec(d))&&c[0])switch(c[2]){case "class":k=this.styleSheet.getStyle("."+c[6])}}else this.styleSheet.getStyle(c)&&(k=this.styleSheet.getStyle(c));k&&a.setCss(k)}this.ll_getHtmlText(a,m)},ll_getHtmlText:function(a,c){if(c){var d,m,k,g=/<(.*?)(\s*)(.*?)>(.*?)<\/\1>/g.exec(c);if(g&&g[0]){0<
g.index&&this.ll_htmlTexts.push({textFormat:a.clone(),text:c.substring(0,g.index)});d=g[1];k=m=g.index;do k=c.indexOf("</"+d,k+1),m=c.indexOf("<"+d,m+1);while(0<m&&m<k);m=c.substring(c.indexOf(">",g.index)+1,k);this.ll_getStyleSheet(a,d,g[3],m);this.ll_getHtmlText(a,c.substring(k+d.length+3))}else this.ll_htmlTexts.push({textFormat:a.clone(),text:c})}},_ll_show:function(b){var c=this,d,m,k,g,h,n,r,p,q;if(c.texttype==LTextFieldType.INPUT&&(c.inputBackLayer.ll_show(),d=c.getRootCoordinate(),LGlobal.inputBox.name==
"input"+c.objectIndex&&(LGlobal.inputBox.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+((d.y+c.inputBackLayer.startY())*parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height>>>0)+"px",LGlobal.inputBox.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+((d.x+c.inputBackLayer.startX())*parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width>>>0)+"px"),LGlobal.inputTextField&&LGlobal.inputTextField.objectIndex==c.objectIndex))return;LGlobal.fpsStatus&&LGlobal.fpsStatus.text++;
b.fillStyle=c.color;c.stroke&&(b.strokeStyle=c.lineColor,b.lineWidth=c.lineWidth+1);if(c.htmlText){if(c.ll_htmlText!=c.htmlText||c.styleSheet&&(c.ll_style_objectIndex!=c.styleSheet.objectIndex||c.ll_styleIndex==c.styleSheet.styleIndex))d=new LTextFormat,c.ll_htmlTexts=[],c.ll_htmlText=c.htmlText,c.styleSheet&&(c.ll_style_objectIndex=c.styleSheet.objectIndex,c.ll_styleIndex=c.styleSheet.styleIndex),c.ll_getHtmlText(d,c.htmlText);n=h=k=0;c._wordHeight=c.wordHeight||30;a.underlineY||(a.underlineY={alphabetic:0,
top:1,bottom:-.2,middle:.4,hanging:.8});c.ll_htmlTexts.forEach(function(d){var e=d.textFormat;d=d.text;b.font=e.getFontText();b.fillStyle=e.color;m=0;for(g=d.length;m<g;m++)(p=/(?:\r\n|\r|\n|\u00a5n)/.exec(d.substr(m,1)))?(k=0,h=m+1,n++):(r=1.2*b.measureText("O").width,c.stroke&&b.strokeText(d.substr(m,1),k,n*c._wordHeight),b.fillText(d.substr(m,1),k,n*c._wordHeight),e.underline&&(b.beginPath(),q=n*c._wordHeight+r*a.underlineY[c.textBaseline],b.moveTo(k,q),b.lineTo(k+b.measureText(d.substr(m,1)).width,
q),b.stroke())),k+=b.measureText(d.substr(m,1)).width,c.wordWrap&&k+b.measureText(d.substr(m+1,1)).width>c.width&&(k=0,h=m+1,n++);c.height=(n+1)*c._wordHeight})}else{d=c.text;if(c.displayAsPassword)for(d="",m=0,g=c.text.length;m<g;m++)d+="*";if(c.wordWrap||c.multiline){m=n=h=k=0;for(g=c.text.length;m<g;m++)(p=/(?:\r\n|\r|\n|\u00a5n)/.exec(d.substr(m,1)))?(k=0,h=m+1,n++):(c.stroke&&b.strokeText(d.substr(m,1),k,n*c.wordHeight),b.fillText(d.substr(m,1),k,n*c.wordHeight)),c.numLines=n,k=b.measureText(c.text.substr(h,
m+1-h)).width,c.wordWrap&&k+b.measureText(d.substr(m,1)).width>c.width&&(k=0,h=m+1,n++);c.height=(n+1)*c.wordHeight}else c.numLines=1,c.stroke&&b.strokeText(d,0,0,b.measureText(d).width),b.fillText(d,0,0,b.measureText(d).width);c.windRunning&&c._ll_windRun()}},_wordHeight:function(a){0<a?this.wordHeight=a:(this.wordWrap=!1,this.wordHeight=this.getHeight());this.height=0},setMultiline:function(a,c){a&&this._wordHeight(c);this.multiline=a},setWordWrap:function(a,c){a&&this._wordHeight(c);this.wordWrap=
a},setType:function(a,c){this.texttype!=a&&a==LTextFieldType.INPUT?(null==c||"LSprite"!=c.type?(this.inputBackLayer=new LSprite,this.inputBackLayer.graphics.drawRect(1,"#000000",[0,.4*-this.getHeight(),this.width,1.5*this.getHeight()])):this.inputBackLayer=c,this.inputBackLayer.parent=this,LMouseEventContainer.container[LMouseEvent.MOUSE_DOWN]&&LMouseEventContainer.pushInputBox(this)):(this.inputBackLayer=null,LMouseEventContainer.removeInputBox(this));this.texttype=a},ismouseon:function(a,c){if(!a||
!this.visible)return!1;c||(c={x:0,y:0,scaleX:1,scaleY:1});return this.mask&&(this.mask.parent||(this.mask.parent=this.parent),!this.mask.ismouseon(a,c))?!1:this.inputBackLayer?this.inputBackLayer.ismouseon(a,{x:this.x*c.scaleX+c.x,y:this.y*c.scaleY+c.y,scaleX:c.scaleX*this.scaleX,scaleY:c.scaleY*this.scaleY}):this.ismouseonShapes([{type:LShape.RECT,arg:[0,0,this._getWidth(),this._getHeight()]}],a.offsetX,a.offsetY)},clone:function(){var a=new this.constructor;a.copyProperty(this);a.texttype=null;
this.texttype==LTextFieldType.INPUT&&a.setType(LTextFieldType.INPUT);return a},mouseEvent:function(a,c,d){null!=this.inputBackLayer&&c==LMouseEvent.MOUSE_DOWN&&(a=this.ismouseon(a,d))&&this.focus()},_ll_getValue:function(){LGlobal.inputBox.style.display!=NONE&&(LGlobal.inputTextField.text=LGlobal.inputTextBox.value,LEvent.removeEventListener(LGlobal.inputTextBox,LKeyboardEvent.KEY_DOWN,LGlobal.inputTextField._ll_input),LGlobal.inputBox.style.display=NONE,LGlobal.inputTextField.dispatchEvent(LFocusEvent.FOCUS_OUT),
LGlobal.inputTextField=null)},updateInput:function(){this.texttype==LTextFieldType.INPUT&&LGlobal.inputTextField.objectIndex==this.objectIndex&&(LGlobal.inputTextBox.value=LGlobal.inputTextField.text)},_ll_input:function(a){var c=new LEvent(LTextEvent.TEXT_INPUT);c.keyCode=a.keyCode;LGlobal.inputTextField.text=LGlobal.inputTextBox.value;LGlobal.inputTextField.hasEventListener(LTextEvent.TEXT_INPUT)?a.returnValue=LGlobal.inputTextField.dispatchEvent(c):a.returnValue=!0},focus:function(){var a,c;this.parent&&
this.texttype==LTextFieldType.INPUT&&(LGlobal.inputTextField&&LGlobal.inputTextField.objectIndex!=this.objectIndex&&this._ll_getValue(),this.dispatchEvent(LFocusEvent.FOCUS_IN),a=this.getAbsoluteScale(),LGlobal.inputBox.style.display="",LGlobal.inputBox.name="input"+this.objectIndex,LGlobal.inputTextField=this,LGlobal.inputTextareaBoxObj.style.display=NONE,LGlobal.inputTextBoxObj.style.display=NONE,LGlobal.passwordBoxObj.style.display=NONE,LGlobal.inputTextBox=this.displayAsPassword?LGlobal.passwordBoxObj:
this.multiline?LGlobal.inputTextareaBoxObj:LGlobal.inputTextBoxObj,c=parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width,sy=parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height,LGlobal.inputTextBox.style.display="",LGlobal.inputTextBox.value=this.text,LGlobal.inputTextBox.style.height=this.inputBackLayer.getHeight()*a.scaleY*this.scaleY*sy+"px",LGlobal.inputTextBox.style.width=this.inputBackLayer.getWidth()*a.scaleX*this.scaleX*c+"px",LGlobal.inputTextBox.style.color=this.color,
LGlobal.inputTextBox.style.fontSize=(this.size*parseFloat(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height>>0)+"px",LGlobal.inputTextBox.style.fontFamily=this.font,LEvent.addEventListener(LGlobal.inputTextBox,LKeyboardEvent.KEY_DOWN,LGlobal.inputTextField._ll_input),this.texttype==LTextFieldType.INPUT&&(rc=this.getRootCoordinate(),LGlobal.inputBox.name=="input"+this.objectIndex&&(LGlobal.inputBox.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+((rc.y+this.inputBackLayer.startY())*
parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height>>>0)+"px",LGlobal.inputBox.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+((rc.x+this.inputBackLayer.startX())*parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width>>>0)+"px")),setTimeout(function(){LGlobal.inputTextBox.focus()},0))},_getWidth:function(){if(this.wordWrap)return this.width;LGlobal.canvas.font=this.size+"px "+this.font;return LGlobal.canvas.measureText(this.text).width},getWidth:function(a){var c,
d;c=this._getWidth()*this.scaleX;if(a&&this.mask){a=this.mask._startX?this.mask._startX():this.mask.startX();if(a>c)return 0;d=this.mask.getWidth();return a+d>c?c-a:d}return c},_getHeight:function(){var b=LGlobal.canvas,c,d,m,k,g,h;if(this.wordWrap){b.font=this.weight+" "+this.size+"px "+this.font;if(0==this.height){c=g=k=0;for(d=this.text.length;c<d;c++)if(m=b.measureText(this.text.substr(k,c-k)).width,h=/(?:\r\n|\r|\n|\u00a5n)/.exec(this.text.substr(c,1)),this.wordWrap&&m>this.width||h)k=c,g++,
h&&k++;this.height=(g+1)*this.wordHeight}return this.height}b.font=this.weight+" "+this.size+"px "+this.font;d=1.2*b.measureText("O").width;this.heightMode==a.HEIGHT_MODE_BASELINE&&(d*=1.2);return d},getHeight:function(a){var c,d;c=this._getHeight()*this.scaleY;if(a&&this.mask){a=this.mask._startY?this.mask._startY():this.mask.startY();if(a>c)return 0;d=this.mask.getHeight();return a+d>c?c-a:d}return c},wind:function(a){this.wind_over_function=a;this.windRunning=!0;this._ll_wind_text=this.text;this.text=
"";this._ll_wind_length=0},_ll_windRun:function(){this._speedIndex++<this.speed||(this._speedIndex=0,this._ll_wind_length>this._ll_wind_text.length?(this.windRunning=!1,this.wind_over_function&&this.wind_over_function(),this.dispatchEvent(new LEvent(LTextEvent.WIND_COMPLETE))):(this.text=this._ll_wind_text.substring(0,this._ll_wind_length),this._ll_wind_length++))},die:function(){LMouseEventContainer.removeInputBox(this)}},c;for(c in d)a.prototype[c]=d[c];return a}(),LBitmap=function(){function a(a){LExtends(this,
LDisplayObject,[]);this.type="LBitmap";this.rotateCenter=!0;if(this.bitmapData=a)this.width=this.bitmapData.width,this.height=this.bitmapData.height}var d={_canShow:function(){return this.visible&&this.bitmapData},_rotateReady:function(){0!=this.rotate&&this.rotateCenter?(this.rotatex=.5*this.getWidth(),this.rotatey=.5*this.getHeight()):this.rotatex=this.rotatey=0},_coordinate:function(a){},_ll_show:function(){this.ll_draw()},ll_draw:function(){LGlobal.fpsStatus&&LGlobal.fpsStatus.bitmapData++;LGlobal.canvas.drawImage(this.bitmapData.image,
this.bitmapData.x,this.bitmapData.y,this.bitmapData.width,this.bitmapData.height,this.x,this.y,this.bitmapData.width,this.bitmapData.height)},clone:function(){var b=new a(this.bitmapData.clone());b.copyProperty(this);b.rotateCenter=this.rotateCenter;return b},ismouseon:function(a,c){return a&&this.visible&&this.bitmapData&&(!this.mask||(this.mask.parent||(this.mask.parent=this.parent),this.mask.ismouseon(a,c)))?this.ismouseonShapes([{type:LShape.RECT,arg:[0,0,this.bitmapData.width,this.bitmapData.height]}],
a.offsetX,a.offsetY):!1},getWidth:function(a){var c,d;c=null!=this.bitmapData?this.bitmapData.width*(0<this.scaleX?this.scaleX:-this.scaleX):0;if(a&&this.mask){a=this.mask._startX?this.mask._startX():this.mask.startX();if(a>c)return 0;d=this.mask.getWidth();return a+d>c?c-a:d}return c},getHeight:function(a){var c,d;c=null!=this.bitmapData?this.bitmapData.height*(0<this.scaleY?this.scaleY:-this.scaleY):0;if(a&&this.mask){a=this.mask._startY?this.mask._startY():this.mask.startY();if(a>c)return 0;d=
this.mask.getHeight();return a+d>c?c-a:d}return c},startX:function(){return this.x},startY:function(){return this.y},die:function(){}},c;for(c in d)a.prototype[c]=d[c];return a}(),LBitmapData=function(){function a(b,c,d,m,k,g){LExtends(this,LObject,[]);this.type="LBitmapData";typeof g==UNDEFINED&&(g=a.DATA_IMAGE);this.oncomplete=null;this._setPixel=this._locked=!1;this.x=null==c?0:c;this.y=null==d?0:d;this.height=this.width=0;this.dataType=null;if(b&&"object"==typeof b)this.image=b,this.dataType=
a.DATA_IMAGE,this.width=null==m?this.image.width:m,this.height=null==k?this.image.height:k,this._setDataType(g);else{this._createCanvas();this.dataType=a.DATA_CANVAS;this._canvas.width=this.width=null==m?1:m;this._canvas.height=this.height=null==k?1:k;"string"==typeof b&&(b=parseInt(b.replace("#","0x")));if("number"==typeof b){c=this._context.createImageData(this.width,this.height);for(d=0;d<c.data.length;d+=4)c.data[d+0]=b>>16&255,c.data[d+1]=b>>8&255,c.data[d+2]=b&255,c.data[d+3]=255;this._context.putImageData(c,
0,0)}this.image=this._canvas;g==a.DATA_IMAGE&&this._setDataType(g)}this.resize()}a.DATA_IMAGE="data_image";a.DATA_CANVAS="data_canvas";var d={_setDataType:function(b){this.dataType!=b&&(b==a.DATA_CANVAS?(this._createCanvas(),this._canvas.width=this.image.width,this._canvas.height=this.image.height,this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._context.drawImage(this.image,0,0),this.image=this._canvas):b==a.DATA_IMAGE&&(this.image=new Image,this.image.width=this._canvas.width,
this.image.height=this._canvas.height,this.image.src=this._canvas.toDataURL()),this.dataType=b)},_createCanvas:function(){this._canvas||(this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"))},clear:function(){this._createCanvas();this._canvas.width=this.image.width;this.dataType==a.DATA_IMAGE&&(this.image.src=this._canvas.toDataURL())},setProperties:function(a,c,d,m){this.x=a;this.y=c;this.width=d;this.height=m;this.resize()},setCoordinate:function(a,c){this.x=
a;this.y=c;this.resize()},clone:function(){return new a(this.image,this.x,this.y,this.width,this.height,this.dataType)},_ready:function(){this._dataType=this.dataType;this._setDataType(a.DATA_CANVAS);this._data=this._context.getImageData(this.x,this.y,this.width,this.height)},_update:function(){this._context.putImageData(this._data,this.x,this.y,0,0,this.width,this.height);this._setDataType(this._dataType);this._data=null},getPixel:function(a,c,d){a>>=0;c>>=0;this._locked||this._ready();a=4*this.width*
c+4*a;c=this._data.data;this._locked||this._update();return"number"==d?c[a]<<16|c[a+1]<<8|c[a+2]:[c[a],c[a+1],c[a+2],c[a+3]]},setPixel:function(a,c,d){a>>=0;c>>=0;this._locked||this._ready();var m=this._data;a=4*this.width*c+4*a;"object"==typeof d?(m.data[a+0]=d[0],m.data[a+1]=d[1],m.data[a+2]=d[2],m.data[a+3]=d[3]):("string"==typeof d&&(d=parseInt(d.replace("#","0x"))),m.data[a+0]=d>>16&255,m.data[a+1]=d>>8&255,m.data[a+2]=d&255,m.data[a+3]=255);this._locked||this._update()},getPixels:function(a){this._locked||
this._ready();a=this._context.getImageData(this.x+a.x,this.y+a.y,a.width,a.height);this._locked||this._update();return a},setPixels:function(a,c){var d,m,k,g,h,n;this._locked||this._ready();k=this._data;if("object"==typeof c)for(g=this._canvas.width,h=a.x;h<a.right;h++)for(n=a.y;n<a.bottom;n++)d=4*g*(this.y+n)+4*(this.x+h),m=4*c.width*(n-a.y)+4*(h-a.x),k.data[d+0]=c.data[m+0],k.data[d+1]=c.data[m+1],k.data[d+2]=c.data[m+2],k.data[d+3]=c.data[m+3];else for("string"==typeof c&&(c=parseInt(c.replace("#",
"0x"))),c=[c>>16&255,c>>8&255,c&255],g=this._canvas.width,h=a.x;h<a.right;h++)for(n=a.y;n<a.bottom;n++)d=4*g*(this.y+n)+4*(this.x+h),k.data[d+0]=c[0],k.data[d+1]=c[1],k.data[d+2]=c[2],k.data[d+3]=255;this._locked||this._update()},putPixels:function(b,c){this.dataType==a.DATA_CANVAS&&"object"==typeof c&&this._context.putImageData(c,this.x+b.x,this.y+b.y,0,0,b.width,b.height)},lock:function(){this._locked=!0;this._ready()},unlock:function(){this._locked=!1;this._update()},draw:function(b,c,d,m,k){var g,
h,n=!1,r=this.dataType;this._setDataType(a.DATA_CANVAS);if(c||d||m||k)this._context.save(),n=!0;k&&(b instanceof a?(g=b.x,h=b.y):g=h=0,b=new a(b.getDataCanvas(),g+k.x,h+k.y,k.width,k.height,a.DATA_CANVAS));g=b.getWidth()>>>0;h=b.getHeight()>>>0;0==g||0==h?this._setDataType(r):(k=b.getDataCanvas(),d&&(b.colorTransform(new LRectangle(0,0,g,h),d),k=b.image),c&&this._context.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),m&&(this._context.globalCompositeOperation=m),this._context.drawImage(k,b.x,b.y,g,h,0,0,
g,h),n&&this._context.restore(),this._setDataType(r),this.resize())},getDataCanvas:function(){var b=this.dataType;this._setDataType(a.DATA_CANVAS);this._setDataType(b);return this._canvas},getWidth:function(){return this.width},getHeight:function(){return this.height},resize:function(){var a=this.image.width-this.x,c=this.image.height-this.y;this.width=this.width<a?this.width:a;this.height=this.height<c?this.height:c},colorTransform:function(b,c){if(this.dataType==a.DATA_CANVAS){for(var d=this._context.getImageData(this.x+
b.x,this.y+b.y,b.width,b.height),m=d.data,k=0,g=m.length;k<g;k+=4){var h=k,n=k+1,r=k+2,p=k+3;m[h]=m[h]*c.redMultiplier+c.redOffset;m[n]=m[n]*c.greenMultiplier+c.greenOffset;m[r]=m[r]*c.blueMultiplier+c.blueOffset;m[p]=m[p]*c.alphaMultiplier+c.alphaOffset}this._context.putImageData(d,this.x+b.x,this.y+b.y,0,0,b.width,b.height)}},copyPixels:function(b,c,d){var m,k,g,h;this.dataType==a.DATA_CANVAS&&(m=b.x,k=b.y,g=b.width,h=b.height,b.setProperties(c.x+b.x,c.y+b.y,c.width,c.height),this._context.drawImage(b.image,
b.x,b.y,b.width,b.height,d.x,d.y,b.width,b.height),b.x=m,b.y=k,b.width=g,b.height=h)}},c;for(c in d)a.prototype[c]=d[c];return a}(),LDropShadowFilter=function(){function a(a,c,d,m){LExtends(this,LObject,[]);this.type="LDropShadowFilter";this.distance=a?a:0;this.angle=c?c:0;this.shadowColor=d?d:"#000000";this.shadowBlur=m?m:20;this.setShadowOffset()}var d={setShadowOffset:function(){var a=this.angle*Math.PI/180;this.shadowOffsetX=this.distance*Math.cos(a);this.shadowOffsetY=this.distance*Math.sin(a)},
ll_show:function(){var a=LGlobal.canvas;a.shadowColor=this.shadowColor;a.shadowBlur=this.shadowBlur;a.shadowOffsetX=this.shadowOffsetX;a.shadowOffsetY=this.shadowOffsetY},setDistance:function(a){this.distance=a;this.setShadowOffset()},setAngle:function(a){this.angle=a;this.setShadowOffset()},setColor:function(a){this.shadowColor=a},setBlur:function(a){this.shadowBlur=a}},c;for(c in d)a.prototype[c]=d[c];return a}(),LAnimation=function(){function a(a,c,d){LExtends(this,LSprite,[]);this.type="LAnimation";
this._ll_stepIndex=this.colIndex=this.rowIndex=0;this._ll_stepArray=[];this.mode=1;this.isMirror=!1;Array.isArray(c)?this.bitmapList=c:this.bitmapList=[c];this.bitmap=new LBitmap(this.bitmapList[0]);this.imageArray=d;this.addChild(this.bitmap);null!=a&&a.addChild(this);this.onframe();this.colIndex=0}var d={setAction:function(a,c,d,m){var k=!1;null!=a&&0<=a&&a<this.imageArray.length&&(this.rowIndex=a,k=!0);null!=c&&0<=c&&c<this.imageArray[a].length&&(this.colIndex=c,k=!0);null!=d&&(this.mode=d,k=!0);
null!=m&&((this.isMirror=m)?(this.bitmap.x=this.bitmap.getWidth(),this.bitmap.scaleX=-1*Math.abs(this.bitmap.scaleX)):(this.bitmap.x=0,this.bitmap.scaleX=Math.abs(this.bitmap.scaleX)),k=!0);k&&(this._ll_stepIndex=0)},getAction:function(){return[this.rowIndex,this.colIndex,this.mode,this.isMirror]},onframe:function(){var a,c=0,d=null;this.colIndex>=this.imageArray[this.rowIndex].length&&(this.colIndex=0);a=this.imageArray[this.rowIndex][this.colIndex];d=this._ll_stepArray[this.rowIndex]&&this._ll_stepArray[this.rowIndex][this.colIndex]?
this._ll_stepArray[this.rowIndex][this.colIndex]:0;if(0==this._ll_stepIndex){"number"==typeof a.dataIndex&&Array.isArray(this.bitmapList)&&a.dataIndex<this.bitmapList.length&&(this.bitmap.bitmapData=this.bitmapList[a.dataIndex]);if(a.script)for(i=0;i<a.script.length;i++)obj=a.script[i],(l=this.ll_labelList[obj.name])&&l.rowIndex==this.rowIndex&&l.colIndex==this.colIndex&&l.mode==this.mode&&l.isMirror==(-1==this.bitmap.scaleX)&&obj.func(this,obj.params);typeof a.width!=UNDEFINED&&typeof a.height!=
UNDEFINED?this.bitmap.bitmapData.setProperties(a.x,a.y,a.width,a.height):this.bitmap.bitmapData.setCoordinate(a.x,a.y);typeof a.sx!=UNDEFINED&&(c=a.sx);typeof a.sy!=UNDEFINED&&(this.bitmap.y=a.sy);typeof a.mirror!=UNDEFINED&&(this.bitmap.rotateCenter=!1,this.bitmap.scaleX=a.mirror?-1:1);this.bitmap.x=c+(1==this.bitmap.scaleX?0:this.bitmap.getWidth())}!(this._ll_stepIndex++<d)&&(this._ll_stepIndex=0,this.colIndex+=this.mode,this.colIndex>=this.imageArray[this.rowIndex].length||0>this.colIndex)&&(this.colIndex=
0<this.mode?0:this.imageArray[this.rowIndex].length-1,"LAnimationTimeline"==this.constructor.name?this._send_complete=!0:this.dispatchEvent(LEvent.COMPLETE))},clone:function(){var a=new this.constructor(null,this.bitmapList,this.imageArray.slice(0));a.copyProperty(this);a.childList.length=0;a.bitmap=this.bitmap.clone();a.addChild(a.bitmap);return a}},c;for(c in d)a.prototype[c]=d[c];return a}(),LAnimationTimeline=function(){function a(a,c){LExtends(this,LAnimation,[null,a,c]);this.type="LAnimationTimeline";
this._speedIndex=this.speed=0;this.ll_labelList={};for(var d=0,m,k,g;d<c.length;d++)for(m=c[d],k=0;k<m.length;k++)g=m[k],g.label&&this.setLabel(g.label,d,k,1,g.isMirror?!0:!1);this.addEventListener(LEvent.ENTER_FRAME,this._ll_onframe)}var d={clone:function(){var a,c,d=new this.constructor(this.bitmapList,this.imageArray.slice(0));d.copyProperty(this);d.childList.length=0;d.bitmap=this.bitmap.clone();d.addChild(d.bitmap);for(a in this.ll_labelList)c=this.ll_labelList[a],d.ll_labelList[a]={rowIndex:c.rowIndex,
colIndex:c.colIndex,mode:c.mode,isMirror:c.isMirror};return d},setFrameSpeedAt:function(a,c,d){this._ll_stepArray[a]||(this._ll_stepArray[a]=[]);this._ll_stepArray[a][c]=d},_ll_onframe:function(a){a=a.target;if(!(a._ll_stop||a._speedIndex++<a.speed)){if(a._send_complete&&(a.dispatchEvent(LEvent.COMPLETE),a._send_complete=!1,a._ll_stop))return;a._speedIndex=0;a.onframe()}},setLabel:function(a,c,d,m,k){this.ll_labelList[a]={rowIndex:c,colIndex:d,mode:typeof m==UNDEFINED?1:m,isMirror:typeof k==UNDEFINED?
!1:k}},play:function(){this._ll_stop=!1},stop:function(){this._ll_stop=!0},gotoAndPlay:function(a){a=this.ll_labelList[a];this.setAction(a.rowIndex,a.colIndex,a.mode,a.isMirror);this.onframe();this.play()},gotoAndStop:function(a){a=this.ll_labelList[a];this.setAction(a.rowIndex,a.colIndex,a.mode,a.isMirror);this.onframe();this.stop()},addFrameScript:function(a,c,d){var m=this.ll_labelList[a],m=this.imageArray[m.rowIndex][m.colIndex];m.script||(m.script=[]);m.script.push({func:c,params:d,name:a})},
removeFrameScript:function(a){var c=this.ll_labelList[a],d,m;if(d=this.imageArray[c.rowIndex][c.colIndex].script)for(m=0;m<d.length;m++)if(c=d[m],c.name==a){d.splice(m,1);break}}},c;for(c in d)a.prototype[c]=d[c];return a}(),LLoadManage=function(){function a(){this.llname="ll.file.";this.llload="ll.load."}a.prototype={load:function(a,c,b){a&&0!=a.length?(this.list=a,this.onupdate=c,this.oncomplete=b,this.loader=this,this.loadIndex=this.index=0,this.result=[],this.lresult=[],this.loadInit()):b([])},
loadInit:function(){this.index>=this.list.length||(this.loadIndex=0,this.loadStart(),this.reloadtime=setTimeout(this.loadInit.bind(this),1E4))},loadStart:function(){var a,c;this.loadIndex>=this.list.length||(a=this.list[this.loadIndex],a.name||(a.name=this.llname+this.loadIndex),this.lresult[this.llload+a.name]||(a.type||(c=getExtension(a.path),"txt"==c?a.type=LURLLoader.TYPE_TEXT:"js"==c?a.type=LURLLoader.TYPE_JS:0<=["mp3","ogg","wav","m4a"].indexOf(c)&&(a.type=LSound.TYPE_SOUND)),a.type==LURLLoader.TYPE_TEXT||
a.type==LURLLoader.TYPE_JS?(this.loader=new LURLLoader,this.loader.name=a.name,this.loader.addEventListener(LEvent.COMPLETE,this.loadComplete.bind(this)),this.loader.load(this.url(a.path),a.type)):a.type==LSound.TYPE_SOUND?(this.loader=new LSound,this.loader.name=a.name,this.loader.addEventListener(LEvent.COMPLETE,this.loadComplete.bind(this)),this.loader.load(a.path)):(this.loader=new LLoader,this.loader.name=a.name,this.loader.addEventListener(LEvent.COMPLETE,this.loadComplete.bind(this)),this.loader.load(this.url(a.path),
LLoader.TYPE_BITMAPDATE))),this.loadIndex++,this.loadStart())},loadComplete:function(a){if(a&&a.currentTarget&&a.currentTarget.name){a.currentTarget.removeEventListener(LEvent.COMPLETE,this.loadComplete);0<=a.currentTarget.name.indexOf(this.llname)&&(a.target=1);if(this.lresult[this.llload+a.currentTarget.name])return;this.result[a.currentTarget.name]=a.target;this.lresult[this.llload+a.currentTarget.name]=1}this.index++;if(this.onupdate)this.onupdate(Math.floor(100*this.index/this.list.length));
this.index>=this.list.length&&(this.reloadtime&&clearTimeout(this.reloadtime),this.loader=null,a=this.result,LGlobal.forceRefresh=!0,this.oncomplete(a))},url:function(a){return LGlobal.traceDebug?a+(0<=a.indexOf("?")?"&":"?")+"t="+(new Date).getTime():a}};return new a}(),LEasing={None:{easeIn:function(a,d,c,b){return d+a*c/b},easeOut:function(a,d,c,b){return d+a*c/b},easeInOut:function(a,d,c,b){return d+a*c/b}},Quad:{easeIn:function(a,d,c,b){return c*(a/=b)*a+d},easeOut:function(a,d,c,b){return-c*
(a/=b)*(a-2)+d},easeInOut:function(a,d,c,b){return 1>(a/=b/2)?c/2*a*a+d:-c/2*(--a*(a-2)-1)+d}},Cubic:{easeIn:function(a,d,c,b){return c*(a/=b)*a*a+d},easeOut:function(a,d,c,b){return c*((a=a/b-1)*a*a+1)+d},easeInOut:function(a,d,c,b){return 1>(a/=b/2)?c/2*a*a*a+d:c/2*((a-=2)*a*a+2)+d}},Quart:{easeIn:function(a,d,c,b){return c*(a/=b)*a*a*a+d},easeOut:function(a,d,c,b){return-c*((a=a/b-1)*a*a*a-1)+d},easeInOut:function(a,d,c,b){return 1>(a/=b/2)?c/2*a*a*a*a+d:-c/2*((a-=2)*a*a*a-2)+d}},Quint:{easeIn:function(a,
d,c,b){return c*(a/=b)*a*a*a*a+d},easeOut:function(a,d,c,b){return c*((a=a/b-1)*a*a*a*a+1)+d},easeInOut:function(a,d,c,b){return 1>(a/=b/2)?c/2*a*a*a*a*a+d:c/2*((a-=2)*a*a*a*a+2)+d}},Sine:{easeIn:function(a,d,c,b){return-c*Math.cos(a/b*(Math.PI/2))+c+d},easeOut:function(a,d,c,b){return c*Math.sin(a/b*(Math.PI/2))+d},easeInOut:function(a,d,c,b){return-c/2*(Math.cos(Math.PI*a/b)-1)+d}},Strong:{easeIn:function(a,d,c,b){return c*(a/=b)*a*a*a*a+d},easeOut:function(a,d,c,b){return c*((a=a/b-1)*a*a*a*a+
1)+d},easeInOut:function(a,d,c,b){return 1>(a/=b/2)?c/2*a*a*a*a*a+d:c/2*((a-=2)*a*a*a*a+2)+d}},Expo:{easeIn:function(a,d,c,b){return 0==a?d:c*Math.pow(2,10*(a/b-1))+d},easeOut:function(a,d,c,b){return a==b?d+c:c*(-Math.pow(2,-10*a/b)+1)+d},easeInOut:function(a,d,c,b){return 0==a?d:a==b?d+c:1>(a/=b/2)?c/2*Math.pow(2,10*(a-1))+d:c/2*(-Math.pow(2,-10*--a)+2)+d}},Circ:{easeIn:function(a,d,c,b){return-c*(Math.sqrt(1-(a/=b)*a)-1)+d},easeOut:function(a,d,c,b){return c*Math.sqrt(1-(a=a/b-1)*a)+d},easeInOut:function(a,
d,c,b){return 1>(a/=b/2)?-c/2*(Math.sqrt(1-a*a)-1)+d:c/2*(Math.sqrt(1-(a-=2)*a)+1)+d}},Elastic:{easeIn:function(a,d,c,b,f,e){if(0==a)return d;if(1==(a/=b))return d+c;e||(e=.3*b);!f||f<Math.abs(c)?(f=c,c=e/4):c=e/(2*Math.PI)*Math.asin(c/f);return-(f*Math.pow(2,10*--a)*Math.sin(2*(a*b-c)*Math.PI/e))+d},easeOut:function(a,d,c,b,f,e){var m;if(0==a)return d;if(1==(a/=b))return d+c;e||(e=.3*b);!f||f<Math.abs(c)?(f=c,m=e/4):m=e/(2*Math.PI)*Math.asin(c/f);return f*Math.pow(2,-10*a)*Math.sin(2*(a*b-m)*Math.PI/
e)+c+d},easeInOut:function(a,d,c,b,f,e){var m;if(0==a)return d;if(2==(a/=b/2))return d+c;e||(e=.3*b*1.5);!f||f<Math.abs(c)?(f=c,m=e/4):m=e/(2*Math.PI)*Math.asin(c/f);return 1>a?-.5*f*Math.pow(2,10*--a)*Math.sin(2*(a*b-m)*Math.PI/e)+d:f*Math.pow(2,-10*--a)*Math.sin(2*(a*b-m)*Math.PI/e)*.5+c+d}},Back:{easeIn:function(a,d,c,b,f){typeof f==UNDEFINED&&(f=1.70158);return c*(a/=b)*a*((f+1)*a-f)+d},easeOut:function(a,d,c,b,f){typeof f==UNDEFINED&&(f=1.70158);return c*((a=a/b-1)*a*((f+1)*a+f)+1)+d},easeInOut:function(a,
d,c,b,f){typeof f==UNDEFINED&&(f=1.70158);return 1>(a/=b/2)?c/2*a*a*(((f*=1.525)+1)*a-f)+d:c/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+d}},Bounce:{easeIn:function(a,d,c,b){return c-LEasing.Bounce.easeOut(b-a,0,c,b)+d},easeOut:function(a,d,c,b){return(a/=b)<1/2.75?7.5625*c*a*a+d:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+.75)+d:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+.9375)+d:c*(7.5625*(a-=2.625/2.75)*a+.984375)+d},easeInOut:function(a,d,c,b){return a<b/2?.5*LEasing.Bounce.easeIn(2*a,0,c,b)+d:.5*LEasing.Bounce.easeOut(2*
a-b,0,c,b)+.5*c+d}}},Quad=LEasing.Quad,Cubic=LEasing.Cubic,Quart=LEasing.Quart,Quint=LEasing.Quint,Sine=LEasing.Sine,Strong=LEasing.Strong,Expo=LEasing.Expo,Circ=LEasing.Circ,Elastic=LEasing.Elastic,Back=LEasing.Back,Bounce=LEasing.Bounce,LTweenLiteTimeline,LTweenLite=function(){function a(a,b,c){LExtends(this,LObject,[]);this.type="LTweenLiteChild";this.toNew=[];this.init(a,b,c)}function d(){LExtends(this,LObject,[]);this.type="LTweenLite";this.tweens=[]}var c={init:function(a,b,c){var k=null;typeof c.tweenTimeline==
UNDEFINED&&(c.tweenTimeline=d.TYPE_FRAME);this.target=a;this.duration=b||.001;this.vars=c;this.delay=this.vars.delay||0;this.vars.tweenTimeline==d.TYPE_TIMER?(this.initTime=this.currentTime=(new Date).getTime()/1E3,this.startTime=this.initTime+this.delay):(this.currentTime=0,this.duration*=1E3,this.currentTime-=1E3*this.delay);this.combinedTimeScale=this.vars.timeScale||1;this.active=0==this.duration&&0==this.delay;this.varsto={};this.varsfrom={};this.stop=!1;"function"!=typeof this.vars.ease&&(this.vars.ease=
LEasing.None.easeIn);this.ease=this.vars.ease;delete this.vars.ease;this.vars.onComplete&&(this.onComplete=this.vars.onComplete,delete this.vars.onComplete);this.vars.onUpdate&&(this.onUpdate=this.vars.onUpdate,delete this.vars.onUpdate);this.vars.onStart&&(this.onStart=this.vars.onStart,delete this.vars.onStart);for(k in this.vars)this.varsto[k]=this.vars[k],this.varsfrom[k]=this.target[k]},pause:function(){this.stop=!0},resume:function(){this.stop=!1},tween:function(){var a,b=this.vars.tweenTimeline==
d.TYPE_TIMER;if(b){var c=(new Date).getTime()/1E3-this.startTime;if(0>c)return}else{if(this.stop)return;this.currentTime+=LGlobal.speed;if(0>this.currentTime)return}for(a in this.varsto)"tweenTimeline"!=a&&(this.target[a]=b?this.ease(c,this.varsfrom[a],this.varsto[a]-this.varsfrom[a],this.duration):this.ease(this.currentTime,this.varsfrom[a],this.varsto[a]-this.varsfrom[a],this.duration));this.onStart&&(this._dispatchEvent(this.onStart),delete this.onStart);if(b?c>=this.duration:this.currentTime>=
this.duration){for(a in this.varsto)this.target[a]=this.varsto[a];this.onComplete&&this._dispatchEvent(this.onComplete);return!0}this.onUpdate&&this._dispatchEvent(this.onUpdate);return!1},_dispatchEvent:function(a){this.target.target=this.target;this.target.currentTarget=this;a(this.target);delete this.target.currentTarget;delete this.target.target},to:function(a,b,c){this.toNew.push({target:a,duration:b,vars:c});return this},keep:function(){var a,b,c;if(0<this.toNew.length){a=this.toNew.shift();
a.vars.loop&&(this.loop=!0);if(this.loop){b={};for(c in a.vars)b[c]=a.vars[c];this.to(a.target,a.duration,b)}this.init(a.target,a.duration,a.vars);return!0}return!1}},b;for(b in c)a.prototype[b]=c[b];d.TYPE_FRAME="type_frame";d.TYPE_TIMER="type_timer";c={count:function(){return this.tweens.length},ll_show:function(){var a,b=this.tweens.length,c;for(a=0;a<b;a++)(c=this.tweens[a])&&c.tween&&c.tween()&&(this.tweens.splice(a,1),a--,b=this.tweens.length,c.keep()&&this.add(c))},to:function(b,c,d){if(b){var k=
new a({},0,{});this.tweens.push(k);k.to(b,c,d);return k}},add:function(a){this.tweens.push(a)},remove:function(a){if(typeof a!=UNDEFINED)for(var b=0,c=this.tweens.length;b<c;b++)if(a.objectIndex==this.tweens[b].objectIndex){this.tweens.splice(b,1);break}},removeAll:function(){this.tweens.splice(0,this.tweens.length)},pauseAll:function(){for(var a=0,b=this.tweens.length;a<b;a++)this.tweens[a].pause()},resumeAll:function(){for(var a=0,b=this.tweens.length;a<b;a++)this.tweens[a].resume()}};for(b in c)d.prototype[b]=
c[b];LTweenLiteTimeline=new d;LGlobal.childList.push(LTweenLiteTimeline);c=new d;c.TYPE_FRAME=d.TYPE_FRAME;c.TYPE_TIMER=d.TYPE_TIMER;LGlobal.childList.push(c);return c}(),LAjax=function(){function a(){this.responseType=null}a.prototype={TEXT:"text",JSON:"json",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",get:function(a,c,b,f){this.getRequest("GET",a,c,b,f)},post:function(a,c,b,f){this.getRequest("POST",a,c,b,f)},getRequest:function(a,c,b,f,e){var m=this,k,g="",h="";m.err=e;var n=m.getHttp();if(n){if(b)for(k in b)g+=
h+k+"="+b[k],h="&";"get"==a.toLowerCase()&&0<g.length&&(c+=(0<=c.indexOf("?")?"&":"?")+g,g=null);n.open(a,c,!0);if(m.responseType){if(m.responseType==m.JSON)try{n.responseType=m.responseType}catch(r){n.responseType=m.TEXT,n._responseType="json"}else n.responseType=m.responseType;m.responseType=m.TEXT}n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");n.onreadystatechange=function(){4==n.readyState&&(200<=n.status&&300>n.status||304===n.status?f&&(n._responseType==m.JSON?(n._responseType=
m.TEXT,f(JSON.parse(n.responseText))):n.responseType==m.ARRAY_BUFFER||n.responseType==m.BLOB||n.responseType==m.JSON?f(n.response):0<n.responseText.length?f(n.responseText):f(null)):e&&e(n))};n.send(g)}},getHttp:function(){if(typeof XMLHttpRequest!=UNDEFINED)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(c){this.err||this.err(c)}}return!1}};return new a}(),LStageWebView=function(){function a(){LExtends(this,
LEventDispatcher,[]);this.display=document.createElement("div");this.iframe=document.createElement("iframe");this.display.style.position="absolute";this.display.style.marginTop="0px";this.display.style.marginLeft="0px";this.display.style.zIndex=11;LGlobal.ios&&(this.display.style.overflow="auto",this.display.style.webkitOverflowScrolling="touch");this.display.appendChild(this.iframe);this.idAdded=!1}var d={loadURL:function(a){var c=this;c.iframe.src=a;c.iframe.onload=function(){c.dispatchEvent(LEvent.COMPLETE)}},
show:function(){this.idAdded||(LGlobal.object.appendChild(this.display),this.idAdded=!0);"none"==this.display.style.display&&(this.display.style.display="")},die:function(){LGlobal.object.removeChild(this.display);this.idAdded=!1},hide:function(){this.display.style.display="none"},setViewPort:function(a){var c=parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width,d=parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height;this.display.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+
(a.y*d>>>0)+"px";this.display.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+(a.x*c>>>0)+"px";this.iframe.style.width=this.display.style.width=(a.width*c>>>0)+"px";this.iframe.style.height=this.display.style.height=(a.height*d>>>0)+"px"}},c;for(c in d)a.prototype[c]=d[c];return a}(),FPS=function(){function a(){LExtends(this,LSprite,[]);LGlobal.fpsStatus||(LGlobal.fpsStatus={a:0,b:0,c:0,d:0,e:0,bitmapData:0,display:0,transform:0,graphics:0,text:0,reset:function(){this.a=this.bitmapData;
this.b=this.display-1;this.c=this.transform-1;this.d=this.graphics-1;this.e=this.text-5;this.text=this.graphics=this.transform=this.display=this.bitmapData=0}});this.fps=[];this.back=new LShape;this.back.alpha=.5;this.addChild(this.back);for(var a=0;5>a;a++){var c=new LTextField;c.color="#ffffff";c.y=20*a;this.addChild(c);this.fps.push(c)}this.fpsCount=0;this.fpsTime=(new Date).getTime();this.addEventListener(LEvent.ENTER_FRAME,this.showFPS)}a.prototype.showFPS=function(a){a=a.currentTarget;var c,
b;a.fpsCount++;c=(new Date).getTime();1E3>c-a.fpsTime||(a.fps[0].text="FPS:"+Math.round(1E4*a.fpsCount/(c-a.fpsTime))/10,b=LGlobal.fpsStatus,a.fps[1].text="DisplayObject:"+b.c+"/"+b.b,a.fps[2].text="Draw image:"+b.a,a.fps[3].text="Drwa graphics:"+b.d,a.fps[4].text="Draw text:"+b.e,a.fpsTime=c,a.fpsCount=0,a.back.graphics.clear(),a.back.graphics.drawRect(0,"#000000",[0,0,a.fps[1].getWidth(),100],!0,"#000000"))};a.prototype.die=function(){LGlobal.fpsStatus=null;this.callParent("die",arguments)};return a}();
function LoadingSample4(a,d,c){base(this,LSprite,[]);this.backgroundColor=null==d?"#000000":d;this.graphics.drawRect(1,this.backgroundColor,[0,0,LGlobal.width,LGlobal.height],!0,this.backgroundColor);null==c&&(c="#FFFFFF");this.arc=new LSprite;this.arc.x=.5*LGlobal.width;this.arc.y=.5*LGlobal.height;this.addChild(this.arc);for(a=0;360>a;a++)this.arc.graphics.drawArc(1+a/36,c,[0,0,50,2*Math.PI/360*a,2*Math.PI/360*(a+2)]);this.progress=0;this.label=new LTextField;this.label.color=c;this.label.weight=
"bolder";this.label.size=18;this.label.x=.5*LGlobal.width;this.label.y=.5*LGlobal.height-.5*this.label.getHeight();this.addChild(this.label);c=new LDropShadowFilter(0,0,"#FFFFFF",30);this.arc.filters=[c];this.addEventListener(LEvent.ENTER_FRAME,this.onframe);this.setProgress(this.progress)}LoadingSample4.prototype.onframe=function(a){a.target.arc.rotate+=20};LoadingSample4.prototype.setProgress=function(a){100<a&&(a=100);this.progress=a;this.label.text=a+"%";this.label.x=.5*LGlobal.width-.5*this.label.getWidth()};