var OS_PC="pc",OS_IPHONE="iPhone",OS_IPOD="iPod",OS_IPAD="iPad",OS_ANDROID="Android",NONE="none",UNDEFINED="undefined",LANDSCAPE="landscape",PORTRAIT="portrait",mouseX,mouseY;function LEvent(a){this.eventType=a;this._ll_preventDefault=!1}LEvent.prototype.preventDefault=function(){this._ll_preventDefault=!0};LEvent.INIT="init";LEvent.COMPLETE="complete";LEvent.ENTER_FRAME="enter_frame";LEvent.WINDOW_RESIZE="resize";LEvent.SOUND_COMPLETE="sound_complete";LEvent.END_CONTACT="endContact";
LEvent.PRE_SOLVE="preSolve";LEvent.POST_SOLVE="postSolve";LEvent.BEGIN_CONTACT="beginContact";LEvent.addEventListener=function(a,c,b,d){null==d&&(d=!1);a.addEventListener?a.addEventListener(c,b,d):a.attachEvent&&(a["e"+c+b]=b,a[c+b]=function(){a["e"+c+b]()},a.attachEvent("on"+c,a[c+b]))};LEvent.removeEventListener=function(a,c,b,d){null==d&&(d=!1);a.removeEventListener?a.removeEventListener(c,b,d):a.detachEvent&&(a["e"+c+b]=b,a[c+b]=function(){a["e"+c+b]()},a.detachEvent("on"+c,a[c+b]))};
var LMouseEvent=function(){throw"LMouseEvent cannot be instantiated";};LMouseEvent.MOUSE_DOWN="mousedown";LMouseEvent.MOUSE_UP="mouseup";LMouseEvent.TOUCH_START="touchstart";LMouseEvent.TOUCH_MOVE="touchmove";LMouseEvent.TOUCH_END="touchend";LMouseEvent.MOUSE_MOVE="mousemove";LMouseEvent.MOUSE_OVER="mouseover";LMouseEvent.MOUSE_OUT="mouseout";LMouseEvent.DOUBLE_CLICK="dblclick";var LMultitouchInputMode=function(){throw"LMultitouchInputMode cannot be instantiated";};LMultitouchInputMode.NONE="none";
LMultitouchInputMode.GESTURE="gesture";LMultitouchInputMode.TOUCH_POINT="touchPoint";var LMultitouch=function(){throw"LMultitouch cannot be instantiated";};LMultitouch.inputMode="none";LMultitouch.touchs=[];var LTextEvent=function(){throw"LTextEvent cannot be instantiated";};LTextEvent.TEXT_INPUT="textInput";LTextEvent.WIND_COMPLETE="windComplete";var LFocusEvent=function(){throw"LFocusEvent cannot be instantiated";};LFocusEvent.FOCUS_IN="focusIn";LFocusEvent.FOCUS_OUT="focusOut";
var LMouseEventContainer=function(){function a(){this.container={};this.dispatchAllEvent=!1;this.mouseDownContainer=[];this.mouseUpContainer=[];this.mouseMoveContainer=[];this.mouseOverContainer=[];this.mouseOutContainer=[];this.mouseDblContainer=[];this.textFieldInputContainer=[];this.buttonContainer=[]}a.prototype={pushInputBox:function(a){var b=this.textFieldInputContainer,d,e;d=0;for(e=b.length;d<e;d++)if(a.objectIndex==b[d].objectIndex)return;this.textFieldInputContainer.push(a)},removeInputBox:function(a){var b=
this.textFieldInputContainer,d,e;d=0;for(e=b.length;d<e;d++)if(a.objectIndex==b[d].objectIndex){this.textFieldInputContainer.splice(d,1);break}},pushButton:function(a){var b=this.buttonContainer,d,e;d=0;for(e=b.length;d<e;d++)if(a.objectIndex==b[d].objectIndex)return;this.buttonContainer.push(a)},removeButton:function(a){var b=this.buttonContainer,d,e;d=0;for(e=b.length;d<e;d++)if(a.objectIndex==b[d].objectIndex){this.buttonContainer.splice(d,1);break}},dispatchEventButton:function(a){var b=this.buttonContainer,
d;d=0;for(b=b.length;d<b;d++)"function"==typeof this.buttonContainer[d].ll_button_mode&&this.buttonContainer[d].ll_button_mode(a)},addEvent:function(a,b,d){b.push({container:a,listener:d})},removeEvent:function(a,b,d){var e,m;e=0;for(m=b.length;e<m;e++)if(b[e].container.objectIndex===a.objectIndex&&(!d||b[e].listener==d)){b.splice(e,1);break}},addMouseDownEvent:function(a,b){this.addEvent(a,this.mouseDownContainer,b)},addMouseUpEvent:function(a,b){this.addEvent(a,this.mouseUpContainer,b)},addMouseMoveEvent:function(a,
b){this.addEvent(a,this.mouseMoveContainer,b)},addMouseOverEvent:function(a,b){this.addEvent(a,this.mouseOverContainer,b)},addMouseOutEvent:function(a,b){this.addEvent(a,this.mouseOutContainer,b)},addMouseDblEvent:function(a,b){this.addEvent(a,this.mouseDblContainer,b)},addMouseEvent:function(a,b,d){b==LMouseEvent.MOUSE_DOWN?this.addMouseDownEvent(a,d):b==LMouseEvent.MOUSE_UP?this.addMouseUpEvent(a,d):b==LMouseEvent.MOUSE_OVER?this.addMouseOverEvent(a,d):b==LMouseEvent.MOUSE_OUT?this.addMouseOutEvent(a,
d):b==LMouseEvent.MOUSE_MOVE?this.addMouseMoveEvent(a,d):this.addMouseDblEvent(a,d)},hasEvent:function(a,b){for(var d=0,e=b.length;d<e;d++)if(b[d].container.objectIndex===a.objectIndex)return!0;return!1},removeMouseDownEvent:function(a,b){this.removeEvent(a,this.mouseDownContainer,b)},removeMouseUpEvent:function(a,b){this.removeEvent(a,this.mouseUpContainer,b)},removeMouseMoveEvent:function(a,b){this.removeEvent(a,this.mouseMoveContainer,b)},removeMouseOverEvent:function(a,b){this.removeEvent(a,this.mouseOverContainer,
b)},removeMouseOutEvent:function(a,b){this.removeEvent(a,this.mouseOutContainer,b)},removeMouseDblEvent:function(a,b){this.removeEvent(a,this.mouseDblContainer,b)},removeMouseEvent:function(a,b,d){b==LMouseEvent.MOUSE_DOWN?this.removeMouseDownEvent(a,d):b==LMouseEvent.MOUSE_UP?this.removeMouseUpEvent(a,d):b==LMouseEvent.MOUSE_OVER?this.removeMouseOverEvent(a,d):b==LMouseEvent.MOUSE_OUT?this.removeMouseOutEvent(a,d):b==LMouseEvent.MOUSE_MOVE?this.removeMouseMoveEvent(a,d):this.removeMouseDblEvent(a,
d)},dispatchMouseEvent:function(a,b){b==LMouseEvent.MOUSE_DOWN?(this.dispatchEvent(a,this.mouseDownContainer,LMouseEvent.MOUSE_DOWN),this.dispatchEvent(a,this.textFieldInputContainer)):b==LMouseEvent.MOUSE_UP?this.dispatchEvent(a,this.mouseUpContainer,LMouseEvent.MOUSE_UP):b==LMouseEvent.DOUBLE_CLICK?this.dispatchEvent(a,this.mouseDblContainer,LMouseEvent.DOUBLE_CLICK):(this.dispatchEventButton(a),this.dispatchEvent(a,this.mouseOutContainer,LMouseEvent.MOUSE_OUT),this.dispatchEvent(a,this.mouseOverContainer,
LMouseEvent.MOUSE_OVER),this.dispatchEvent(a,this.mouseMoveContainer,LMouseEvent.MOUSE_MOVE))},getRootParams:function(a){a=a.parent;for(var b={x:0,y:0,scaleX:1,scaleY:1};"root"!=a;)b.x*=a.scaleX,b.y*=a.scaleY,b.x+=a.x,b.y+=a.y,b.scaleX*=a.scaleX,b.scaleY*=a.scaleY,a=a.parent;return b},_mouseEnabled:function(a){if(!a||!a.parent||"root"==a.parent||!a.visible||typeof a.mouseEnabled!=UNDEFINED&&!a.mouseEnabled)return!1;for(a=a.parent;"root"!=a;){if(!a.mouseEnabled||!a.mouseChildren)return!1;a=a.parent;
if(!a)return!1}return!0},dispatchEvent:function(a,b,d){var e,m,f=[],k,h;k=0;for(h=b.length;k<h;k++)e=b[k].container||b[k],this._mouseEnabled(e)&&(m=this.getRootParams(e),!d&&e.mouseEvent?e.mouseEvent(a,LMouseEvent.MOUSE_DOWN,m):e.ismouseon(a,m)?d==LMouseEvent.MOUSE_OUT||d==LMouseEvent.MOUSE_OVER&&e.ll_mousein||(d!=LMouseEvent.MOUSE_UP&&(e.ll_mousein=!0),f.push({sp:e,co:m,listener:b[k].listener})):d!=LMouseEvent.MOUSE_OUT&&d!=LMouseEvent.MOUSE_OVER||!e.ll_mousein||(e.ll_mousein=!1,f.push({sp:e,co:m,
listener:b[k].listener})));if(0!=f.length)for(1<f.length&&(f=f.sort(this._sort.bind(this))),h=this.dispatchAllEvent?f.length:1,k=0;k<h&&k<f.length;k++)b=f[k],a.currentTarget=a.clickTarget=b.sp,a.target||(a.target=b.sp),a.event_type=d,a.selfX=(a.offsetX-b.co.x-b.sp.x)/(b.co.scaleX*b.sp.scaleX),a.selfY=(a.offsetY-b.co.y-b.sp.y)/(b.co.scaleY*b.sp.scaleY),b.listener(a,b.sp),1==h&&k<f.length-1&&b.sp.objectIndex==f[k+1].sp.objectIndex&&(f.splice(k,1),k--)},set:function(a,b){this.container[a]=b},_sort:function(a,
b){var d,e,m=this._getSort(a.sp),f=this._getSort(b.sp),k,h,g;k=0;h=m.length;for(g=f.length;k<h&&k<g;k++)if(d=m[k],e=f[k],d.objectIndex!=e.objectIndex)return e.parent.getChildIndex(e)-d.parent.getChildIndex(d);return f.length-m.length},_getSort:function(a){var b=a.parent;for(a=[a];"root"!=b;)a.unshift(b),b=b.parent;return a}};return new a}(),LKeyboardEvent=function(){throw"LKeyboardEvent cannot be instantiated";};LKeyboardEvent.KEY_DOWN="keydown";LKeyboardEvent.KEY_UP="keyup";
LKeyboardEvent.KEY_PRESS="keypress";var LAccelerometerEvent=function(){throw"LAccelerometerEvent cannot be instantiated";};LAccelerometerEvent.DEVICEMOTION="devicemotion";function LStageAlign(){throw"LStageAlign cannot be instantiated";}LStageAlign.TOP="T";LStageAlign.BOTTOM="B";LStageAlign.LEFT="L";LStageAlign.RIGHT="Re";LStageAlign.TOP_LEFT="TL";LStageAlign.TOP_RIGHT="TR";LStageAlign.TOP_MIDDLE="TM";LStageAlign.BOTTOM_LEFT="BL";LStageAlign.BOTTOM_RIGHT="BR";LStageAlign.BOTTOM_MIDDLE="BM";
LStageAlign.MIDDLE="M";function LStageScaleMode(){throw"LStageScaleMode cannot be instantiated";}LStageScaleMode.EXACT_FIT="exactFit";LStageScaleMode.SHOW_ALL="showAll";LStageScaleMode.NO_BORDER="noBorder";LStageScaleMode.NO_SCALE="noScale";
var LGlobal=function(){function a(){throw"LGlobal cannot be instantiated";}a.FULL_SCREEN="full_screen";a.traceDebug=!1;a.displayState=NONE;a.aspectRatio=NONE;a.canvasObj=null;a.canvas=null;a.webAudio=!0;a.objectIndex=1;a.stage=null;a.width=0;a.height=0;a.box2d=null;a.speed=50;a.IS_MOUSE_DOWN=!1;a.preventDefault=!0;a.childList=[];a.dragList=[];a.excludingContainer=[];a.stageScale="noScale";a.align="M";a.mobile=!1;a.canTouch=!1;a.os=OS_PC;a.ios=!1;a.android=!1;a.android_new=!1;a.backgroundColor=null;
a.destroy=!0;a.forceRefresh=!1;a.devicePixelRatio=window.devicePixelRatio||1;a.startTimer=0;a.keepClear=!0;a.top=0;a.left=0;a.window=window;(function(c){a.isFirefox=0<=c.toLowerCase().indexOf("firefox");if(0<c.indexOf(OS_IPHONE))a.os=OS_IPHONE,a.canTouch=!0,a.ios=!0;else if(0<c.indexOf(OS_IPOD))a.os=OS_IPOD,a.canTouch=!0,a.ios=!0;else if(0<c.indexOf(OS_IPAD))a.os=OS_IPAD,a.ios=!0,a.canTouch=!0;else if(0<c.indexOf(OS_ANDROID)){a.os=OS_ANDROID;a.canTouch=!0;a.android=!0;var b=c.indexOf(OS_ANDROID);
3<parseInt(c.substr(b+8,1))&&(a.android_new=!0)}a.mobile=a.canTouch})(navigator.userAgent);a.setDebug=function(c){a.traceDebug=c};a.setCanvas=function(c,b,d){a.ll_createCanvas(c,b,d);a.ll_createStage();a.displayState==LStage.FULL_SCREEN?a.resize():"number"==typeof a.displayState&&a.resize(a.width*a.displayState,a.height*a.displayState);a.canTouch?(a.ll_clicks=0,a.ll_prev_clickTime=0,LEvent.addEventListener(a.canvasObj,LMouseEvent.TOUCH_START,a.ll_touchStart),LEvent.addEventListener(document,LMouseEvent.TOUCH_END,
a.ll_touchEnd),LEvent.addEventListener(a.canvasObj,LMouseEvent.TOUCH_MOVE,a.ll_touchMove)):(LEvent.addEventListener(a.canvasObj,LMouseEvent.DOUBLE_CLICK,a.ll_mouseDbclick),LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_DOWN,a.ll_mouseDown),LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_MOVE,a.ll_mouseMove),LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_UP,a.ll_mouseUp),LEvent.addEventListener(a.canvasObj,LMouseEvent.MOUSE_OUT,a.ll_mouseOut))};a.ll_createCanvas=function(c,b,d){a.id=
c;a.object=document.getElementById(c);a.object.innerHTML='<div style="position:absolute;margin:0;padding:0;overflow:visible;-webkit-transform: translateZ(0);z-index:0;"><canvas id="'+a.id+'_canvas" style="margin:0;padding:0;width:'+b+"px;height:"+d+'px;"><div id="noCanvas"><p>Hey there, it looks like you\'re using Microsoft\'s Internet Explorer. Microsoft hates the Web and doesn\'t support HTML5 :(</p></div></canvas></div><div id="'+a.id+'_InputText" style="position:absolute;margin:0;padding:0;z-index:10;display:none;"><textarea rows="1" id="'+
a.id+'_InputTextareaBox" style="resize:none;background:transparent;border:0px;"></textarea><input type="text" id="'+a.id+'_InputTextBox"  style="background:transparent;border:0px;" /><input type="password" id="'+a.id+'_passwordBox"  style="background:transparent;border:0px;" /></div>';a.canvasObj=document.getElementById(a.id+"_canvas");a._canvas=document.createElement("canvas");a._context=a._canvas.getContext("2d");a._context&&(a.canvasObj.innerHTML="");a.inputBox=document.getElementById(a.id+"_InputText");
a.inputTextareaBoxObj=document.getElementById(a.id+"_InputTextareaBox");a.inputTextBoxObj=document.getElementById(a.id+"_InputTextBox");a.passwordBoxObj=document.getElementById(a.id+"_passwordBox");a.inputTextField=null;b&&(a.canvasObj.width=b);d&&(a.canvasObj.height=d);a.width=a.canvasObj.width;a.height=a.canvasObj.height;a.canvasStyleWidth=a.width;a.canvasStyleHeight=a.height;a.canvas=a.canvasObj.getContext("2d");a.offsetX=mouseX=0;a.offsetY=mouseY=0};a.ll_createStage=function(){a.stage=new LSprite;
a.stage.parent="root";a.childList.push(a.stage);a.stage.baseAddEvent=a.stage.addEventListener;a.stage.baseRemoveEvent=a.stage.removeEventListener;a.stage.addEventListener=function(c,b){c==LEvent.WINDOW_RESIZE?(a.stage.onresizeListener=b,a.stage.onresize=function(d){a.stage.onresizeEvent=d},LEvent.addEventListener(a.window,c,a.stage.onresize)):c==LKeyboardEvent.KEY_DOWN||c==LKeyboardEvent.KEY_UP||c==LKeyboardEvent.KEY_PRESS?LEvent.addEventListener(a.window,c,b):a.stage.baseAddEvent(c,b)};a.stage.removeEventListener=
function(c,b){c==LEvent.WINDOW_RESIZE?(LEvent.removeEventListener(a.window,LEvent.WINDOW_RESIZE,a.stage.onresize),delete a.stage.onresize,delete a.stage.onresizeListener):c==LKeyboardEvent.KEY_DOWN||c==LKeyboardEvent.KEY_UP||c==LKeyboardEvent.KEY_PRESS?LEvent.removeEventListener(a.window,c,b):a.stage.baseRemoveEvent(c,b)}};a.ll_touchStart=function(c){a.inputBox.style.display!=NONE&&a.inputTextField._ll_getValue();var b=parseInt(0+a.object.style.left)+parseInt(a.canvasObj.style.marginLeft),d=parseInt(0+
a.object.style.top)+parseInt(a.canvasObj.style.marginTop),e;if(LMultitouch.inputMode==LMultitouchInputMode.NONE)a.ll_touchStartEvent(c,0,b,d);else if(LMultitouch.inputMode==LMultitouchInputMode.TOUCH_POINT){e=0;for(var m=c.touches.length;e<m;e++)LMultitouch.touchs["touch"+c.touches[e].identifier]||a.ll_touchStartEvent(c,e,b,d)}b=(new Date).getTime();a.ll_clicks=b<=a.ll_prev_clickTime+500?a.ll_clicks+1:1;a.ll_prev_clickTime=b;2===a.ll_clicks&&(a.mouseEvent(void 0,LMouseEvent.DOUBLE_CLICK),a.ll_clicks=
0);a.IS_MOUSE_DOWN=!0;a.mouseJoint_start&&a.mouseJoint_start(void 0);a.touchHandler(c)};a.ll_touchStartEvent=function(c,b,d,e){c={offsetX:c.touches[b].pageX-d,offsetY:c.touches[b].pageY-e,touchPointID:c.touches[b].identifier};c.offsetX=a.ll_scaleX(c.offsetX);c.offsetY=a.ll_scaleY(c.offsetY);mouseX=a.offsetX=c.offsetX;mouseY=a.offsetY=c.offsetY;LMultitouch.touchs["touch"+c.touchPointID]=c;a.mouseEvent(c,LMouseEvent.MOUSE_DOWN);a.buttonStatusEvent=c};a.ll_touchEnd=function(c){var b,d,e,m,f,k;if(LMultitouch.inputMode==
LMultitouchInputMode.TOUCH_POINT)for(e in LMultitouch.touchs){b=LMultitouch.touchs[e];k=!1;m=0;for(f=c.touches.length;m<f;m++)if(c.touches[m].identifier==b.touchPointID){k=!0;break}k||(d=b,delete LMultitouch.touchs[e],a.mouseEvent(d,LMouseEvent.MOUSE_UP))}d||(d={offsetX:a.offsetX,offsetY:a.offsetY});a.mouseEvent(d,LMouseEvent.MOUSE_UP);a.touchHandler(c);a.IS_MOUSE_DOWN=!1;a.buttonStatusEvent=null;a.mouseJoint_end&&a.mouseJoint_end()};a.ll_touchMove=function(c){var b=parseInt(0+a.object.style.left)+
parseInt(a.canvasObj.style.marginLeft),d=parseInt(0+a.object.style.top)+parseInt(a.canvasObj.style.marginTop),e,m,f=c.touches.length;LMultitouch.inputMode==LMultitouchInputMode.NONE&&(f=1);i=0;for(m=c.touches.length;i<m&&i<f;i++)e={offsetX:c.touches[i].pageX-b,offsetY:c.touches[i].pageY-d,touchPointID:c.touches[i].identifier},e.offsetX=a.ll_scaleX(e.offsetX),e.offsetY=a.ll_scaleY(e.offsetY),mouseX=a.offsetX=e.offsetX,mouseY=a.offsetY=e.offsetY,LMultitouch.touchs["touch"+e.touchPointID]&&LMultitouch.touchs["touch"+
e.touchPointID].offsetX==e.offsetX&&LMultitouch.touchs["touch"+e.touchPointID].offsetY==e.offsetY||(a.buttonStatusEvent=e,LMultitouch.touchs["touch"+e.touchPointID]=e,a.mouseEvent(e,LMouseEvent.MOUSE_MOVE));a.touchHandler(c);a.mouseJoint_move&&a.mouseJoint_move(e)};a.ll_mouseDbclick=function(c){null==c.offsetX&&null!=c.layerX&&(c.offsetX=c.layerX,c.offsetY=c.layerY);var b={button:c.button};b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=a.ll_scaleY(c.offsetY);a.mouseEvent(b,LMouseEvent.DOUBLE_CLICK)};
a.ll_mouseDown=function(c){null==c.offsetX&&null!=c.layerX&&(c.offsetX=c.layerX,c.offsetY=c.layerY);a.inputBox.style.display!=NONE&&a.inputTextField._ll_getValue();var b={button:c.button};b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=a.ll_scaleY(c.offsetY);a.mouseEvent(b,LMouseEvent.MOUSE_DOWN);a.IS_MOUSE_DOWN=!0;a.mouseJoint_start&&a.mouseJoint_start(b)};a.ll_mouseMove=function(c){null==c.offsetX&&null!=c.layerX&&(c.offsetX=c.layerX,c.offsetY=c.layerY);var b={};b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=
a.ll_scaleY(c.offsetY);a.buttonStatusEvent=b;mouseX=a.offsetX=b.offsetX;mouseY=a.offsetY=b.offsetY;a.mouseEvent(b,LMouseEvent.MOUSE_MOVE);a.mouseJoint_move&&a.mouseJoint_move(b)};a.ll_mouseUp=function(c){null==c.offsetX&&null!=c.layerX&&(c.offsetX=c.layerX,c.offsetY=c.layerY);var b={button:c.button};b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=a.ll_scaleY(c.offsetY);a.mouseEvent(b,LMouseEvent.MOUSE_UP);a.IS_MOUSE_DOWN=!1;a.mouseJoint_end&&a.mouseJoint_end()};a.ll_mouseOut=function(c){null==c.offsetX&&
null!=c.layerX&&(c.offsetX=c.layerX,c.offsetY=c.layerY);var b={};b.offsetX=a.ll_scaleX(c.offsetX);b.offsetY=a.ll_scaleY(c.offsetY);a.mouseEvent(b,LMouseEvent.MOUSE_OUT);a.IS_MOUSE_DOWN=!1};a.touchHandler=function(c){c.stopPropagation();a.preventDefault&&c.preventDefault();c.stopImmediatePropagation&&c.stopImmediatePropagation();return c};a.mouseEvent=function(c,b){b==LMouseEvent.MOUSE_MOVE&&a.dragHandler(c);if(LMouseEventContainer.container[b])LMouseEventContainer.dispatchMouseEvent(c,b);else for(var d=
a.childList.length-1;0<=d&&(!a.childList[d].mouseEvent||!a.childList[d].mouseEvent(c,b));d--);};a.dragHandler=function(c){var b,d,e=a.dragList;for(b=e.length-1;0<=b;b--)if(d=e[b],!a.canTouch||d.ll_touchPointID==c.touchPointID){b=d.getAbsoluteScale();d.x=d.ll_dragStartX+(c.offsetX-d.ll_dragMX)*d.scaleX/b.scaleX;d.y=d.ll_dragStartY+(c.offsetY-d.ll_dragMY)*d.scaleY/b.scaleY;break}};a._ll_mobile=function(){var c=.3*a.width,b,d=.05*a.width,e=.05*c,m=.15*c,f=.3*c,k=1.5*c*.2,h,g,n;h=new LSprite;addChild(h);
c=.3*a.width;b=1.5*c;h.graphics.drawRoundRect(1,"#000000",[d,d,c,b,d],!0,"#cccccc");h.graphics.drawRoundRect(1,"#000000",[d+e,d+e,c-2*e,b-2*e,d],!0,"#000000");h.graphics.drawRect(1,"#ffffff",[d+m,d+k,c-2*m,b-2*k],!0,"#ffffff");h.graphics.drawArc(1,"#ffffff",[d+.5*c,d+b-3.5*e,1.5*e,0,2*Math.PI]);h.graphics.drawRoundRect(1,"#ffffff",[d+f,d+m,c-2*f,e,.5*e]);g=new LSprite;g.x=.5*-(c-2*m);g.y=.5*-e;g.graphics.drawRect(1,"#ff0000",[0,0,c-2*m,e],!0,"#ff0000");n=new LSprite;n.y=.5*-(c-2*m);n.x=.5*-e;n.graphics.drawRect(1,
"#ff0000",[0,0,e,c-2*m],!0,"#ff0000");e=new LSprite;e.x=d+f+.5*(c-2*f);e.y=d+k+.5*(b-2*k);e.rotate=45;e.addChild(g);e.addChild(n);h.addChild(e);c=new LSprite;c.graphics.drawVertices(2,"#000000",[[0,0],[m,m],[0,2*m]],!0,"#cccccc");c.x=1.5*d+b;c.y=1.5*d+.5*b;addChild(c);h.arrow=c;window.onorientationchange=function(){setTimeout(function(){location.href=location.href},100)};return h};a.verticalError=function(){var c=.3*a.width,b=.05*a.width,d=a._ll_mobile(),e=d.clone();e.getChildAt(0).visible=!1;e.x=
.5*a.width+b;addChild(e);d.rotate=90;d.x=.5*a.width+b;d.y=.5*c};a.horizontalError=function(){var c=.3*a.width,b=.05*a.width,d=a._ll_mobile(),e=d.clone();e.getChildAt(0).visible=!1;e.rotate=90;e.x=a.width-b;e.y=.5*c;addChild(e);d.arrow.x=1.5*b+c};a.onShow=function(){null!=a.canvas&&(a.stage.onresizeEvent&&(a.stage.onresizeListener(a.stage.onresizeEvent),delete a.stage.onresizeEvent),a.forceRefresh&&(a.canvasObj.width=a.canvasObj.width,a.forceRefresh=!1),null!=a.box2d?(a.box2d.ll_show(),!a.traceDebug&&
a.keepClear&&a.canvas.clearRect(0,0,a.width+1,a.height+1)):(a.keepClear&&a.canvas.clearRect(0,0,a.width+1,a.height+1),null!==a.backgroundColor&&(a.canvas.fillStyle=a.backgroundColor,a.canvas.fillRect(0,0,a.width,a.height))),a.show(a.childList))};a.show=function(a){for(var b=0,d=a.length;b<d;b++)a[b]&&a[b].ll_show&&a[b].ll_show()};a.divideCoordinate=function(a,b,d,e){var m;a/=e;var f=b/d,k=[],h;for(b=0;b<d;b++){h=[];for(m=0;m<e;m++)h.push({x:a*m,y:f*b});k.push(h)}return k};a._create_loading_color=
function(){var c=a.canvas.createRadialGradient(a.width/2,a.height,0,a.width/2,0,a.height);c.addColorStop(0,"red");c.addColorStop(.3,"orange");c.addColorStop(.4,"yellow");c.addColorStop(.5,"green");c.addColorStop(.8,"blue");c.addColorStop(1,"violet");return c};a.hitPolygon=function(a,b,d){var e=0,m=a[0],f=b<=m[0],k=d<=m[1],h,g,n,r,p;h=1;for(g=a.length;h<g+1;h++)n=a[h%g],r=b<=n[0],p=d<=n[1],k!=p&&(f==r?f&&(e+=k?-1:1):b<=m[0]+(n[0]-m[0])*(d-m[1])/(n[1]-m[1])&&(e+=k?-1:1)),m=n,f=r,k=p;return 0!=e};a.hitTestPolygon=
function(a,b){var d,e,m,f,k,h=[[a,[],[]],[b,[],[]]];for(e=0;e<h.length;e++){f=h[e][0];k=h[e][1];d=0;for(m=f.length;d<m;d++)h[e][2].push(new LVec2(f[d][0],f[d][1])),d<m-1&&k.push((new LVec2(f[d+1][0]-f[d][0],f[d+1][1]-f[d][1])).normL());k.push((new LVec2(f[0][0]-f[m-1][0],f[0][1]-f[m-1][1])).normL())}for(e=0;e<h.length;e++)for(k=h[e][1],d=0,m=k.length;d<m;d++){f=LVec2.getMinMax(h[0][2],k[d]);var g=LVec2.getMinMax(h[1][2],k[d]);if(f.max_o<g.min_o||f.min_o>g.max_o)return!1}return!0};a.hitTestPolygonArc=
function(c,b){if(a.hitPolygon(c,b[0],b[1]))return!0;var d,e,m,f,k,h;d=0;for(m=c.length;d<m;d++)if(e=d<m-1?d+1:0,f=c[d],k=c[e],e=new LVec2(b[0]-f[0],b[1]-f[1]),f=new LVec2(k[0]-f[0],k[1]-f[1]),h=f.normalize(),k=LVec2.dot(e,h),0>=k){if(e.x*e.x+e.y*e.y<b[3])return!0}else if(k*k<f.x*f.x+f.y*f.y&&(e=LVec2.cross(e,h),e*e<b[3]))return!0;return!1};a.hitTestArc=function(a,b,d,e){var m=.5*a.getWidth(),f=.5*b.getWidth(),k=a._startX?a._startX():a.startX(),h=b._startX?b._startX():b.startX();a=a._startY?a._startY():
a.startY();b=b._startY?b._startY():b.startY();typeof d!=UNDEFINED&&(k+=m-d,a+=m-d,m=d);typeof e!=UNDEFINED&&(h+=f-e,b+=f-e,f=e);d=k+m-h-f;e=a+m-b-f;return d*d+e*e<(m+f)*(m+f)};a.hitTestRect=function(a,b,d,e){var m=a.getWidth(),f=b.getWidth(),k=a.getHeight(),h=b.getHeight(),g=a._startX?a._startX():a.startX(),n=b._startX?b._startX():b.startX();a=a._startY?a._startY():a.startY();b=b._startY?b._startY():b.startY();typeof d!=UNDEFINED&&(g+=.5*(m-d[0]),a+=.5*(k-d[1]),m=d[0],k=d[1]);typeof e!=UNDEFINED&&
(n+=.5*(f-e[0]),b+=.5*(h-e[1]),f=e[0],h=e[1]);return(g>n?g:n)<=(g+m>n+f?n+f:g+m)&&(a>b?a:b)<=(a+k>b+h?b+h:a+k)};a.hitTest=a.hitTestRect;a.setFrameRate=function(c){a.frameRate&&clearInterval(a.frameRate);a.speed=c;a.frameRate=setInterval(function(){a.onShow()},c)};a.ll_scaleX=function(c){return(c-a.left)*a.width/a.canvasStyleWidth};a.ll_scaleY=function(c){return(c-a.top)*a.height/a.canvasStyleHeight};a.ll_setStageSize=function(c,b){c=Math.ceil(c);b=Math.ceil(b);a.canvasObj.style.width=c+"px";a.canvasObj.style.height=
b+"px";a.canvasStyleWidth=c;a.canvasStyleHeight=b};a.resize=function(c,b){var d,e,m=0,f=0,k=window.innerWidth,h=window.innerHeight;c&&(d=c);b&&(e=b);"noScale"==a.stageScale&&(d=c||a.width,e=b||a.height);switch(a.stageScale){case "exactFit":d=c||k;e=b||h;break;case "noBorder":d=c||k;e=b||a.height*k/a.width;switch(a.align){case LStageAlign.BOTTOM:case LStageAlign.BOTTOM_LEFT:case LStageAlign.BOTTOM_RIGHT:case LStageAlign.BOTTOM_MIDDLE:m=h-e}break;case "showAll":k/h>a.width/a.height?(e=b||h,d=c||a.width*
h/a.height):(d=c||k,e=b||a.height*k/a.width);default:switch(a.align){case LStageAlign.BOTTOM:case LStageAlign.BOTTOM_LEFT:m=h-e;break;case LStageAlign.RIGHT:case LStageAlign.TOP_RIGHT:f=k-d;break;case LStageAlign.TOP_MIDDLE:f=.5*(k-d);break;case LStageAlign.BOTTOM_RIGHT:m=h-e;f=k-d;break;case LStageAlign.BOTTOM_MIDDLE:m=h-e;f=.5*(k-d);break;case LStageAlign.MIDDLE:m=.5*(h-e),f=.5*(k-d)}}a.canvasObj.style.marginTop=m+"px";a.canvasObj.style.marginLeft=f+"px";a.isFirefox&&(a.left=parseInt(a.canvasObj.style.marginLeft),
a.top=parseInt(a.canvasObj.style.marginTop));a.ll_setStageSize(d,e)};a.sleep=function(a){for(var b=new Date;(new Date).getTime()-b.getTime()<a;);};a.screen=function(c){a.displayState=c;a.stage&&("number"==typeof a.displayState?a.resize(a.width*a.displayState,a.height*a.displayState):a.resize())};return a}(),LSystem=LGlobal,LStage=LGlobal;
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,c){var b=this.length>>>0,d=Number(c)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=b);d<b;d++)if(d in this&&this[d]===a)return d;return-1});Array.isArray||(Array.isArray=function(a){return"[object Array]"==Object.prototype.toString.apply(a)});
Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),b=this,d=function(){},e=function(){return b.apply(this instanceof d&&a?this:a,c.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;e.prototype=new d;return e});
function trace(){if(LGlobal.traceDebug){var a=document.getElementById("traceObject"),c;0<trace.arguments.length&&null==a&&(a=document.createElement("TEXTAREA"),a.id="traceObject",a.style.position="absolute",a.style.top=LGlobal.height+20+"px",a.style.width=LGlobal.width+"px",a.style.height="200px",document.body.appendChild(a));for(c=0;c<trace.arguments.length;c++)a.value=a.value+trace.arguments[c]+"\r\n",a.scrollTop=a.scrollHeight}}function addChild(a){LGlobal.stage.addChild(a)}
function removeChild(a){LGlobal.stage.removeChild(a)}
function init(a,c,b,d,e,m){LGlobal.speed=a;var f=function(){LGlobal.canTouch&&LGlobal.aspectRatio==LANDSCAPE&&window.innerWidth<window.innerHeight?LGlobal.horizontalError():LGlobal.canTouch&&LGlobal.aspectRatio==PORTRAIT&&window.innerWidth>window.innerHeight?LGlobal.verticalError():setTimeout(e,100);LGlobal.startTimer=(new Date).getTime()};null!=m&&m==LEvent.INIT?(LGlobal.frameRate=setInterval(function(){LGlobal.onShow()},a),LGlobal.setCanvas(c,b,d),f()):LEvent.addEventListener(window,"load",function(){LGlobal.frameRate=
setInterval(function(){LGlobal.onShow()},a);LGlobal.setCanvas(c,b,d);f()})}var LInit=init;
function base(a,c,b){var d=null,e=a.constructor.prototype,m={};"Object"==a.constructor.name&&console.warn("When you use the extends. You must make a method like 'XX.prototype.xxx=function(){}'. but not 'XX.prototype={xxx:function(){}}'.");a.__ll__parent__=a.__ll__parent__||[];a.__ll__parent__.push(c.prototype);for(d in e)m[d]=1;for(d in c.prototype)m[d]||(e[d]=c.prototype[d]);e.toString==Object.prototype.toString&&(e.toString=LObject.prototype.toString);c.apply(a,b)}var LExtends=base;
function getTimer(){return(new Date).getTime()-LGlobal.startTimer}function getExtension(a){a=a.match(/([^#?]+\.)([^.#?]+)/);return 3<=a.length?a[2].toLowerCase():null}
var LObject=function(){function a(){this.type="LObject";this.objectindex=this.objectIndex=++LGlobal.objectIndex}a.prototype={callParent:function(a,b){if(a&&b){var d=!1,e,m="__ll__parent_call"+a;"undefined"==typeof this[m]?(d=!0,this[m]=0):this[m]++;if(this[m]>=this.__ll__parent__.length)return!1;e=this.__ll__parent__[this[m]][a]?this.__ll__parent__[this[m]][a].apply(this,b):this.callParent(a,b);d&&delete this[m];return e}},toString:function(){return"[object "+this.type+"]"}};return a}(),LMatrix=function(){function a(a,
b,d,e,m,f,k,h,g){this.a=1;this.c=this.u=this.b=0;this.d=1;this.ty=this.tx=this.v=0;this.w=1;typeof a!=UNDEFINED&&(this.a=a);typeof b!=UNDEFINED&&(this.b=b);typeof d!=UNDEFINED&&(this.c=d);typeof e!=UNDEFINED&&(this.d=e);typeof m!=UNDEFINED&&(this.tx=m);typeof f!=UNDEFINED&&(this.ty=f);typeof k!=UNDEFINED&&(this.u=k);typeof h!=UNDEFINED&&(this.v=h);typeof g!=UNDEFINED&&(this.w=g)}a.prototype={setTo:function(a,b,d,e,m,f,k,h,g){typeof a!=UNDEFINED&&(this.a=a);typeof b!=UNDEFINED&&(this.b=b);typeof d!=
UNDEFINED&&(this.c=d);typeof e!=UNDEFINED&&(this.d=e);typeof m!=UNDEFINED&&(this.tx=m);typeof f!=UNDEFINED&&(this.ty=f);typeof k!=UNDEFINED&&(this.u=k);typeof h!=UNDEFINED&&(this.v=h);typeof g!=UNDEFINED&&(this.w=g);return this},isIdentity:function(){return 1==this.a&&0==this.b&&0==this.c&&1==this.d&&0==this.tx&&0==this.ty&&0==u&&0==v&&1==w},transform:function(a){a.transform(this.a,this.b,this.c,this.d,this.tx,this.ty);return this},toString:function(){return"[object LMatrix]"},identity:function(){this.setTo(1,
0,0,1,0,0,0,0,1)},rotate:function(c){var b=c*Math.PI/180;c=Math.cos(b);b=Math.sin(b);c=new a(c,b,-b,c,0,0,0,0,1);this.add(c)},scale:function(c,b){var d=new a(c,0,0,b,0,0,0,0,1);this.add(d)},translate:function(c,b){var d=new a(1,0,0,1,c,b,0,0,1);this.add(d)},skew:function(c,b){mtx=new a(0,b,c,0,0,0,0,0,1);s.add(mtx)},add:function(a){this.setTo(this.a*a.a+this.b*a.c+this.u*a.tx,this.a*a.b+this.b*a.d+this.u*a.ty,this.c*a.a+this.d*a.c+this.v*a.tx,this.c*a.b+this.d*a.d+this.v*a.ty,this.tx*a.a+this.ty*
a.c+this.w*a.tx,this.tx*a.b+this.ty*a.d+this.w*a.ty,this.a*a.u+this.b*a.v+this.u*a.w,this.c*a.u+this.d*a.v+this.v*a.w,this.tx*a.u+this.ty*a.v+this.w*a.w)},toArray:function(a){return Array.isArray(a)&&3==a.length?[a[0]*this.a+a[1]*this.c+a[2]*this.tx,a[0]*this.b+a[1]*this.d+a[2]*this.ty,a[0]*this.u+a[1]*this.v+a[2]*this.w]:[this.a*a.a+this.b*a.c+this.u*a.tx,this.a*a.b+this.b*a.d+this.u*a.ty,this.c*a.a+this.d*a.c+this.v*a.tx,this.c*a.b+this.d*a.d+this.v*a.ty,this.tx*a.a+this.ty*a.c+this.w*a.tx,this.tx*
a.b+this.ty*a.d+this.w*a.ty,this.a*a.u+this.b*a.v+this.u*a.w,this.c*a.u+this.d*a.v+this.v*a.w,this.tx*a.u+this.ty*a.v+this.w*a.w]},clone:function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty,this.u,this.v,this.w)}};return a}(),LVec2=function(){function a(a,b){this.x=a||0;this.y=b||0}a.dot=function(a,b){return a.x*b.x+a.y*b.y};a.cross=function(a,b){return a.x*b.y-a.y*b.x};a.distance=function(a,b){var d=a.x-b.x,e=a.y-b.y;return Math.sqrt(d*d+e*e)};a.getMinMax=function(c,b){for(var d=a.dot(c[0],
b),e=a.dot(c[0],b),m=0,f=0,k=1;k<c.length;k++){var h=a.dot(c[k],b);d>h&&(d=h,m=k);e<h&&(e=h,f=k)}return{min_o:d,min_i:m,max_o:e,max_i:f}};a.prototype={length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){var c=this.length();return new a(this.x/c,this.y/c)},normR:function(){return new a(-this.y,this.x)},normL:function(){return new a(this.y,-this.x)}};return a}(),LEventDispatcher=function(){function a(){LExtends(this,LObject,[]);this._eventList=[]}var c={addEventListener:function(d,
a){this._eventList.push({listener:a,type:d})},removeEventListener:function(d,a){var m,b;b=this._eventList.length;for(m=0;m<b;m++)if(this._eventList[m]&&d==this._eventList[m].type&&this._eventList[m].listener==a){this._eventList.splice(m,1);break}},removeAllEventListener:function(){this._eventList=[]},dispatchEvent:function(d){var a,m=this._eventList.length,b="string"==typeof d?d:d.eventType;for(a=0;a<m;a++)if(this._eventList[a]&&b==this._eventList[a].type){if("string"==typeof d)this.currentTarget=
this.target=this,this.eventType=this.event_type=b,this._eventList[a].listener(this);else if(d.target||(d.target=this),d.currentTarget||(d.currentTarget=d.target),d._ll_preventDefault=!1,this._eventList[a].listener(d),d._ll_preventDefault)break;return!0}return!1},hasEventListener:function(d,a){var m,b=this._eventList.length;for(m=0;m<b;m++)if(this._eventList[m]&&d==this._eventList[m].type&&(typeof a==UNDEFINED||a==this._eventList[m].listener))return!0;return!1}},b;for(b in c)a.prototype[b]=c[b];return a}(),
LDisplayObject=function(){function a(){LExtends(this,LEventDispatcher,[]);this.name="instance"+this.objectIndex;this.height=this.width=this.y=this.x=0;this.alpha=this.scaleY=this.scaleX=1;this.visible=!0;this.rotate=0;this.filters=this.blendMode=this.mask=null}var c={_createCanvas:function(){this._canvas||(this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"))},ll_show:function(){var d=LGlobal.canvas;this._canShow()&&(LGlobal.box2d||"function"!=typeof this._ll_loopframe||
this._ll_loopframe(),d.save(),this._showReady(d),this.blendMode&&(d.globalCompositeOperation=this.blendMode),this.filters&&this._ll_setShadow(),this._rotateReady(),null!=this.mask&&this.mask.ll_show&&(this.mask.ll_show(),d.clip()),this._transformRotate(),this._transformScale(),this._coordinate(d),1>this.alpha&&(d.globalAlpha=this.alpha),this._ll_show(d),d.restore(),null!=LGlobal.box2d&&"function"==typeof this._ll_loopframe&&this._ll_loopframe())},_canShow:function(){return this.visible},_coordinate:function(d){0==
this.x&&0==this.y||d.transform(1,0,0,1,this.x,this.y)},_rotateReady:function(){},_showReady:function(d){},_ll_show:function(d){},_ll_setShadow:function(){var d=this.filters,a,m;if(d)for(a=0,m=d.length;a<m;a++)d[a].ll_show()},_transformRotate:function(){var d;0!=this.rotate&&(d=LGlobal.canvas,rotateFlag=Math.PI/180,rotateObj=new LMatrix,typeof this.rotatex==UNDEFINED&&(this.rotatey=this.rotatex=0),this.box2dBody&&(rotateFlag=1),rotateObj.a=Math.cos(this.rotate*rotateFlag),rotateObj.b=Math.sin(this.rotate*
rotateFlag),rotateObj.c=-rotateObj.b,rotateObj.d=rotateObj.a,rotateObj.tx=this.x+this.rotatex,rotateObj.ty=this.y+this.rotatey,rotateObj.transform(d).setTo(1,0,0,1,-rotateObj.tx,-rotateObj.ty).transform(d))},_transformScale:function(){var d=LGlobal.canvas,a;if(1!=this.scaleX||1!=this.scaleY)a=new LMatrix,1!=this.scaleX&&(a.tx=this.x),1!=this.scaleY&&(a.ty=this.y),a.a=this.scaleX,a.d=this.scaleY,a.transform(d).setTo(1,0,0,1,-a.tx,-a.ty).transform(d)},copyProperty:function(d){for(var a in d)"number"==
typeof d[a]||"string"==typeof d[a]||"boolean"==typeof d[a]?"objectindex"!=a&&"objectIndex"!=a&&(this[a]=d[a]):Array.isArray(d[a])&&(this[a]=d[a].slice());d.mask&&(this.mask=d.mask.clone())},getAbsoluteScale:function(){var d,a,m;d=this.scaleX;a=this.scaleY;for(m=this.parent;m&&"root"!=m;)d*=m.scaleX,a*=m.scaleY,m=m.parent;return{scaleX:d,scaleY:a}},getRootCoordinate:function(){var d,a,m;d=this.x;a=this.y;for(m=this.parent;m&&"root"!=m;)d*=m.scaleX,a*=m.scaleY,d+=m.x,a+=m.y,m=m.parent;return new LPoint(d,
a)},getBounds:function(d){if(typeof d==UNDEFINED)return new LRectangle(0,0,0,0);var a=0,m=0,b=0,c=0,h;this.objectIndex!=d.objectIndex&&(m=this.getRootCoordinate(),h=d.getRootCoordinate(),a=m.x-h.x,m=m.y-h.y);d.getWidth&&(b=d.getWidth());d.getHeight&&(c=d.getHeight());return new LRectangle(a,m,b,c)},getDataCanvas:function(){var d,a,m,b;this._createCanvas();a=LGlobal.canvasObj;b=LGlobal.canvas;d=this._canvas;m=this._context;this.width=this.getWidth();this.height=this.getHeight();d.width=this.width;
d.height=this.height;m.clearRect(0,0,this.width,this.height);LGlobal.canvasObj=this._canvas;LGlobal.canvas=this._context;this.ll_show();this._canvas=d;this._context=m;LGlobal.canvasObj=a;LGlobal.canvas=b;return this._canvas},getDataURL:function(){return this.getDataCanvas().toDataURL()},ismouseonShapes:function(d,a,m){var b,c,h,g;typeof d==UNDEFINED&&(d=this.shapes);b=this.getRootMatrix();for(h=d.length-1;0<=h;h--)if(c=d[h],g=c.arg,g=this._changeShape(c.type,g,b),c.type==LShape.VERTICES){if(LGlobal.hitPolygon(g,
a,m))return!0}else if(c.type==LShape.RECT){if(LGlobal.hitPolygon(g,a,m))return!0}else if(c.type==LShape.ARC&&(g[0]-a)*(g[0]-a)+(g[1]-m)*(g[1]-m)<g[3])return!0;return!1},_changeShape:function(d,a,m){var b,c;if(d==LShape.VERTICES)for(b=[],d=0,c=a.length;d<c;d++)b[d]=m.toArray([a[d][0],a[d][1],1]);else if(d==LShape.RECT)for(b=[[a[0],a[1]],[a[0]+a[2],a[1]],[a[0]+a[2],a[1]+a[3]],[a[0],a[1]+a[3]]],d=0,c=b.length;d<c;d++)b[d]=m.toArray([b[d][0],b[d][1],1]);else d==LShape.ARC&&(b=m.toArray([a[0],a[1],1]),
a=m.toArray([a[0]+a[2],a[1],1]),a=(b[0]-a[0])*(b[0]-a[0])+(b[1]-a[1])*(b[1]-a[1]),b=[b[0],b[1],Math.sqrt(a),a]);return b},getRootMatrix:function(){for(var d=this,a=new LMatrix;d&&"root"!=d;)1==d.scaleX&&1==d.scaleY||a.scale(d.scaleX,d.scaleY),0!=d.rotate&&a.rotate(d.rotate),0==d.x&&0==d.y||a.translate(d.x,d.y),d=d.parent;return a},remove:function(){var d=this.parent;d&&"root"!=d&&d.removeChild(this)}},b;for(b in c)a.prototype[b]=c[b];return a}(),LInteractiveObject=function(){function a(){LExtends(this,
LDisplayObject,[]);this.type="LInteractiveObject";this.mouseEnabled=!0;this.mouseList=[]}var c={addEventListener:function(d,a){0<=d.indexOf("mouse")||0<=d.indexOf("touch")||d==LMouseEvent.DOUBLE_CLICK?LMouseEventContainer.container[d]||(d==LMouseEvent.MOUSE_OVER||d==LMouseEvent.MOUSE_OUT)&&LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]?LMouseEventContainer.addMouseEvent(this,d,a):this.mouseList.push({listener:a,type:d}):this._eventList.push({listener:a,type:d})},removeEventListener:function(d,
a){var b,c;if(0<=d.indexOf("mouse")||0<=d.indexOf("touch")||d==LMouseEvent.DOUBLE_CLICK)if(LMouseEventContainer.container[d]||(d==LMouseEvent.MOUSE_OVER||d==LMouseEvent.MOUSE_OUT)&&LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE])LMouseEventContainer.removeMouseEvent(this,d,a);else for(c=this.mouseList.length,b=0;b<c;b++){if(this.mouseList[b]&&d==this.mouseList[b].type&&this.mouseList[b].listener==a){this.mouseList.splice(b,1);break}}else return this.callParent("removeEventListener",arguments)},
removeAllEventListener:function(){this.mouseList.length=0;this._eventList.length=0;LMouseEventContainer.container[LMouseEvent.MOUSE_DOWN]&&LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_DOWN);LMouseEventContainer.container[LMouseEvent.MOUSE_UP]&&LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_UP);LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&(LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_MOVE),LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_OVER),
LMouseEventContainer.removeMouseEvent(this,LMouseEvent.MOUSE_OUT))},hasEventListener:function(d){var a,b;if(0<=d.indexOf("mouse")||0<=d.indexOf("touch")||d==LMouseEvent.DOUBLE_CLICK)for(b=this.mouseList.length,a=0;a<b;a++){if(this.mouseList[a]&&d==this.mouseList[a].type)return!0}else return this.callParent("hasEventListener",arguments);return!1}},b;for(b in c)a.prototype[b]=c[b];return a}(),LDisplayObjectContainer=function(){function a(){LExtends(this,LInteractiveObject,[]);this.childList=[];this.numChildren=
0;this.mouseChildren=!0}var c={addChild:function(d){var a;d.parent&&(a=LGlobal.destroy,LGlobal.destroy=!1,d.parent.removeChild(d),LGlobal.destroy=a);d.parent=this;this.childList.push(d);this.numChildren=this.childList.length;return d},addChildAt:function(d,a){var b;if(!(0>a||a>this.childList.length))return"function"==typeof d.remove&&(b=LGlobal.destroy,LGlobal.destroy=!1,d.remove(),LGlobal.destroy=b),d.parent=this,this.childList.splice(a,0,d),this.numChildren=this.childList.length,d},removeChild:function(d){var a=
this.childList,b,c;b=0;for(c=a.length;b<c;b++)if(d.objectIndex==a[b].objectIndex){LGlobal.destroy&&d.die&&d.die();this.childList.splice(b,1);break}this.numChildren=this.childList.length;delete d.parent},getChildAt:function(d){var a=this.childList;return 0==a.length||a.length<=d?null:a[d]},getChildByName:function(d){var a=this.childList;i=0;for(l=a.length;i<l;i++)if(a[i]&&a[i].name==d)return a[i];return null},removeChildAt:function(d){var a=this.childList;if(!(a.length<=d))return LGlobal.destroy&&
a[d].die&&a[d].die(),d=this.childList.splice(d,1),this.numChildren=this.childList.length,d},getChildIndex:function(d){if(!d)return-1;var a=this.childList,b,c=a.length;for(b=0;b<c;b++)if(a[b].objectIndex==d.objectIndex)return b;return-1},setChildIndex:function(d,a){var b=this.childList,c,k=b.length;if("root"==d.parent||d.parent.objectIndex!=this.objectIndex||0>a||a>=k)return-1;for(c=0;c<k&&b[c].objectIndex!=d.objectIndex;c++);this.childList.splice(c,1);this.childList.splice(a,0,d);return a},resize:function(){this.width=
this.getWidth();this.height=this.getHeight()},removeAllChild:function(){var d=this.childList,a,b;a=0;for(b=d.length;a<b;a++)LGlobal.destroy&&d[a].die&&d[a].die();this.numChildren=this.height=this.width=this.childList.length=0}},b;for(b in c)a.prototype[b]=c[b];return a}(),LLoader=function(){function a(){LExtends(this,LEventDispatcher,[]);this.type="LLoader"}a.TYPE_BITMAPDATE="bitmapData";a.prototype.load=function(c,b){var d=this;b||(b=a.TYPE_BITMAPDATE);d.loadtype=b;b==a.TYPE_BITMAPDATE&&(d.content=
new Image,d.content.onload=function(){d.content.onload=null;var a=new LEvent(LEvent.COMPLETE);a.currentTarget=d;a.target=d.content;d.dispatchEvent(a);delete d.content},d.content.src=c)};return a}(),LURLLoader=function(){function a(){LExtends(this,LEventDispatcher,[]);this.type="LURLLoader";this.loadtype="";this.content=null;this.event={}}a.TYPE_TEXT="text";a.TYPE_JS="js";a.prototype.load=function(c,b){var d=this,e,m;b||(m=getExtension(c),"txt"==m?b=a.TYPE_TEXT:"js"==m&&(b=a.TYPE_JS));d.loadtype=b;
b==a.TYPE_TEXT?LAjax.get(c,{},function(a){e=new LEvent(LEvent.COMPLETE);d.data=a;e.currentTarget=d;e.target=a;d.dispatchEvent(e);delete d.content;delete d.data}):b==a.TYPE_JS&&(m=document.createElement("script"),m.onload=function(){e=new LEvent(LEvent.COMPLETE);e.currentTarget=d;e.target=d;d.dispatchEvent(e);delete d.content},m.src=c,m.type="text/javascript",document.querySelector("head").appendChild(m))};return a}(),LWebAudio=function(){function a(){LExtends(this,LEventDispatcher,[]);this.loopIndex=
this.loopEnd=this.loopStart=this.length=this.currentSave=this.currentStart=this.currentTime=0;this.loopLength=1;this.playing=!1;this.volume=1}a.container=[];a.containerCount=0;a.audioTag=new Audio;a._context=null;var c={getWebAudio:function(){var d;if(0<a.containerCount)d=a.container.shift();else if(typeof webkitAudioContext!==UNDEFINED)try{d=new webkitAudioContext}catch(e){a.containerCount=a.container.length,d=a.container.shift()}else if(typeof AudioContext!==UNDEFINED)try{d=new AudioContext}catch(b){a.containerCount=
a.container.length,d=a.container.shift()}else throw"AudioContext not supported. :(";d.createGainNode||(d.createGainNode=d.createGain);a.container.push(d);return d},onload:function(d){"[object AudioBuffer]"!==Object.prototype.toString.apply(d)?this.load(d):(this.data||(this.data=this.getWebAudio()),this.buffer=d,this.length=this.buffer.duration,d=new LEvent(LEvent.COMPLETE),d.currentTarget=this,d.target=this.buffer,this.dispatchEvent(d))},_onended:function(){this.dispatchEvent(LEvent.SOUND_COMPLETE);
++this.loopIndex<this.loopLength?this.play(this.currentStart,void 0,this.currentTimeTo):this.close()},load:function(d){if("string"!==typeof d)if("[object AudioBuffer]"==Object.prototype.toString.apply(d))this.onload(d);else"[object ArrayBuffer]"==Object.prototype.toString.apply(d)&&(this.data||(this.data=this.getWebAudio()),this.data.decodeAudioData(d,this.onload.bind(this),function(d){throw"AudioContext decodeAudioData error : "+d.toString();}));else{var e,b,c={mov:"quicktime","3gp":"3gpp",ogv:"ogg",
m4a:"mpeg",mp3:"mpeg",wave:"wav",aac:"mp4"};d=d.split(",");for(b in d)if(e=d[b].split("."),e=e[e.length-1],c[e]&&(e=c[e]),a.audioTag.canPlayType(this._type+"/"+e)){LAjax.responseType=LAjax.ARRAY_BUFFER;LAjax.get(d[b],{},this.onload.bind(this));break}}},getCurrentTime:function(){return this.playing?this.data.currentTime-this.currentSave+this.currentTime:this.currentSave},setVolume:function(d){this.volume=d;this.playing&&(this.volumeNode.gain.value=d)},getVolume:function(){return this.volume},play:function(d,
a,b){0!=this.length&&(typeof a!==UNDEFINED&&(this.loopIndex=0,this.loopLength=a),typeof d!==UNDEFINED&&(this.currentStart=this.currentTime=d),this.currentTimeTo=typeof b!==UNDEFINED?b>this.length?this.length:b:this.length,this.data.loop=!1,this.playing=!0,this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.timeout=setTimeout(this._onended.bind(this),1E3*(this.currentTimeTo-this.currentTime)),this.bufferSource=this.data.createBufferSource(),this.bufferSource.buffer=this.buffer,this.volumeNode=
this.data.createGainNode(),this.volumeNode.gain.value=this.volume,this.volumeNode.connect(this.data.destination),this.bufferSource.connect(this.volumeNode),this.currentSave=this.data.currentTime,this.bufferSource.start?this.bufferSource.start(0,this.currentTime,this.length-this.currentTime):this.bufferSource.noteGrainOn(0,this.currentTime,this.length-this.currentTime))},playSegment:function(d,a,b){this.playTo(d,d+a,b)},playTo:function(d,a,b){this.play(d,b,a)},stop:function(){this.playing&&(clearTimeout(this.timeout),
delete this.timeout,this.bufferSource.stop?this.bufferSource.stop(0):this.bufferSource.noteOff(0),this.currentTime=this.currentSave=this.getCurrentTime(),this.playing=!1)},close:function(){this.playing&&(clearTimeout(this.timeout),delete this.timeout,this.bufferSource.stop?this.bufferSource.stop(0):this.bufferSource.noteOff(0),this.playing=!1,this.currentSave=this.currentTime=0)}},b;for(b in c)a.prototype[b]=c[b];return a}(),LMedia=function(){function a(){LExtends(this,LDisplayObject,[]);this.loopIndex=
this.length=0;this.loopLength=1;this.playing=!1;this.onsoundcomplete=this.oncomplete=null;this.currentStart=0}var c={onload:function(){var d=this;if(d.data.readyState){d.length=d.data.duration;var a=new LEvent(LEvent.COMPLETE);a.currentTarget=d;a.target=d.data;d.dispatchEvent(a)}else d.data.addEventListener("canplaythrough",function(){d.onload()},!1)},_onended:function(){var d;this.data.ended&&this.dispatchEvent(LEvent.SOUND_COMPLETE);++this.loopIndex<this.loopLength?(d=this.loopIndex,this.close(),
this.play(this.currentStart,this.loopLength,this.currentTimeTo),this.loopIndex=d):this.close()},load:function(d){if("[object HTMLAudioElement]"==Object.prototype.toString.apply(d))this.data=d,this.onload();else{var a,b,c={mov:"quicktime","3gp":"3gpp",ogv:"ogg",m4a:"mpeg",mp3:"mpeg",wave:"wav",aac:"mp4"};d=d.split(",");for(b in d)if(a=d[b].split("."),a=a[a.length-1],c[a]&&(a=c[a]),this.data.canPlayType(this._type+"/"+a)){this.data.src=d[b];this.onload();this.data.load();return}if(this.oncomplete)this.oncomplete({})}},
getCurrentTime:function(){return this.data.currentTime},setVolume:function(a){this.data.volume=a},getVolume:function(){return this.data.volume},play:function(a,e,b){var c=this;0!=c.length&&(typeof e==UNDEFINED&&(e=1),typeof a==UNDEFINED&&(a=0),c.data.currentTime=a,c.currentStart=a,c.currentTimeTo=typeof b!==UNDEFINED?b>c.length?c.length:b:c.length,c.timeout&&(clearTimeout(c.timeout),delete c.timeout),c.timeout=setTimeout(function(){c._onended()},1E3*(c.currentTimeTo-c.data.currentTime)),c.data.loop=
!1,c.loopIndex=0,c.loopLength=e,c.playing=!0,c.data.play())},playSegment:function(a,e,b){this.playTo(a,a+e,b)},playTo:function(a,e,b){this.play(a,b,e)},stop:function(){this.playing&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.playing=!1,this.data.pause())},close:function(){this.playing&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.playing=!1,this.data.pause(),this.currentSave=this.data.currentTime=0)}},b;for(b in c)a.prototype[b]=c[b];return a}(),LSound=
function(){function a(d){this.type="LSound";this._type="audio";a.webAudioEnabled&&LGlobal.webAudio?LExtends(this,LWebAudio,[]):(LExtends(this,LMedia,[]),this.data=new Audio,this.data.loop=!1,this.data.autoplay=!1);d&&this.load(d)}a.TYPE_SOUND="sound";a.webAudioEnabled=!1;var c=location.protocol;if("http:"==c||"https:"==c){if(typeof webkitAudioContext!==UNDEFINED)try{LWebAudio._context=new webkitAudioContext}catch(b){}else if(typeof AudioContext!==UNDEFINED)try{LWebAudio._context=new AudioContext}catch(d){}LWebAudio._context&&
(LWebAudio.container.push(LWebAudio._context),a.webAudioEnabled=!0)}return a}(),LVideo=function(){function a(a){LExtends(this,LMedia,[]);this.type="LVideo";this._type="video";this.rotatey=this.rotatex=0;this.data=document.createElement("video");this.data.style.display="none";document.body.appendChild(this.data);this.data.id="video_"+this.objectIndex;this.data.loop=!1;this.data.autoplay=!1;a&&this.load(a)}var c={_ll_show:function(a){a.drawImage(this.data,this.x,this.y)},die:function(){document.body.removeChild(this.data);
delete this.data},getWidth:function(){return this.data.width},getHeight:function(){return this.data.height}},b;for(b in c)a.prototype[b]=c[b];return a}(),LPoint=function(){function a(a,b){this.x=a;this.y=b}a.distance=function(c,b){return a.distance2(c.x,c.y,b.x,b.y)};a.distance2=function(a,b,d,e){b=a-d;a-=d;return Math.sqrt(b*b+a*a)};a.interpolate=function(c,b,d){return new a(c.x+(b.x-c.x)*(1-d),c.y+(b.y-c.y)*(1-d))};a.polar=function(c,b){return new a(c*Math.cos(b),c*Math.sin(b))};a.prototype={toString:function(){return"[object LPoint("+
this.x+","+this.y+")]"},length:function(){return a.distance2(this.x,this.y,0,0)},add:function(c){return a(this.x+c.x,this.y+c.y)},clone:function(){return new a(this.x,this.y)},setTo:function(a,b){this.x=a;this.y=b},copyFrom:function(a){this.setTo(a.x,a.y)},equals:function(a){return this.x==a.x&&this.y==a.y},normalize:function(a){a/=this.length();this.x*=a;this.y*=a},offset:function(a,b){this.x+=a;this.y+=b},subtract:function(c){return new a(this.x-c.x,this.y-c.y)}};return a}(),LRectangle=function(){function a(a,
b,d,e){this.x=a;this.y=b;this.width=d;this.height=e;this.setRectangle()}a.prototype={setRectangle:function(){this.bottom=this.y+this.height;this.right=this.x+this.width;this.left=this.x;this.top=this.y},clone:function(){return new a(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&a<=this.right&&b>=this.y&&b<=this.bottom},containsRect:function(a){return a.x>=this.x&&a.right<=this.right&&a.y>=this.y&&a.bottom<=this.bottom},equals:function(a){return a.x==this.x&&a.width==
this.width&&a.y==this.y&&a.height==this.height},inflate:function(a,b){this.width+=a;this.height+=b;this.setRectangle()},intersection:function(c){var b=this.x>c.x?this.x:c.x,d=this.y>c.y?this.y:c.y,e=this.right>c.right?c.right:this.right;c=this.bottom>c.bottom?c.bottom:this.bottom;return b<=e&&d<=c?new a(b,d,e,c):new a(0,0,0,0)},intersects:function(a){var b=this.y>a.y?this.y:a.y,d=this.bottom>a.bottom?a.bottom:this.bottom;return(this.x>a.x?this.x:a.x)<=(this.right>a.right?a.right:this.right)&&b<=d},
isEmpty:function(){return 0==this.x&&0==this.y&&0==this.width&&0==this.height},offset:function(a,b){this.x+=a;this.y+=b;this.setRectangle()},setEmpty:function(){this.height=this.width=this.y=this.x=0;this.setRectangle()},setTo:function(a,b,d,e){this.x=a;this.y=b;this.width=d;this.height=e;this.setRectangle()},toString:function(){return"[object LRectangle("+this.x+","+this.y+","+this.width+","+this.height+")]"},union:function(c){return new a(this.x>c.x?c.x:this.x,this.y>c.y?c.y:this.y,this.right>c.right?
this.right:c.right,this.bottom>c.bottom?this.bottom:c.bottom)}};return a}(),LGraphics=function(){function a(){LExtends(this,LObject,[]);this.type="LGraphics";this.color="#000000";this.alpha=1;this.bitmap=null;this.setList=[];this.showList=[]}var c={ll_show:function(){var a,e=this.setList.length;if(0!=e)for(a=0;a<e;a++)this.setList[a]()},clone:function(){var d=new a,e,b,c;d.color=this.color;d.alpha=this.alpha;d.bitmap=this.bitmap;e=0;for(b=this.setList.length;e<b;e++)c=this.setList[e],d.setList.push(c);
e=0;for(b=this.showList.length;e<b;e++)c=this.showList[e],d.showList.push(c);return d},lineCap:function(a){this.setList.push(function(){LGlobal.canvas.lineCap=a})},lineJoin:function(a){this.setList.push(function(){LGlobal.canvas.lineJoin=a})},lineWidth:function(a){this.setList.push(function(){LGlobal.canvas.lineWidth=a})},strokeStyle:function(a){this.setList.push(function(){LGlobal.canvas.strokeStyle=a})},stroke:function(){this.setList.push(function(){LGlobal.canvas.stroke()})},beginPath:function(){this.setList.push(function(){LGlobal.canvas.beginPath()})},
closePath:function(){this.setList.push(function(){LGlobal.canvas.closePath()})},moveTo:function(a,e){this.setList.push(function(){LGlobal.canvas.moveTo(a,e)})},lineTo:function(a,e){this.setList.push(function(){LGlobal.canvas.lineTo(a,e)})},rect:function(a,e,b,c){this.setList.push(function(){LGlobal.canvas.rect(a,e,b,c)});this.showList.push({type:LShape.RECT,arg:[a,e,b,c]})},fillStyle:function(a){this.setList.push(function(){LGlobal.canvas.fillStyle=a})},fill:function(){this.setList.push(function(){LGlobal.canvas.fill()})},
arc:function(a,e,b,c,k,h){this.setList.push(function(){LGlobal.canvas.arc(a,e,b,c,k,h)});this.showList.push({type:LShape.ARC,arg:c})},lineStyle:function(a,e){var b;null==e&&(e=this.color);this.color=e;this.setList.push(function(){b=LGlobal.canvas;b.lineWidth=a;b.strokeStyle=e})},clear:function(){this.bitmap=null;this.setList.length=0;this.showList.length=0},beginBitmapFill:function(a){var e=this;e.setList.push(function(){e.bitmap=a})},drawEllipse:function(a,e,b,c,k){var h=this;h.setList.push(function(){var g,
n,r,p,q,t,x,y,z;g=LGlobal.canvas;g.beginPath();n=b[0];r=b[1];p=b[2];q=b[3];t=p/2*.5522848;x=q/2*.5522848;y=n+p;z=r+q;p=n+p/2;q=r+q/2;g.moveTo(n,q);g.bezierCurveTo(n,q-x,p-t,r,p,r);g.bezierCurveTo(p+t,r,y,q-x,y,q);g.bezierCurveTo(y,q+x,p+t,z,p,z);g.bezierCurveTo(p-t,z,n,q+x,n,q);h.bitmap?(g.save(),g.clip(),g.drawImage(h.bitmap.image,h.bitmap.x,h.bitmap.y,h.bitmap.width,h.bitmap.height,0,0,h.bitmap.width,h.bitmap.height),g.restore(),h.bitmap=null):(c&&(g.fillStyle=k,g.fill()),0<a&&(g.lineWidth=a,g.strokeStyle=
e,g.stroke()))});h.showList.push({type:LShape.RECT,arg:b})},drawArc:function(a,b,c,f,k){var h=this;h.setList.push(function(){var g=LGlobal.canvas;g.beginPath();6<c.length&&c[6]&&g.moveTo(c[0],c[1]);g.arc(c[0],c[1],c[2],c[3],c[4],c[5]);6<c.length&&c[6]&&g.lineTo(c[0],c[1]);h.bitmap?(g.save(),g.clip(),g.drawImage(h.bitmap.image,h.bitmap.x,h.bitmap.y,h.bitmap.width,h.bitmap.height,0,0,h.bitmap.width,h.bitmap.height),g.restore(),h.bitmap=null):(f&&(g.fillStyle=k,g.fill()),0<a&&(g.lineWidth=a,g.strokeStyle=
b,g.stroke()))});h.showList.push({type:LShape.ARC,arg:c})},drawRect:function(a,b,c,f,k){var h=this;h.setList.push(function(){var g=LGlobal.canvas;g.beginPath();g.rect(c[0],c[1],c[2],c[3]);g.closePath();h.bitmap?(g.save(),g.clip(),g.drawImage(h.bitmap.image,h.bitmap.x,h.bitmap.y,h.bitmap.width,h.bitmap.height,0,0,h.bitmap.width,h.bitmap.height),g.restore(),h.bitmap=null):(f&&(g.fillStyle=k,g.fill()),0<a&&(g.lineWidth=a,g.strokeStyle=b,g.stroke()))});h.showList.push({type:LShape.RECT,arg:c})},drawRoundRect:function(a,
b,c,f,k){var h=this;h.setList.push(function(){var g=LGlobal.canvas;g.beginPath();g.moveTo(c[0]+c[4],c[1]);g.lineTo(c[0]+c[2]-c[4],c[1]);g.arcTo(c[0]+c[2],c[1],c[0]+c[2],c[1]+c[4],c[4]);g.lineTo(c[0]+c[2],c[1]+c[3]-c[4]);g.arcTo(c[0]+c[2],c[1]+c[3],c[0]+c[2]-c[4],c[1]+c[3],c[4]);g.lineTo(c[0]+c[4],c[1]+c[3]);g.arcTo(c[0],c[1]+c[3],c[0],c[1]+c[3]-c[4],c[4]);g.lineTo(c[0],c[1]+c[4]);g.arcTo(c[0],c[1],c[0]+c[4],c[1],c[4]);g.closePath();h.bitmap?(g.save(),g.clip(),g.drawImage(h.bitmap.image,0,0,h.bitmap.width,
h.bitmap.height,0,0,h.bitmap.width,h.bitmap.height),g.restore(),h.bitmap=null):(f&&(g.fillStyle=k,g.fill()),0<a&&(g.lineWidth=a,g.strokeStyle=b,g.stroke()))});h.showList.push({type:LShape.RECT,arg:c})},drawVertices:function(a,b,c,f,k){var h=this;3>c.length||(h.setList.push(function(){var g=LGlobal.canvas;g.beginPath();g.moveTo(c[0][0],c[0][1]);var n,r=c.length,p;for(n=1;n<r;n++)p=c[n],g.lineTo(p[0],p[1]);g.lineTo(c[0][0],c[0][1]);g.closePath();h.bitmap?(g.save(),g.clip(),g.drawImage(h.bitmap.image,
h.bitmap.x,h.bitmap.y,h.bitmap.width,h.bitmap.height,0,0,h.bitmap.width,h.bitmap.height),g.restore(),h.bitmap=null):(f&&(g.fillStyle=k,g.fill()),0<a&&(g.lineWidth=a,g.strokeStyle=b,g.closePath(),g.stroke()))}),h.showList.push({type:LShape.VERTICES,arg:c}))},drawTriangles:function(a,b,c,f,k){var h=this,g,n,r=b.length,p;h.setList.push(function(){p=LGlobal.canvas;var q;for(n=g=0;g<r;g+=3){p.save();p.beginPath();p.moveTo(a[2*b[g]],a[2*b[g]+1]);p.lineTo(a[2*b[g+1]],a[2*b[g+1]+1]);p.lineTo(a[2*b[g+2]],
a[2*b[g+2]+1]);p.lineTo(a[2*b[g]],a[2*b[g]+1]);p.closePath();f&&(p.lineWidth=f,p.strokeStyle=k,p.stroke());p.clip();if(0==g%6){var t=(c[2*b[g+1+n]]-c[2*b[g+n]])*h.bitmap.width,x=(c[2*b[g+2]+1]-c[2*b[g]+1])*h.bitmap.height;if(0==n&&0>t){for(q=g+9;q<r;q+=3)if(c[2*b[g+2]+1]==c[2*b[q+2]+1]){n=q-g;break}0==n&&(n=r-g);t=(c[2*b[g+1+n]]-c[2*b[g+n]])*h.bitmap.width}g+n>=r?(t=(c[2*b[g+n-r]]-c[2*b[g+1]])*h.bitmap.width,q=1==c[2*b[g]]?0:h.bitmap.width*c[2*b[g]]+t,q>h.bitmap.width&&(q-=h.bitmap.width)):q=h.bitmap.width*
c[2*b[g+n]];sh=h.bitmap.height*c[2*b[g]+1];0>x&&(x=(c[2*b[g+2-(0<g?6:-6)]+1]-c[2*b[g-(0<g?6:-6)]+1])*h.bitmap.height,sh=0);var y=(a[2*b[g+1]]-a[2*b[g]])/t,z=(a[2*b[g+1]+1]-a[2*b[g]+1])/t,A=(a[2*b[g+2]]-a[2*b[g]])/x,B=(a[2*b[g+2]+1]-a[2*b[g]+1])/x;p.transform(y,z,A,B,a[2*b[g]],a[2*b[g]+1]);p.drawImage(h.bitmap.image,h.bitmap.x+q,h.bitmap.y+sh,t,x,0,0,t,x)}else{t=(c[2*b[g+2+n]]-c[2*b[g+1+n]])*h.bitmap.width;x=(c[2*b[g+2]+1]-c[2*b[g]+1])*h.bitmap.height;if(0==n&&0>t){for(q=g+9;q<r;q+=3)if(c[2*b[g+2]+
1]==c[2*b[q+2]+1]){n=q-g;break}0==n&&(n=r-g);t=(c[2*b[g+2+n]]-c[2*b[g+1+n]])*h.bitmap.width}g+1+n>=r?(t=(c[2*b[g+1+n-r]]-c[2*b[g+2]])*h.bitmap.width,q=1==c[2*b[g+1]]?0:h.bitmap.width*c[2*b[g+1]]+t,q>h.bitmap.width&&(q-=h.bitmap.width)):q=h.bitmap.width*c[2*b[g+1+n]];sh=h.bitmap.height*c[2*b[g]+1];0>x&&(x=(c[2*b[g+2-(0<g?6:-6)]+1]-c[2*b[g-(0<g?6:-6)]+1])*h.bitmap.height,sh=0);y=(a[2*b[g+2]]-a[2*b[g+1]])/t;z=(a[2*b[g+2]+1]-a[2*b[g+1]+1])/t;A=(a[2*b[g+2]]-a[2*b[g]])/x;B=(a[2*b[g+2]+1]-a[2*b[g]+1])/x;
p.transform(y,z,A,B,a[2*b[g+1]],a[2*b[g+1]+1]);p.drawImage(h.bitmap.image,h.bitmap.x+q,h.bitmap.y+sh,t,x,0,-x,t,x)}p.restore()}})},drawLine:function(a,b,c){this.setList.push(function(){var f=LGlobal.canvas;f.beginPath();f.moveTo(c[0],c[1]);f.lineTo(c[2],c[3]);f.lineWidth=a;f.strokeStyle=b;f.closePath();f.stroke()})},add:function(a){this.setList.push(a)},ismouseon:function(a,b){return null!=a&&a!=UNDEFINED&&0!=this.showList.length&&this.parent?this.parent.ismouseonShapes(this.showList,a.offsetX,a.offsetY):
!1},getWidth:function(){var a,b,c=0,f=0,k,h,g;a=0;for(h=this.showList.length;a<h;a++)if(this.showList[a].type==LShape.RECT)c>this.showList[a].arg[0]&&(c=this.showList[a].arg[0]),f<this.showList[a].arg[0]+this.showList[a].arg[2]&&(f=this.showList[a].arg[0]+this.showList[a].arg[2]);else if(this.showList[a].type==LShape.ARC)c>this.showList[a].arg[0]-this.showList[a].arg[2]&&(c=this.showList[a].arg[0]-this.showList[a].arg[2]),f<this.showList[a].arg[0]+this.showList[a].arg[2]&&(f=this.showList[a].arg[0]+
this.showList[a].arg[2]);else if(this.showList[a].type==LShape.VERTICES)for(b=0,g=this.showList[a].arg.length;b<g;b++)k=this.showList[a].arg[b],c>k[0]&&(c=k[0]),f<k[0]&&(f=k[0]);this.left=c;return f-c},getHeight:function(){var a=null,b=null,c,f,k=0,h=0,g,a=0;for(c=this.showList.length;a<c;a++)if(this.showList[a].type==LShape.RECT)k>this.showList[a].arg[1]&&(k=this.showList[a].arg[1]),h<this.showList[a].arg[1]+this.showList[a].arg[3]&&(h=this.showList[a].arg[1]+this.showList[a].arg[3]);else if(this.showList[a].type==
LShape.ARC)k>this.showList[a].arg[1]-this.showList[a].arg[2]&&(k=this.showList[a].arg[1]-this.showList[a].arg[2]),h<this.showList[a].arg[1]+this.showList[a].arg[2]&&(h=this.showList[a].arg[1]+this.showList[a].arg[2]);else if(this.showList[a].type==LShape.VERTICES)for(b=0,f=this.showList[a].arg.length;b<f;b++)g=this.showList[a].arg[b],k>g[1]&&(k=g[1]),h<g[1]&&(h=g[1]);this.top=k;return h-k},startX:function(){this.getWidth();return this.left},startY:function(){this.getHeight();return this.top}},b;for(b in c)a.prototype[b]=
c[b];return a}(),LShape=function(){function a(){LExtends(this,LInteractiveObject,[]);this.type="LShape";this.graphics=new LGraphics;this.graphics.parent=this}a.ARC="arc";a.RECT="rect";a.VERTICES="vertices";var c={_ll_show:function(a){this.graphics.ll_show()},getWidth:function(a){var b,c=this.graphics.startX(),f=c+this.graphics.getWidth();a&&this.mask&&(a=this.mask._startX?this.mask._startX():this.mask.startX(),b=this.mask.getWidth(),c<a&&(c=a),f>a+b&&(f=a+b));this.ll_left=this.x+c;this.ll_right=this.x+
f;return(f-c)*this.scaleX},getHeight:function(a){var b,c=this.graphics.startY(),f=c+this.graphics.getHeight();a&&this.mask&&(a=this.mask._startY?this.mask._startY():this.mask.startY(),b=this.mask.getHeight(),c<a&&(c=a),f>a+b&&(f=a+b));this.ll_top=this.y+c;this.ll_bottom=this.y+f;return(f-c)*this.scaleY},_startX:function(){this.getWidth();return this.ll_left},startX:function(){return this._startX()*this.scaleX},_startY:function(){this.getHeight();return this.ll_top},startY:function(){return this._startY()*
this.scaleY},clone:function(){var d=new a;d.copyProperty(this);d.graphics=this.graphics.clone();return d.graphics.parent=d},ismouseon:function(a,b){var c=!1,f;if(!this.visible||null==a||this.mask&&(this.mask.parent||(this.mask.parent=this.parent),!this.mask.ismouseon(a,b)))return!1;f={x:this.x*b.scaleX+b.x,y:this.y*b.scaleY+b.y,scaleX:b.scaleX*this.scaleX,scaleY:b.scaleY*this.scaleY};this.graphics&&(c=this.graphics.ismouseon(a,f));return c},die:function(){this.graphics.clear()}},b;for(b in c)a.prototype[b]=
c[b];return a}(),LSprite=function(){function a(){LExtends(this,LDisplayObjectContainer,[]);this.type="LSprite";this.rotatex;this.rotatey;this.graphics=new LGraphics;this.graphics.parent=this;this.box2dBody=null;this.shapes=[]}var c={setRotate:function(a){this.box2dBody?this.box2dBody.SetAngle(a):this.rotate=a},_rotateReady:function(){this.box2dBody&&(typeof this.rotatex==UNDEFINED&&this.getRotateXY(),this.x=this.box2dBody.GetPosition().x*LGlobal.box2d.drawScale-this.parent.x-this.rotatex,this.y=this.box2dBody.GetPosition().y*
LGlobal.box2d.drawScale-this.parent.y-this.rotatey,this.rotate=this.box2dBody.GetAngle())},_ll_show:function(a){this.graphics.ll_show();LGlobal.show(this.childList);this._ll_debugShape()},startDrag:function(a){this.ll_dragStart||(this.ll_touchPointID=a,this.ll_dragStartX=this.x,this.ll_dragStartY=this.y,this.ll_dragMX=mouseX,this.ll_dragMY=mouseY,this.ll_dragStart=!0,LGlobal.dragList.push(this))},stopDrag:function(){var a,b;a=0;for(b=LGlobal.dragList.length;a<b;a++)if(this.objectIndex==LGlobal.dragList[a].objectIndex){this.ll_dragStart=
!1;LGlobal.dragList.splice(a,1);break}},getRotateXY:function(a,b){a&&b||(a=this.getWidth(),b=this.getHeight());this.rotatex=a/2;this.rotatey=b/2},getWidth:function(a){var b,c,f,k,h=this.graphics.startX(),g=h+this.graphics.getWidth();b=0;for(c=this.childList.length;b<c;b++)f=this.childList[b],typeof f.visible!=UNDEFINED&&f.visible&&(k=f.x,"function"==typeof f._startX&&(k=f._startX()),f=k+f.getWidth(a),k<h&&(h=k),f>g&&(g=f));a&&this.mask&&(a=this.mask._startX?this.mask._startX():this.mask.startX(),
b=this.mask.getWidth(),h<a&&(h=a),g>a+b&&(g=a+b));this.ll_left=this.x+h;this.ll_right=this.x+g;return(g-h)*this.scaleX},getHeight:function(a){var b,c,f,k,h=this.graphics.startY(),g=h+this.graphics.getHeight();b=0;for(c=this.childList.length;b<c;b++)f=this.childList[b],typeof f.visible!=UNDEFINED&&f.visible&&(k=f.y,"function"==typeof f._startY&&(k=f._startY()),f=k+f.getHeight(a),k<h&&(h=k),f>g&&(g=f));a&&this.mask&&(a=this.mask._startY?this.mask._startY():this.mask.startY(),b=this.mask.getHeight(),
h<a&&(h=a),g>a+b&&(g=a+b));this.ll_top=this.y+h;this.ll_bottom=this.y+g;return(g-h)*this.scaleY},_startX:function(){this.getWidth();return this.ll_left},startX:function(){return this._startX()*this.scaleX},_startY:function(){this.getHeight();return this.ll_top},startY:function(){return this._startY()*this.scaleY},_ll_loopframe:function(){this.dispatchEvent(LEvent.ENTER_FRAME)},clone:function(){var d=new a,b,c,f;d.copyProperty(this);d.graphics=this.graphics.clone();d.graphics.parent=d;c=d.childList.length=
0;for(f=this.childList.length;c<f;c++)b=this.childList[c],b.clone&&(b=b.clone(),b.parent=d,d.childList.push(b));return d},_mevent:function(a){var b;for(b=0;b<this.mouseList.length;b++)if(this.mouseList[b].type==a)return!0;return!1},ll_dispatchMouseEvent:function(a,c,m,f,k){for(b=0;b<this.mouseList.length;b++){var h=this.mouseList[b];h.type==a&&(c.selfX=(f-(this.x*m.scaleX+m.x))/(m.scaleX*this.scaleX),c.selfY=(k-(this.y*m.scaleY+m.y))/(m.scaleY*this.scaleY),c.currentTarget=c.clickTarget=this,c.target||
(c.target=this),h.listener(c,this))}},ll_mouseout:function(a,b,c,f,k){if(b==LMouseEvent.MOUSE_MOVE&&this.ll_mousein&&(this.ll_mousein=!1,this._mevent(LMouseEvent.MOUSE_OUT)&&this.ll_dispatchMouseEvent(LMouseEvent.MOUSE_OUT,a,c,f,k),this.mouseChildren))for(var h=this.childList.length-1;0<=h;h--)this.childList[h].mouseEvent&&this.childList[h].ll_mouseout&&this.childList[h].ll_mouseout(a,b,c,f,k)},mouseEvent:function(a,b,c){if(!a)return!1;var f,k,h=a.offsetX,g=a.offsetY,n;if(!this.mouseEnabled||!this.visible)return!1;
null==c&&(c={x:0,y:0,scaleX:1,scaleY:1});if(this.ismouseon(a,c)){b!=LMouseEvent.MOUSE_MOVE||this.ll_mousein||(this.ll_mousein=!0,this._mevent(LMouseEvent.MOUSE_OVER)&&this.ll_dispatchMouseEvent(LMouseEvent.MOUSE_OVER,a,c,h,g));if(this.mouseChildren){n={x:this.x*c.scaleX+c.x,y:this.y*c.scaleY+c.y,scaleX:c.scaleX*this.scaleX,scaleY:c.scaleY*this.scaleY};for(k=this.childList.length-1;0<=k&&(!this.childList[k].mouseEvent||!(f=this.childList[k].mouseEvent(a,b,n))||(a.target=this.childList[k],b==LMouseEvent.MOUSE_MOVE));k--);
this._mevent(b)&&this.ll_dispatchMouseEvent(b,a,c,h,g)}return!0}this.ll_mouseout(a,b,c,h,g);return!1},hitTestPoint:function(a,b){var c=this.shapes;c&&0!=c.length||(this.getWidth(),this.getHeight(),c=[{type:LShape.RECT,arg:[this.ll_left-this.x,this.ll_top-this.y,this.ll_right-this.ll_left,this.ll_bottom-this.ll_top]}]);return this.ismouseonShapes(c,a,b)},hitTestObject:function(a){var b=this.shapes,c=a.shapes,f,k,h,g,n,r,p,q;b&&0!=b.length||(this.getWidth(),this.getHeight(),b=[{type:LShape.RECT,arg:[this.ll_left-
this.x,this.ll_top-this.y,this.ll_right-this.ll_left,this.ll_bottom-this.ll_top]}]);c&&0!=c.length||(a.getWidth(),a.getHeight(),c=[{type:LShape.RECT,arg:[a.ll_left-a.x,a.ll_top-a.y,a.ll_right-a.ll_left,a.ll_bottom-a.ll_top]}]);f=this.getRootMatrix();k=a.getRootMatrix();for(h=b.length-1;0<=h;h--)for(g=b[h],q=this._changeShape(g.type,g.arg,f),n=c.length-1;0<=n;n--)if(r=c[n],p=a._changeShape(r.type,r.arg,k),g.type==LShape.VERTICES||g.type==LShape.RECT)if(r.type==LShape.VERTICES||r.type==LShape.RECT){if(LGlobal.hitTestPolygon(q,
p))return!0}else{if(r.type==LShape.ARC&&LGlobal.hitTestPolygonArc(q,p))return!0}else if(r.type==LShape.VERTICES||r.type==LShape.RECT){if(LGlobal.hitTestPolygonArc(p,q))return!0}else if(r.type==LShape.ARC&&Math.sqrt((q[0]-p[0])*(q[0]-p[0])+(q[1]-p[1])*(q[1]-p[1]))<q[2]+p[2])return!0;return!1},addShape:function(a,b){a==LShape.VERTICES&&3>b.length||this.shapes.push({type:a,arg:b})},clearShape:function(){this.shapes.length=0},_ll_debugShape:function(){var a,b,c,f,k,h;if(LGlobal.traceDebug&&0!=this.shapes.length)for(a=
0,b=this.shapes.length;a<b;a++){c=this.shapes[a];f=LGlobal.canvas;k=c.arg;f.beginPath();if(c.type==LShape.RECT)f.rect(k[0],k[1],k[2],k[3]);else if(c.type==LShape.ARC)f.arc(k[0],k[1],k[2],0,2*Math.PI);else if(c.type==LShape.VERTICES){f.moveTo(k[0][0],k[0][1]);c=1;for(h=k.length;c<h;c++)f.lineTo(k[c][0],k[c][1]);f.lineTo(k[0][0],k[0][1])}f.closePath();f.strokeStyle="#00FF00";f.stroke()}},ismouseon:function(a,b){if(!this.visible||null==a||this.mask&&(this.mask.parent||(this.mask.parent=this.parent),
!this.mask.ismouseon(a,b)))return!1;if(this.shapes&&0<this.shapes.length)return this.ismouseonShapes(this.shapes,a.offsetX,a.offsetY);var c,f=!1,k=this.childList,h={x:this.x*b.scaleX+b.x,y:this.y*b.scaleY+b.y,scaleX:b.scaleX*this.scaleX,scaleY:b.scaleY*this.scaleY};this.graphics&&(f=this.graphics.ismouseon(a,h));if(!f)for(c=k.length-1;0<=c;c--)if(k[c].ismouseon&&(f=k[c].ismouseon(a,h)),f){a.target=this.childList[c];break}return f},die:function(){var a,b,c;this.graphics.clear();this.removeAllEventListener();
this.stopDrag();this.box2dBody&&this.clearBody();a=0;b=this.childList;for(c=b.length;a<c;a++)b[a].die&&b[a].die()}},b;for(b in c)a.prototype[b]=c[b];return a}(),LButton=function(){function a(d,b,c,f){LExtends(this,LSprite,[]);this.type="LButton";this.addChild(d);b?this.addChild(b):b=d;c?this.addChild(c):c=b;f?this.addChild(f):f=d;this.upState=this.bitmap_up=d;this.overState=this.bitmap_over=b;this.downState=c;this.disableState=f;this._ll_down_sx=this.downState.scaleX;this._ll_down_sy=this.downState.scaleY;
this.overState.visible=!1;this.downState.visible=!1;this.buttonMode=this.upState.visible=!0;this.staticMode=!1;this._ll_cursorEnabled=!0;this.setState(a.STATE_ENABLE);LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&LMouseEventContainer.pushButton(this);this.addEventListener(LMouseEvent.MOUSE_DOWN,this.ll_modeDown)}a.STATE_DISABLE="disable";a.STATE_ENABLE="enable";var c={setState:function(d){if(d==a.STATE_DISABLE)this.upState.visible=!1,this.overState.visible=!1,this.downState.visible=!1,this.disableState.visible=
!0,this.mouseEnabled=!1;else if(d==a.STATE_ENABLE)this.overState.visible=!1,this.downState.visible=!1,this.disableState.visible=!1,this.mouseEnabled=this.upState.visible=!0;else return;this.state=d},ll_mouseout:function(a,b,c,f,k){this.ll_mousein&&(a.clickTarget=this,this.ll_modeOut(a),this.ll_mousein=!1)},mouseEvent:function(a,b,c){if(!a)return!1;b==LMouseEvent.MOUSE_MOVE&&this.ll_button_mode&&this.ll_button_mode(a);return this.callParent("mouseEvent",arguments)},ll_button_mode:function(a){this.visible&&
(a.clickTarget=this,this.hitTestPoint(a.offsetX,a.offsetY)?this.ll_modeOver(a):this.ll_modeOut(a))},ll_modeDown:function(d){d=d.clickTarget;var b,c,f,k,h;d.buttonMode&&!d.tween&&(d.state==a.STATE_DISABLE?(d.upState.visible=!1,d.overState.visible=!1,d.downState.visible=!1,d.disableState.visible=!0):(d.upState.visible=!1,d.overState.visible=!1,d.downState.visible=!0,d._tweenOver=d.ll_modeOver,h=function(a){a=a.parent;delete a.tween;a._tweenOver({clickTarget:a});delete a._tweenOver},d.staticMode?d.tween=
LTweenLite.to(d.downState,.3,{}).to(d.downState,.1,{onComplete:h}):(b=d.downState.getWidth(),c=d.downState.getHeight(),f=d.downState.x,k=d.downState.y,b=f+.5*(b-1.1*b),c=k+.5*(c-1.1*c),d.tween=LTweenLite.to(d.downState,.3,{x:b,y:c,scaleX:1.1*d._ll_down_sx,scaleY:1.1*d._ll_down_sy,ease:Quart.easeOut}).to(d.downState,.1,{x:f,y:k,scaleX:d._ll_down_sx,scaleY:d._ll_down_sy,ease:Quart.easeOut,onComplete:h}))))},ll_modeOver:function(d){d=d.clickTarget;d.buttonMode&&(d.tween?d._tweenOver=d.ll_modeOver:d.state==
a.STATE_DISABLE?(d.upState.visible=!1,d.overState.visible=!1,d.downState.visible=!1,d.disableState.visible=!0):(d.upState.visible=!1,d.downState.visible=!1,d.overState.visible=!0,LGlobal.os==OS_PC&&d._ll_cursorEnabled&&(document.body.style.cursor="pointer")))},ll_modeOut:function(d){d=d.clickTarget;d.buttonMode&&(d.tween?d._tweenOver=d.ll_modeOut:d.state==a.STATE_DISABLE?(d.upState.visible=!1,d.overState.visible=!1,d.downState.visible=!1,d.disableState.visible=!0):(d.overState.visible=!1,d.downState.visible=
!1,d.upState.visible=!0,LGlobal.os==OS_PC&&d._ll_cursorEnabled&&(document.body.style.cursor="default")))},setCursorEnabled:function(a){this._ll_cursorEnabled=a;a||"default"==document.body.style.cursor||(document.body.style.cursor="default")},clone:function(){return new a(this.upState.clone(),this.overState.clone(),this.downState.clone(),this.disableState.clone())},die:function(){LGlobal.os!=OS_PC||this.upState.visible||(document.body.style.cursor="default");LMouseEventContainer.container[LMouseEvent.MOUSE_MOVE]&&
LMouseEventContainer.removeButton(this);this.callParent("die",arguments)}},b;for(b in c)a.prototype[b]=c[b];return a}();function LBlendMode(){throw"LBlendMode cannot be instantiated";}LBlendMode.SOURCE_OVER="source-over";LBlendMode.SOURCE_ATOP="source-atop";LBlendMode.SOURCE_IN="source-in";LBlendMode.SOURCE_OUT="source-out";LBlendMode.DESTINATION_OVER="destination-over";LBlendMode.DESTINATION_ATOP="destination-atop";LBlendMode.DESTINATION_IN="destination-in";LBlendMode.DESTINATION_OUT="destination-out";
LBlendMode.LIGHTER="lighter";LBlendMode.COPY="copy";LBlendMode.XOR="xor";LBlendMode.NONE=null;LBlendMode.NORMAL=null;var LTextFieldType=function(){throw"LTextFieldType cannot be instantiated";};LTextFieldType.INPUT="input";LTextFieldType.DYNAMIC=null;
var LTextField=function(){function a(){LExtends(this,LInteractiveObject,[]);this.type="LTextField";this.texttype=null;this.text="";this.font="Arial";this.size="11";this.color="#000000";this.weight="normal";this.textAlign="left";this.textBaseline="top";this.heightMode=a.HEIGHT_MODE_BOTTOM;this.stroke=!1;this.lineWidth=1;this.lineColor="#000000";this.width=150;this.height=this.size;this.multiline=this.wordWrap=this.displayAsPassword=!1;this.numLines=1;this.speed=0;this._speedIndex=100}a.HEIGHT_MODE_BOTTOM=
"bottom";a.HEIGHT_MODE_BASELINE="baseline";var c={_showReady:function(a){a.font=this.weight+" "+this.size+"pt "+this.font;a.textAlign=this.textAlign;a.textBaseline=this.textBaseline},_ll_show:function(a){var b,c,f,k,h,g,n;if(this.texttype==LTextFieldType.INPUT&&(this.inputBackLayer.ll_show(),b=this.getRootCoordinate(),LGlobal.inputBox.name=="input"+this.objectIndex&&(LGlobal.inputBox.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+((b.y+this.inputBackLayer.startY())*parseInt(LGlobal.canvasObj.style.height)/
LGlobal.canvasObj.height>>>0)+"px",LGlobal.inputBox.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+((b.x+this.inputBackLayer.startX())*parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width>>>0)+"px"),LGlobal.inputTextField&&LGlobal.inputTextField.objectIndex==this.objectIndex))return;b=this.text;if(this.displayAsPassword)for(b="",c=0,k=this.text.length;c<k;c++)b+="*";a.fillStyle=this.color;this.stroke&&(a.strokeStyle=this.lineColor,a.lineWidth=this.lineWidth+1);if(this.wordWrap||
this.multiline){c=g=h=0;for(k=this.text.length;c<k;c++){f=a.measureText(this.text.substr(h,c-h)).width;n=/(?:\r\n|\r|\n|\u00a5n)/.exec(b.substr(c,1));if(this.wordWrap&&f>this.width||n)f=0,h=c,g++,n&&h++;n||(this.stroke&&a.strokeText(b.substr(c,1),f,g*this.wordHeight,a.measureText(b).width),a.fillText(b.substr(c,1),f,g*this.wordHeight,a.measureText(b).width));this.numLines=g}this.height=(g+1)*this.wordHeight}else this.numLines=1,this.stroke&&a.strokeText(b,0,0,a.measureText(b).width),a.fillText(b,
0,0,a.measureText(b).width);this.windRunning&&this._ll_windRun()},_wordHeight:function(a){0<a?this.wordHeight=a:(this.wordWrap=!1,this.wordHeight=this.getHeight());this.height=0},setMultiline:function(a,b){a&&this._wordHeight(b);this.multiline=a},setWordWrap:function(a,b){a&&this._wordHeight(b);this.wordWrap=a},setType:function(a,b){this.texttype!=a&&a==LTextFieldType.INPUT?(null==b||"LSprite"!=b.type?(this.inputBackLayer=new LSprite,this.inputBackLayer.graphics.drawRect(1,"#000000",[0,.4*-this.getHeight(),
this.width,1.5*this.getHeight()])):this.inputBackLayer=b,this.inputBackLayer.parent=this,LMouseEventContainer.container[LMouseEvent.MOUSE_DOWN]&&LMouseEventContainer.pushInputBox(this)):(this.inputBackLayer=null,LMouseEventContainer.removeInputBox(this));this.texttype=a},ismouseon:function(a,b){if(!a||!this.visible)return!1;b||(b={x:0,y:0,scaleX:1,scaleY:1});return this.mask&&(this.mask.parent||(this.mask.parent=this.parent),!this.mask.ismouseon(a,b))?!1:this.inputBackLayer?this.inputBackLayer.ismouseon(a,
{x:this.x*b.scaleX+b.x,y:this.y*b.scaleY+b.y,scaleX:b.scaleX*this.scaleX,scaleY:b.scaleY*this.scaleY}):this.ismouseonShapes([{type:LShape.RECT,arg:[0,0,this._getWidth(),this._getHeight()]}],a.offsetX,a.offsetY)},clone:function(){var d=new a;d.copyProperty(this);d.texttype=null;this.texttype==LTextFieldType.INPUT&&d.setType(LTextFieldType.INPUT);return d},mouseEvent:function(a,b,c){null!=this.inputBackLayer&&(a=this.ismouseon(a,c),b==LMouseEvent.MOUSE_DOWN&&a&&this.focus())},_ll_getValue:function(){LGlobal.inputBox.style.display!=
NONE&&(LGlobal.inputTextField.text=LGlobal.inputTextBox.value,LEvent.removeEventListener(LGlobal.inputTextBox,LKeyboardEvent.KEY_DOWN,LGlobal.inputTextField._ll_input),LGlobal.inputBox.style.display=NONE,LGlobal.inputTextField.dispatchEvent(LFocusEvent.FOCUS_OUT),LGlobal.inputTextField=null)},updateInput:function(){this.texttype==LTextFieldType.INPUT&&LGlobal.inputTextField.objectIndex==this.objectIndex&&(LGlobal.inputTextBox.value=LGlobal.inputTextField.text)},_ll_input:function(a){var b=new LEvent(LTextEvent.TEXT_INPUT);
b.keyCode=a.keyCode;LGlobal.inputTextField.text=LGlobal.inputTextBox.value;LGlobal.inputTextField.hasEventListener(LTextEvent.TEXT_INPUT)?a.returnValue=LGlobal.inputTextField.dispatchEvent(b):a.returnValue=!0},focus:function(){var a,b;this.parent&&this.texttype==LTextFieldType.INPUT&&(LGlobal.inputTextField&&LGlobal.inputTextField.objectIndex!=this.objectIndex&&this._ll_getValue(),this.dispatchEvent(LFocusEvent.FOCUS_IN),a=this.getAbsoluteScale(),LGlobal.inputBox.style.display="",LGlobal.inputBox.name=
"input"+this.objectIndex,LGlobal.inputTextField=this,LGlobal.inputTextareaBoxObj.style.display=NONE,LGlobal.inputTextBoxObj.style.display=NONE,LGlobal.passwordBoxObj.style.display=NONE,LGlobal.inputTextBox=this.displayAsPassword?LGlobal.passwordBoxObj:this.multiline?LGlobal.inputTextareaBoxObj:LGlobal.inputTextBoxObj,b=parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width,sy=parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height,LGlobal.inputTextBox.style.display="",LGlobal.inputTextBox.value=
this.text,LGlobal.inputTextBox.style.height=this.inputBackLayer.getHeight()*a.scaleY*this.scaleY*sy+"px",LGlobal.inputTextBox.style.width=this.inputBackLayer.getWidth()*a.scaleX*this.scaleX*b+"px",LGlobal.inputTextBox.style.color=this.color,LGlobal.inputTextBox.style.fontSize=(this.size*parseFloat(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height>>0)+"px",LGlobal.inputTextBox.style.fontFamily=this.font,LEvent.addEventListener(LGlobal.inputTextBox,LKeyboardEvent.KEY_DOWN,LGlobal.inputTextField._ll_input),
this.texttype==LTextFieldType.INPUT&&(rc=this.getRootCoordinate(),LGlobal.inputBox.name=="input"+this.objectIndex&&(LGlobal.inputBox.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+((rc.y+this.inputBackLayer.startY())*parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height>>>0)+"px",LGlobal.inputBox.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+((rc.x+this.inputBackLayer.startX())*parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width>>>0)+"px")),setTimeout(function(){LGlobal.inputTextBox.focus()},
0))},_getWidth:function(){if(this.wordWrap)return this.width;LGlobal.canvas.font=this.size+"pt "+this.font;return LGlobal.canvas.measureText(this.text).width},getWidth:function(a){var b,c;b=this._getWidth()*this.scaleX;if(a&&this.mask){a=this.mask._startX?this.mask._startX():this.mask.startX();if(a>b)return 0;c=this.mask.getWidth();return a+c>b?b-a:c}return b},_getHeight:function(){var d=LGlobal.canvas,b,c,f,k,h,g;if(this.wordWrap){d.font=this.weight+" "+this.size+"pt "+this.font;if(0==this.height){b=
h=k=0;for(c=this.text.length;b<c;b++)if(f=d.measureText(this.text.substr(k,b-k)).width,g=/(?:\r\n|\r|\n|\u00a5n)/.exec(this.text.substr(b,1)),this.wordWrap&&f>this.width||g)k=b,h++,g&&k++;this.height=(h+1)*this.wordHeight}return this.height}d.font=this.weight+" "+this.size+"pt "+this.font;c=1.2*d.measureText("O").width;this.heightMode==a.HEIGHT_MODE_BASELINE&&(c*=1.2);return c},getHeight:function(a){var b,c;b=this._getHeight()*this.scaleY;if(a&&this.mask){a=this.mask._startY?this.mask._startY():this.mask.startY();
if(a>b)return 0;c=this.mask.getHeight();return a+c>b?b-a:c}return b},wind:function(a){this.wind_over_function=a;this.windRunning=!0;this._ll_wind_text=this.text;this.text="";this._ll_wind_length=0},_ll_windRun:function(){this._speedIndex++<this.speed||(this._speedIndex=0,this._ll_wind_length>this._ll_wind_text.length?(this.windRunning=!1,this.wind_over_function&&this.wind_over_function(),this.dispatchEvent(new LEvent(LTextEvent.WIND_COMPLETE))):(this.text=this._ll_wind_text.substring(0,this._ll_wind_length),
this._ll_wind_length++))},die:function(){LMouseEventContainer.removeInputBox(this)}},b;for(b in c)a.prototype[b]=c[b];return a}(),LBitmap=function(){function a(a){LExtends(this,LDisplayObject,[]);this.type="LBitmap";this.rotateCenter=!0;if(this.bitmapData=a)this.width=this.bitmapData.width,this.height=this.bitmapData.height}var c={_canShow:function(){return this.visible&&this.bitmapData},_rotateReady:function(){0!=this.rotate&&this.rotateCenter?(this.rotatex=.5*this.getWidth(),this.rotatey=.5*this.getHeight()):
this.rotatex=this.rotatey=0},_coordinate:function(a){},_ll_show:function(){this.ll_draw()},ll_draw:function(){LGlobal.canvas.drawImage(this.bitmapData.image,this.bitmapData.x,this.bitmapData.y,this.bitmapData.width,this.bitmapData.height,this.x,this.y,this.bitmapData.width,this.bitmapData.height)},clone:function(){var b=new a(this.bitmapData.clone());b.copyProperty(this);b.rotateCenter=this.rotateCenter;return b},ismouseon:function(a,b){return a&&this.visible&&this.bitmapData&&(!this.mask||(this.mask.parent||
(this.mask.parent=this.parent),this.mask.ismouseon(a,b)))?this.ismouseonShapes([{type:LShape.RECT,arg:[0,0,this.bitmapData.width,this.bitmapData.height]}],a.offsetX,a.offsetY):!1},getWidth:function(a){var b,c;b=null!=this.bitmapData?this.bitmapData.width*(0<this.scaleX?this.scaleX:-this.scaleX):0;if(a&&this.mask){a=this.mask._startX?this.mask._startX():this.mask.startX();if(a>b)return 0;c=this.mask.getWidth();return a+c>b?b-a:c}return b},getHeight:function(a){var b,c;b=null!=this.bitmapData?this.bitmapData.height*
(0<this.scaleY?this.scaleY:-this.scaleY):0;if(a&&this.mask){a=this.mask._startY?this.mask._startY():this.mask.startY();if(a>b)return 0;c=this.mask.getHeight();return a+c>b?b-a:c}return b},startX:function(){return this.x},startY:function(){return this.y},die:function(){}},b;for(b in c)a.prototype[b]=c[b];return a}(),LBitmapData=function(){function a(b,c,m,f,k,h){LExtends(this,LObject,[]);this.type="LBitmapData";typeof h==UNDEFINED&&(h=a.DATA_IMAGE);this.oncomplete=null;this._setPixel=this._locked=
!1;this.x=null==c?0:c;this.y=null==m?0:m;this.height=this.width=0;this.dataType=null;if(b&&"object"==typeof b)this.image=b,this.dataType=a.DATA_IMAGE,this.width=null==f?this.image.width:f,this.height=null==k?this.image.height:k,this._setDataType(h);else{this._createCanvas();this.dataType=a.DATA_CANVAS;this._canvas.width=this.width=null==f?1:f;this._canvas.height=this.height=null==k?1:k;"string"==typeof b&&(b=parseInt(b.replace("#","0x")));if("number"==typeof b){c=this._context.createImageData(this.width,
this.height);for(m=0;m<c.data.length;m+=4)c.data[m+0]=b>>16&255,c.data[m+1]=b>>8&255,c.data[m+2]=b&255,c.data[m+3]=255;this._context.putImageData(c,0,0)}this.image=this._canvas;h==a.DATA_IMAGE&&this._setDataType(h)}this.resize()}a.DATA_IMAGE="data_image";a.DATA_CANVAS="data_canvas";var c={_setDataType:function(b){this.dataType!=b&&(b==a.DATA_CANVAS?(this._createCanvas(),this._canvas.width=this.image.width,this._canvas.height=this.image.height,this._context.clearRect(0,0,this._canvas.width,this._canvas.height),
this._context.drawImage(this.image,0,0),this.image=this._canvas):b==a.DATA_IMAGE&&(this.image=new Image,this.image.width=this._canvas.width,this.image.height=this._canvas.height,this.image.src=this._canvas.toDataURL()),this.dataType=b)},_createCanvas:function(){this._canvas||(this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"))},setProperties:function(a,b,c,f){this.x=a;this.y=b;this.width=c;this.height=f;this.resize()},setCoordinate:function(a,b){this.x=a;this.y=
b;this.resize()},clone:function(){return new a(this.image,this.x,this.y,this.width,this.height,this.dataType)},_ready:function(){this._dataType=this.dataType;this._setDataType(a.DATA_CANVAS);this._data=this._context.getImageData(this.x,this.y,this.width,this.height)},_update:function(){this._context.putImageData(this._data,this.x,this.y,0,0,this.width,this.height);this._setDataType(this._dataType)},getPixel:function(a,b,c){a>>=0;b>>=0;this._locked||this._ready();a=4*this.width*b+4*a;b=this._data.data;
this._locked||this._update();return"number"==c?b[a]<<16|b[a+1]<<8|b[a+2]:[b[a],b[a+1],b[a+2],b[a+3]]},setPixel:function(a,b,c){a>>=0;b>>=0;this._locked||this._ready();var f=this._data;a=4*this.width*b+4*a;"object"==typeof c?(f.data[a+0]=c[0],f.data[a+1]=c[1],f.data[a+2]=c[2],f.data[a+3]=c[3]):("string"==typeof c&&(c=parseInt(c.replace("#","0x"))),f.data[a+0]=c>>16&255,f.data[a+1]=c>>8&255,f.data[a+2]=c&255,f.data[a+3]=255);this._locked||this._update()},getPixels:function(a){this._locked||this._ready();
a=this._context.getImageData(this.x+a.x,this.y+a.y,a.width,a.height);this._locked||this._update();return a},setPixels:function(a,b){var c,f,k,h,g,n;this._locked||this._ready();k=this._data;if("object"==typeof b)for(h=this._canvas.width,g=a.x;g<a.right;g++)for(n=a.y;n<a.bottom;n++)c=4*h*(this.y+n)+4*(this.x+g),f=4*b.width*(n-a.y)+4*(g-a.x),k.data[c+0]=b.data[f+0],k.data[c+1]=b.data[f+1],k.data[c+2]=b.data[f+2],k.data[c+3]=b.data[f+3];else for("string"==typeof b&&(b=parseInt(b.replace("#","0x"))),b=
[b>>16&255,b>>8&255,b&255],h=this._canvas.width,g=a.x;g<a.right;g++)for(n=a.y;n<a.bottom;n++)c=4*h*(this.y+n)+4*(this.x+g),k.data[c+0]=b[0],k.data[c+1]=b[1],k.data[c+2]=b[2],k.data[c+3]=255;this._locked||this._update()},putPixels:function(b,c){this.dataType==a.DATA_CANVAS&&"object"==typeof c&&this._context.putImageData(c,this.x+b.x,this.y+b.y,0,0,b.width,b.height)},lock:function(){this._locked=!0;this._ready()},unlock:function(){this._locked=!1;this._update()},draw:function(b){this.dataType==a.DATA_CANVAS?
(this._context.clearRect(0,0,this.width,this.height),this._context.drawImage(b.getDataCanvas(),0,0)):this.dataType==a.DATA_IMAGE&&(this.image.src=b.getDataURL());this.resize()},resize:function(){var a=this.image.width-this.x,b=this.image.height-this.y;this.width=this.width<a?this.width:a;this.height=this.height<b?this.height:b}},b;for(b in c)a.prototype[b]=c[b];return a}(),LDropShadowFilter=function(){function a(a,b,c,f){LExtends(this,LObject,[]);this.type="LDropShadowFilter";this.distance=a?a:0;
this.angle=b?b:0;this.shadowColor=c?c:"#000000";this.shadowBlur=f?f:20;this.setShadowOffset()}var c={setShadowOffset:function(){var a=this.angle*Math.PI/180;this.shadowOffsetX=this.distance*Math.cos(a);this.shadowOffsetY=this.distance*Math.sin(a)},ll_show:function(){var a=LGlobal.canvas;a.shadowColor=this.shadowColor;a.shadowBlur=this.shadowBlur;a.shadowOffsetX=this.shadowOffsetX;a.shadowOffsetY=this.shadowOffsetY},setDistance:function(a){this.distance=a;this.setShadowOffset()},setAngle:function(a){this.angle=
a;this.setShadowOffset()},setColor:function(a){this.shadowColor=a},setBlur:function(a){this.shadowBlur=a}},b;for(b in c)a.prototype[b]=c[b];return a}(),LAnimation=function(){function a(a,b,c){LExtends(this,LSprite,[]);this.type="LAnimation";this._ll_stepIndex=this.colIndex=this.rowIndex=0;this._ll_stepArray=[];this.mode=1;this.isMirror=!1;this.bitmap=new LBitmap(b);this.imageArray=c;this.addChild(this.bitmap);null!=a&&a.addChild(this);this.onframe();this.colIndex=0}var c={setAction:function(a,b,c,
f){var k=!1;null!=a&&0<=a&&a<this.imageArray.length&&(this.rowIndex=a,k=!0);null!=b&&0<=b&&b<this.imageArray[a].length&&(this.colIndex=b,k=!0);null!=c&&(this.mode=c,k=!0);null!=f&&((this.isMirror=f)?(this.bitmap.x=this.bitmap.getWidth(),this.bitmap.scaleX=-1*Math.abs(this.bitmap.scaleX)):(this.bitmap.x=0,this.bitmap.scaleX=Math.abs(this.bitmap.scaleX)),k=!0);k&&(this._ll_stepIndex=0)},getAction:function(){return[this.rowIndex,this.colIndex,this.mode,this.isMirror]},onframe:function(){var a=this.imageArray[this.rowIndex][this.colIndex],
b=null,b=this._ll_stepArray[this.rowIndex]&&this._ll_stepArray[this.rowIndex][this.colIndex]?this._ll_stepArray[this.rowIndex][this.colIndex]:0;0==this._ll_stepIndex&&("function"==typeof a.script&&a.script(this,a.params),typeof a.width!=UNDEFINED&&typeof a.height!=UNDEFINED?this.bitmap.bitmapData.setProperties(a.x,a.y,a.width,a.height):this.bitmap.bitmapData.setCoordinate(a.x,a.y),typeof a.sx!=UNDEFINED&&(this.bitmap.x=a.sx),typeof a.sy!=UNDEFINED&&(this.bitmap.y=a.sy));!(this._ll_stepIndex++<b)&&
(this._ll_stepIndex=0,this.colIndex+=this.mode,this.colIndex>=this.imageArray[this.rowIndex].length||0>this.colIndex)&&(this.colIndex=0<this.mode?0:this.imageArray[this.rowIndex].length-1,this.dispatchEvent(LEvent.COMPLETE))},clone:function(){var b=new a(null,this.bitmap.bitmapData,this.imageArray.slice(0));b.copyProperty(this);b.childList.length=0;b.bitmap=this.bitmap.clone();b.addChild(b.bitmap);return b}},b;for(b in c)a.prototype[b]=c[b];return a}(),LAnimationTimeline=function(){function a(a,b){LExtends(this,
LAnimation,[null,a,b]);this.type="LAnimationTimeline";this._speedIndex=this.speed=0;this.ll_labelList={};this.addEventListener(LEvent.ENTER_FRAME,this._ll_onframe)}var c={clone:function(){var a,b,c=new LAnimation(null,this.bitmap.bitmapData,this.imageArray.slice(0));c.copyProperty(this);c.childList.length=0;c.bitmap=this.bitmap.clone();c.addChild(c.bitmap);for(a in this.ll_labelList)b=this.ll_labelList[a],c.ll_labelList[a]={rowIndex:b.rowIndex,colIndex:b.colIndex,mode:b.mode,isMirror:b.isMirror};
return c},setFrameSpeedAt:function(a,b,c){this._ll_stepArray[a]||(this._ll_stepArray[a]=[]);this._ll_stepArray[a][b]=c},_ll_onframe:function(a){a=a.target;a._ll_stop||a._speedIndex++<a.speed||(a._speedIndex=0,a.onframe())},setLabel:function(a,b,c,f,k){this.ll_labelList[a]={rowIndex:b,colIndex:c,mode:f,isMirror:k}},play:function(){this._ll_stop=!1},stop:function(){this._ll_stop=!0},gotoAndPlay:function(a){a=this.ll_labelList[a];this.setAction(a.rowIndex,a.colIndex,a.mode,a.isMirror);this.play()},gotoAndStop:function(a){a=
this.ll_labelList[a];this.setAction(a.rowIndex,a.colIndex,a.mode,a.isMirror);this.stop()},addFrameScript:function(a,b,c){a=this.ll_labelList[a];a=this.imageArray[a.rowIndex][a.colIndex];a.script=b;a.params=c?c:null},removeFrameScript:function(a){a=this.ll_labelList[a];this.imageArray[a.rowIndex][a.colIndex].script=null}},b;for(b in c)a.prototype[b]=c[b];return a}(),LLoadManage=function(){function a(){this.llname="ll.file.";this.llload="ll.load."}a.prototype={load:function(a,b,d){this.list=a;this.onupdate=
b;this.oncomplete=d;this.loader=this;this.loadIndex=this.index=0;this.result=[];this.lresult=[];this.loadInit()},loadInit:function(){this.index>=this.list.length||(this.loadIndex=0,this.loadStart(),this.reloadtime=setTimeout(this.loadInit.bind(this),1E4))},loadStart:function(){var a,b;this.loadIndex>=this.list.length||(a=this.list[this.loadIndex],a.name||(a.name=this.llname+this.loadIndex),this.lresult[this.llload+a.name]||(a.type||(b=getExtension(a.path),"txt"==b?a.type=LURLLoader.TYPE_TEXT:"js"==
b?a.type=LURLLoader.TYPE_JS:0<=["mp3","ogg","wav","m4a"].indexOf(b)&&(a.type=LSound.TYPE_SOUND)),a.type==LURLLoader.TYPE_TEXT||a.type==LURLLoader.TYPE_JS?(this.loader=new LURLLoader,this.loader.name=a.name,this.loader.addEventListener(LEvent.COMPLETE,this.loadComplete.bind(this)),this.loader.load(this.url(a.path),a.type)):a.type==LSound.TYPE_SOUND?(this.loader=new LSound,this.loader.name=a.name,this.loader.addEventListener(LEvent.COMPLETE,this.loadComplete.bind(this)),this.loader.load(this.url(a.path))):
(this.loader=new LLoader,this.loader.name=a.name,this.loader.addEventListener(LEvent.COMPLETE,this.loadComplete.bind(this)),this.loader.load(this.url(a.path),LLoader.TYPE_BITMAPDATE))),this.loadIndex++,this.loadStart())},loadComplete:function(a){if(a&&a.currentTarget&&a.currentTarget.name){a.currentTarget.removeEventListener(LEvent.COMPLETE,this.loadComplete);0<=a.currentTarget.name.indexOf(this.llname)&&(a.target=1);if(this.lresult[this.llload+a.currentTarget.name])return;this.result[a.currentTarget.name]=
a.target;this.lresult[this.llload+a.currentTarget.name]=1}this.index++;if(this.onupdate)this.onupdate(Math.floor(100*this.index/this.list.length));this.index>=this.list.length&&(this.reloadtime&&clearTimeout(this.reloadtime),this.loader=null,a=this.result,LGlobal.forceRefresh=!0,this.oncomplete(a))},url:function(a){return LGlobal.traceDebug?a+(0<=a.indexOf("?")?"&":"?")+"t="+(new Date).getTime():a}};return new a}(),LEasing={None:{easeIn:function(a,c,b,d){return c+a*b/d},easeOut:function(a,c,b,d){return c+
a*b/d},easeInOut:function(a,c,b,d){return c+a*b/d}},Quad:{easeIn:function(a,c,b,d){return b*(a/=d)*a+c},easeOut:function(a,c,b,d){return-b*(a/=d)*(a-2)+c},easeInOut:function(a,c,b,d){return 1>(a/=d/2)?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c}},Cubic:{easeIn:function(a,c,b,d){return b*(a/=d)*a*a+c},easeOut:function(a,c,b,d){return b*((a=a/d-1)*a*a+1)+c},easeInOut:function(a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a+c:b/2*((a-=2)*a*a+2)+c}},Quart:{easeIn:function(a,c,b,d){return b*(a/=d)*a*a*a+c},easeOut:function(a,
c,b,d){return-b*((a=a/d-1)*a*a*a-1)+c},easeInOut:function(a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a+c:-b/2*((a-=2)*a*a*a-2)+c}},Quint:{easeIn:function(a,c,b,d){return b*(a/=d)*a*a*a*a+c},easeOut:function(a,c,b,d){return b*((a=a/d-1)*a*a*a*a+1)+c},easeInOut:function(a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a*a+c:b/2*((a-=2)*a*a*a*a+2)+c}},Sine:{easeIn:function(a,c,b,d){return-b*Math.cos(a/d*(Math.PI/2))+b+c},easeOut:function(a,c,b,d){return b*Math.sin(a/d*(Math.PI/2))+c},easeInOut:function(a,c,b,d){return-b/
2*(Math.cos(Math.PI*a/d)-1)+c}},Strong:{easeIn:function(a,c,b,d){return b*(a/=d)*a*a*a*a+c},easeOut:function(a,c,b,d){return b*((a=a/d-1)*a*a*a*a+1)+c},easeInOut:function(a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a*a+c:b/2*((a-=2)*a*a*a*a+2)+c}},Expo:{easeIn:function(a,c,b,d){return 0==a?c:b*Math.pow(2,10*(a/d-1))+c},easeOut:function(a,c,b,d){return a==d?c+b:b*(-Math.pow(2,-10*a/d)+1)+c},easeInOut:function(a,c,b,d){return 0==a?c:a==d?c+b:1>(a/=d/2)?b/2*Math.pow(2,10*(a-1))+c:b/2*(-Math.pow(2,-10*--a)+
2)+c}},Circ:{easeIn:function(a,c,b,d){return-b*(Math.sqrt(1-(a/=d)*a)-1)+c},easeOut:function(a,c,b,d){return b*Math.sqrt(1-(a=a/d-1)*a)+c},easeInOut:function(a,c,b,d){return 1>(a/=d/2)?-b/2*(Math.sqrt(1-a*a)-1)+c:b/2*(Math.sqrt(1-(a-=2)*a)+1)+c}},Elastic:{easeIn:function(a,c,b,d,e,m){if(0==a)return c;if(1==(a/=d))return c+b;m||(m=.3*d);!e||e<Math.abs(b)?(e=b,b=m/4):b=m/(2*Math.PI)*Math.asin(b/e);return-(e*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-b)*Math.PI/m))+c},easeOut:function(a,c,b,d,e,m){var f;
if(0==a)return c;if(1==(a/=d))return c+b;m||(m=.3*d);!e||e<Math.abs(b)?(e=b,f=m/4):f=m/(2*Math.PI)*Math.asin(b/e);return e*Math.pow(2,-10*a)*Math.sin(2*(a*d-f)*Math.PI/m)+b+c},easeInOut:function(a,c,b,d,e,m){var f;if(0==a)return c;if(2==(a/=d/2))return c+b;m||(m=.3*d*1.5);!e||e<Math.abs(b)?(e=b,f=m/4):f=m/(2*Math.PI)*Math.asin(b/e);return 1>a?-.5*e*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-f)*Math.PI/m)+c:e*Math.pow(2,-10*(a-=1))*Math.sin(2*(a*d-f)*Math.PI/m)*.5+b+c}},Back:{easeIn:function(a,c,b,d,e){typeof e==
UNDEFINED&&(e=1.70158);return b*(a/=d)*a*((e+1)*a-e)+c},easeOut:function(a,c,b,d,e){typeof e==UNDEFINED&&(e=1.70158);return b*((a=a/d-1)*a*((e+1)*a+e)+1)+c},easeInOut:function(a,c,b,d,e){typeof e==UNDEFINED&&(e=1.70158);return 1>(a/=d/2)?b/2*a*a*(((e*=1.525)+1)*a-e)+c:b/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+c}},Bounce:{easeIn:function(a,c,b,d){return b-LEasing.Bounce.easeOut(d-a,0,b,d)+c},easeOut:function(a,c,b,d){return(a/=d)<1/2.75?7.5625*b*a*a+c:a<2/2.75?b*(7.5625*(a-=1.5/2.75)*a+.75)+c:a<2.5/2.75?
b*(7.5625*(a-=2.25/2.75)*a+.9375)+c:b*(7.5625*(a-=2.625/2.75)*a+.984375)+c},easeInOut:function(a,c,b,d){return a<d/2?.5*LEasing.Bounce.easeIn(2*a,0,b,d)+c:.5*LEasing.Bounce.easeOut(2*a-d,0,b,d)+.5*b+c}}},Quad=LEasing.Quad,Cubic=LEasing.Cubic,Quart=LEasing.Quart,Quint=LEasing.Quint,Sine=LEasing.Sine,Strong=LEasing.Strong,Expo=LEasing.Expo,Circ=LEasing.Circ,Elastic=LEasing.Elastic,Back=LEasing.Back,Bounce=LEasing.Bounce,LTweenLite=function(){function a(a,b,c){LExtends(this,LObject,[]);this.type="LTweenLiteChild";
this.toNew=[];this.init(a,b,c)}function c(){LExtends(this,LObject,[]);this.type="LTweenLite"}var b={init:function(a,b,c){var d=null;this.target=a;this.duration=b||.001;this.duration*=1E3;this.vars=c;this.currentTime=0;this.delay=this.vars.delay||0;this.combinedTimeScale=this.vars.timeScale||1;this.active=0==this.duration&&0==this.delay;this.varsto={};this.varsfrom={};this.stop=!1;"function"!=typeof this.vars.ease&&(this.vars.ease=LEasing.None.easeIn);this.ease=this.vars.ease;delete this.vars.ease;
this.vars.onComplete&&(this.onComplete=this.vars.onComplete,delete this.vars.onComplete);this.vars.onUpdate&&(this.onUpdate=this.vars.onUpdate,delete this.vars.onUpdate);this.vars.onStart&&(this.onStart=this.vars.onStart,delete this.vars.onStart);for(d in this.vars)this.varsto[d]=this.vars[d],this.varsfrom[d]=this.target[d];this.currentTime-=1E3*this.delay},pause:function(){this.stop=!0},resume:function(){this.stop=!1},tween:function(){var a;if(!(this.stop||(this.currentTime+=LGlobal.speed,0>this.currentTime))){for(a in this.varsto){var b=
this.ease(this.currentTime,this.varsfrom[a],this.varsto[a]-this.varsfrom[a],this.duration);this.target[a]=b}this.onStart&&(this.onStart(this.target),delete this.onStart);if(this.currentTime>=this.duration){for(a in this.varsto)this.target[a]=this.varsto[a];this.onComplete&&(this.target.target=this.target,this.target.currentTarget=this,this.onComplete(this.target),delete this.target.currentTarget,delete this.target.target);return!0}if(this.onUpdate)this.onUpdate(this.target);return!1}},to:function(a,
b,c){this.toNew.push({target:a,duration:b,vars:c});return this},keep:function(){var a,b,c;if(0<this.toNew.length){a=this.toNew.shift();a.vars.loop&&(this.loop=!0);if(this.loop){b={};for(c in a.vars)b[c]=a.vars[c];this.to(a.target,a.duration,b)}this.init(a.target,a.duration,a.vars);return!0}return!1}},d;for(d in b)a.prototype[d]=b[d];b={tweens:[],ll_show:null,frame:function(){var a,b=this.tweens.length,c;for(a=0;a<b;a++)(c=this.tweens[a])&&c.tween&&c.tween()&&(this.tweens.splice(a,1),a--,b=this.tweens.length,
c.keep()&&this.add(c));0==this.tweens.length&&(this.ll_show=null)},to:function(b,c,d){if(b){var k=new a({},0,{});this.tweens.push(k);this.ll_show=this.frame;k.to(b,c,d);return k}},add:function(a){this.tweens.push(a)},remove:function(a){if(typeof a!=UNDEFINED)for(i=0,l=this.tweens.length;i<l;i++)if(a.objectIndex==this.tweens[i].objectIndex){this.tweens.splice(i,1);break}},removeAll:function(){this.tweens.splice(0,this.tweens.length)}};for(d in b)c.prototype[d]=b[d];b=new c;LGlobal.childList.push(b);
return b}(),LAjax=function(){function a(){this.responseType=null}a.prototype={TEXT:"text",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",get:function(a,b,d,e){this.getRequest("GET",a,b,d,e)},post:function(a,b,d,e){this.getRequest("POST",a,b,d,e)},getRequest:function(a,b,d,e,m){var f=this,k,h="",g="";f.err=m;var n=f.getHttp();if(n){if(d)for(k in d)h+=g+k+"="+d[k],g="&";"get"==a.toLowerCase()&&(b+=(0<=b.indexOf("?")?"&":"?")+h,h=null);n.open(a,b,!0);f.responseType&&(n.responseType=f.responseType,f.responseType=
f.TEXT);n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");n.onreadystatechange=function(){4==n.readyState&&(200<=n.status&&300>n.status||304===n.status?e&&(n.responseType==f.ARRAY_BUFFER||n.responseType==f.BLOB?e(n.response):0<n.responseText.length?e(n.responseText):e(null)):m&&m(n))};n.send(h)}},getHttp:function(){if(typeof XMLHttpRequest!=UNDEFINED)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){this.err||
this.err(b)}}return!1}};return new a}(),LStageWebView=function(){function a(){LExtends(this,LEventDispatcher,[]);this.display=document.createElement("div");this.iframe=document.createElement("iframe");this.display.style.position="absolute";this.display.style.marginTop="0px";this.display.style.marginLeft="0px";this.display.style.zIndex=11;this.display.appendChild(this.iframe);this.idAdded=!1}var c={loadURL:function(a){var b=this;b.iframe.src=a;b.iframe.onload=function(){b.dispatchEvent(LEvent.COMPLETE)}},
show:function(){this.idAdded||(LGlobal.object.appendChild(this.display),this.idAdded=!0);"none"==this.display.style.display&&(this.display.style.display="")},die:function(){LGlobal.object.removeChild(this.display);this.idAdded=!1},hide:function(){this.display.style.display="none"},setViewPort:function(a){var b=parseInt(LGlobal.canvasObj.style.width)/LGlobal.canvasObj.width,c=parseInt(LGlobal.canvasObj.style.height)/LGlobal.canvasObj.height;this.display.style.marginTop=parseInt(LGlobal.canvasObj.style.marginTop)+
(a.y*c>>>0)+"px";this.display.style.marginLeft=parseInt(LGlobal.canvasObj.style.marginLeft)+(a.x*b>>>0)+"px";this.iframe.style.width=this.display.style.width=(a.width*b>>>0)+"px";this.iframe.style.height=this.display.style.height=(a.height*c>>>0)+"px"}},b;for(b in c)a.prototype[b]=c[b];return a}(),FPS=function(){function a(){LExtends(this,LSprite,[]);this.fps=new LTextField;this.fpsCount=0;this.fpsTime=(new Date).getTime();this.fps.color="#ffffff";this.addChild(this.fps);this.addEventListener(LEvent.ENTER_FRAME,
this.showFPS)}a.prototype.showFPS=function(a){a.fpsCount++;var b=(new Date).getTime();1E3>b-a.fpsTime||(a.fps.text=Math.round(1E4*a.fpsCount/(b-a.fpsTime))/10,a.fpsTime=b,a.fpsCount=0,a.graphics.clear(),a.graphics.drawRect(0,"#000000",[0,0,a.fps.getWidth(),20],!0,"#000000"))};return a}();
function LoadingSample4(a,c,b){base(this,LSprite,[]);this.backgroundColor=null==c?"#000000":c;this.graphics.drawRect(1,this.backgroundColor,[0,0,LGlobal.width,LGlobal.height],!0,this.backgroundColor);null==b&&(b="#FFFFFF");this.arc=new LSprite;this.arc.x=.5*LGlobal.width;this.arc.y=.5*LGlobal.height;this.addChild(this.arc);for(a=0;360>a;a++)this.arc.graphics.drawArc(1+a/36,b,[0,0,50,2*Math.PI/360*a,2*Math.PI/360*(a+2)]);this.progress=0;this.label=new LTextField;this.label.color=b;this.label.weight=
"bolder";this.label.size=18;this.label.x=.5*LGlobal.width;this.label.y=.5*LGlobal.height-.5*this.label.getHeight();this.addChild(this.label);b=new LDropShadowFilter(0,0,"#FFFFFF",30);this.arc.filters=[b];this.addEventListener(LEvent.ENTER_FRAME,this.onframe);this.setProgress(this.progress)}LoadingSample4.prototype.onframe=function(a){a.target.arc.rotate+=20};LoadingSample4.prototype.setProgress=function(a){100<a&&(a=100);this.progress=a;this.label.text=a+"%";this.label.x=.5*LGlobal.width-.5*this.label.getWidth()};